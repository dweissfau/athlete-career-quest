["^ ","~:output",["^ ","~:js","goog.provide('com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing');\r\n\r\n/**\r\n * Removes the send node (if present) from the send queue on the given remote.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.remove_send_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$remove_send_BANG_(p__49067,remote,txn_id,ele_idx){\r\nvar map__49068 = p__49067;\r\nvar map__49068__$1 = cljs.core.__destructure_map(map__49068);\r\nvar app__$1 = map__49068__$1;\r\nvar runtime_atom = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49068__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772));\r\nvar map__49073 = cljs.core.deref(runtime_atom);\r\nvar map__49073__$1 = cljs.core.__destructure_map(map__49073);\r\nvar send_queues = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49073__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queues\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queues\",-1776480807));\r\nvar old_queue = cljs.core.get.cljs$core$IFn$_invoke$arity$2(send_queues,remote);\r\nvar queue = cljs.core.filterv((function (p__49074){\r\nvar map__49075 = p__49074;\r\nvar map__49075__$1 = cljs.core.__destructure_map(map__49075);\r\nvar id = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49075__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423));\r\nvar idx = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49075__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"idx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/idx\",-1121773698));\r\nreturn (!(((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(txn_id,id)) && (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(ele_idx,idx)))));\r\n}),old_queue);\r\nreturn cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(runtime_atom,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queues\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queues\",-1776480807),remote], null),queue);\r\n});\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing._STAR_remove_send_STAR_ = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.remove_send_BANG_;\r\n/**\r\n * Returns the remotes map from an app\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.app__GT_remotes = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$app__GT_remotes(app__$1){\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remotes\",\"com.fulcrologic.fulcro.application/remotes\",1823703517)], null);\r\n\r\nreturn new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remotes\",\"com.fulcrologic.fulcro.application/remotes\",1823703517).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772).cljs$core$IFn$_invoke$arity$1(app__$1)));\r\n});\r\n/**\r\n * Returns a set of the names of the remotes from an app\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.app__GT_remote_names = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$app__GT_remote_names(app__$1){\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remote-names\",\"com.fulcrologic.fulcro.application/remote-names\",1017468926)], null);\r\n\r\nreturn cljs.core.set(cljs.core.keys(new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remotes\",\"com.fulcrologic.fulcro.application/remotes\",1823703517).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772).cljs$core$IFn$_invoke$arity$1(app__$1)))));\r\n});\r\n/**\r\n * Splits the given send queue into two send queues:\r\n *   [parallel-items sequential-items].\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.extract_parallel = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$extract_parallel(sends){\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(\"cljs.spec.alpha\",\"conform-all\",\"cljs.spec.alpha/conform-all\",45201917),true,new cljs.core.Keyword(null,\"kind\",\"kind\",-717265803),cljs.core.vector_QMARK_,new cljs.core.Keyword(\"cljs.spec.alpha\",\"kind-form\",\"cljs.spec.alpha/kind-form\",-1047104697),new cljs.core.Symbol(\"cljs.core\",\"vector?\",\"cljs.core/vector?\",-1550392028,null),new cljs.core.Keyword(\"cljs.spec.alpha\",\"describe\",\"cljs.spec.alpha/describe\",1883026911),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"coll-of\",\"cljs.spec.alpha/coll-of\",1019430407,null),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157),new cljs.core.Keyword(null,\"kind\",\"kind\",-717265803),new cljs.core.Symbol(\"cljs.core\",\"vector?\",\"cljs.core/vector?\",-1550392028,null)),new cljs.core.Keyword(\"cljs.spec.alpha\",\"cpred\",\"cljs.spec.alpha/cpred\",-693471218),(function (G__49104){\r\nreturn cljs.core.vector_QMARK_(G__49104);\r\n})], null),null),com.fulcrologic.guardrails.core._EQ__GT_,cljs.spec.alpha.cat_impl(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"rest\",\"rest\",-1241696419)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421)], null))], null);\r\n\r\nvar parallel_QMARK_ = (function (p__49106){\r\nvar map__49107 = p__49106;\r\nvar map__49107__$1 = cljs.core.__destructure_map(map__49107);\r\nvar options = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49107__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420));\r\nreturn cljs.core.boolean$((function (){var or__5045__auto__ = new cljs.core.Keyword(null,\"parallel?\",\"parallel?\",-25273892).cljs$core$IFn$_invoke$arity$1(options);\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"parallel?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/parallel?\",1623289535).cljs$core$IFn$_invoke$arity$1(options);\r\n}\r\n})());\r\n});\r\nvar map__49105 = cljs.core.group_by(parallel_QMARK_,sends);\r\nvar map__49105__$1 = cljs.core.__destructure_map(map__49105);\r\nvar parallel = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49105__$1,true);\r\nvar sequential = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49105__$1,false);\r\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.vec(parallel),cljs.core.vec(sequential)], null);\r\n});\r\n/**\r\n * Check if the given `test` predicate is true for an AST node or for all the immediate children of an AST tree.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.every_ast_QMARK_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$every_ast_QMARK_(ast_node_or_tree,test){\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373),cljs.core.fn_QMARK_,com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.boolean_QMARK_], null);\r\n\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"root\",\"root\",-448657453),new cljs.core.Keyword(null,\"type\",\"type\",1174270348).cljs$core$IFn$_invoke$arity$1(ast_node_or_tree))){\r\nreturn cljs.core.every_QMARK_(test,new cljs.core.Keyword(null,\"children\",\"children\",-940561982).cljs$core$IFn$_invoke$arity$1(ast_node_or_tree));\r\n} else {\r\nreturn (test.cljs$core$IFn$_invoke$arity$1 ? test.cljs$core$IFn$_invoke$arity$1(ast_node_or_tree) : test.call(null,ast_node_or_tree));\r\n}\r\n});\r\n/**\r\n * Returns true if the given AST node or tree represents a mutation or sequence of mutations.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.mutation_ast_QMARK_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$mutation_ast_QMARK_(ast_node_or_tree){\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373),com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.boolean_QMARK_], null);\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.every_ast_QMARK_(ast_node_or_tree,(function (p1__49109_SHARP_){\r\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"call\",\"call\",-519999866),new cljs.core.Keyword(null,\"type\",\"type\",1174270348).cljs$core$IFn$_invoke$arity$1(p1__49109_SHARP_));\r\n}));\r\n});\r\n/**\r\n * Returns true if the given AST node or tree represents a mutation or sequence of mutations.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.query_ast_QMARK_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$query_ast_QMARK_(ast_node_or_tree){\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373),com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.boolean_QMARK_], null);\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.every_ast_QMARK_(ast_node_or_tree,(function (p1__49113_SHARP_){\r\nreturn cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"call\",\"call\",-519999866),new cljs.core.Keyword(null,\"type\",\"type\",1174270348).cljs$core$IFn$_invoke$arity$1(p1__49113_SHARP_));\r\n}));\r\n});\r\n/**\r\n * Sort function on a send queue. Leaves any active nodes in front, and sorts the remainder of the queue so that writes\r\n *   appear before reads, without changing the relative order in blocks of reads/writes.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.sort_queue_writes_before_reads = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$sort_queue_writes_before_reads(send_queue){\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421)], null);\r\n\r\nvar vec__49116 = cljs.core.split_with(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active?\",966679517),send_queue);\r\nvar active_queue = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49116,(0),null);\r\nvar send_queue__$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49116,(1),null);\r\nvar id_sequence = cljs.core.mapv.cljs$core$IFn$_invoke$arity$2((function (n){\r\nreturn new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(cljs.core.first(n));\r\n}),cljs.core.partition_by.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423),send_queue__$1));\r\nvar clusters = cljs.core.group_by(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423),cljs.core.vec(send_queue__$1));\r\nvar map__49119 = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (result,id){\r\nvar vec__49123 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(clusters,id);\r\nvar seq__49124 = cljs.core.seq(vec__49123);\r\nvar first__49125 = cljs.core.first(seq__49124);\r\nvar seq__49124__$1 = cljs.core.next(seq__49124);\r\nvar map__49126 = first__49125;\r\nvar map__49126__$1 = cljs.core.__destructure_map(map__49126);\r\nvar n = map__49126__$1;\r\nvar ast = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49126__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373));\r\nvar _ = seq__49124__$1;\r\nvar cluster = vec__49123;\r\nif((ast == null)){\r\nreturn result;\r\n} else {\r\nif(cljs.core.truth_(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.query_ast_QMARK_(ast))){\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$4(result,new cljs.core.Keyword(null,\"reads\",\"reads\",-1215067361),cljs.core.into,cluster);\r\n} else {\r\nif(cljs.core.truth_(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.mutation_ast_QMARK_(ast))){\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$4(result,new cljs.core.Keyword(null,\"writes\",\"writes\",-102226269),cljs.core.into,cluster);\r\n} else {\r\nreturn result;\r\n\r\n}\r\n}\r\n}\r\n}),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"reads\",\"reads\",-1215067361),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,\"writes\",\"writes\",-102226269),cljs.core.PersistentVector.EMPTY], null),id_sequence);\r\nvar map__49119__$1 = cljs.core.__destructure_map(map__49119);\r\nvar reads = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49119__$1,new cljs.core.Keyword(null,\"reads\",\"reads\",-1215067361));\r\nvar writes = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49119__$1,new cljs.core.Keyword(null,\"writes\",\"writes\",-102226269));\r\nvar send_queue__$2 = cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY,cljs.core.concat.cljs$core$IFn$_invoke$arity$variadic(active_queue,writes,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([reads], 0)));\r\nreturn send_queue__$2;\r\n});\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.top_keys = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$top_keys(p__49129){\r\nvar map__49130 = p__49129;\r\nvar map__49130__$1 = cljs.core.__destructure_map(map__49130);\r\nvar ast = map__49130__$1;\r\nvar type = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49130__$1,new cljs.core.Keyword(null,\"type\",\"type\",1174270348));\r\nvar key = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49130__$1,new cljs.core.Keyword(null,\"key\",\"key\",-1516042587));\r\nvar children = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49130__$1,new cljs.core.Keyword(null,\"children\",\"children\",-940561982));\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373),com.fulcrologic.guardrails.core._EQ__GT_,cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(new cljs.core.Keyword(\"edn-query-language.ast\",\"key\",\"edn-query-language.ast/key\",973476796),new cljs.core.Keyword(\"edn-query-language.ast\",\"key\",\"edn-query-language.ast/key\",973476796),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(\"cljs.spec.alpha\",\"conform-all\",\"cljs.spec.alpha/conform-all\",45201917),true,new cljs.core.Keyword(\"cljs.spec.alpha\",\"kind-form\",\"cljs.spec.alpha/kind-form\",-1047104697),null,new cljs.core.Keyword(\"cljs.spec.alpha\",\"describe\",\"cljs.spec.alpha/describe\",1883026911),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"coll-of\",\"cljs.spec.alpha/coll-of\",1019430407,null),new cljs.core.Keyword(\"edn-query-language.ast\",\"key\",\"edn-query-language.ast/key\",973476796)),new cljs.core.Keyword(\"cljs.spec.alpha\",\"cpred\",\"cljs.spec.alpha/cpred\",-693471218),(function (G__49131){\r\nreturn cljs.core.coll_QMARK_(G__49131);\r\n})], null),null)], null);\r\n\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"root\",\"root\",-448657453),type)){\r\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$3(cljs.core.PersistentHashSet.EMPTY,cljs.core.map.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,\"key\",\"key\",-1516042587)),children);\r\n} else {\r\nreturn cljs.core.PersistentHashSet.createAsIfByAssoc([key]);\r\n}\r\n});\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.create_combined_node = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$create_combined_node(app__$1,remote_name,p__49138){\r\nvar vec__49140 = p__49138;\r\nvar leader = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49140,(0),null);\r\nvar to_send = vec__49140;\r\nvar tx = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (acc,p__49146){\r\nvar map__49147 = p__49146;\r\nvar map__49147__$1 = cljs.core.__destructure_map(map__49147);\r\nvar ast = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49147__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373));\r\nvar tx = com.fulcrologic.fulcro.algorithms.do_not_use.ast__GT_query(ast);\r\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(acc,tx);\r\n}),cljs.core.PersistentVector.EMPTY,to_send);\r\nvar ast = edn_query_language.core.query__GT_ast(tx);\r\nvar options = new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420).cljs$core$IFn$_invoke$arity$1(leader);\r\nvar combined_node_id = com.fulcrologic.fulcro.algorithms.tempid.uuid.cljs$core$IFn$_invoke$arity$0();\r\nvar combined_node_idx = (0);\r\nvar remove_BANG_ = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing._STAR_remove_send_STAR_;\r\nvar combined_node = new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423),combined_node_id,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"idx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/idx\",-1121773698),combined_node_idx,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373),ast,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420),options,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"update-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/update-handler\",-1256285755),(function (combined_result){\r\nvar seq__49149 = cljs.core.seq(to_send);\r\nvar chunk__49150 = null;\r\nvar count__49151 = (0);\r\nvar i__49152 = (0);\r\nwhile(true){\r\nif((i__49152 < count__49151)){\r\nvar map__49165 = chunk__49150.cljs$core$IIndexed$_nth$arity$2(null,i__49152);\r\nvar map__49165__$1 = cljs.core.__destructure_map(map__49165);\r\nvar update_handler = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49165__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"update-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/update-handler\",-1256285755));\r\nif(cljs.core.truth_(update_handler)){\r\n(update_handler.cljs$core$IFn$_invoke$arity$1 ? update_handler.cljs$core$IFn$_invoke$arity$1(combined_result) : update_handler.call(null,combined_result));\r\n} else {\r\n}\r\n\r\n\r\nvar G__49749 = seq__49149;\r\nvar G__49750 = chunk__49150;\r\nvar G__49751 = count__49151;\r\nvar G__49752 = (i__49152 + (1));\r\nseq__49149 = G__49749;\r\nchunk__49150 = G__49750;\r\ncount__49151 = G__49751;\r\ni__49152 = G__49752;\r\ncontinue;\r\n} else {\r\nvar temp__5804__auto__ = cljs.core.seq(seq__49149);\r\nif(temp__5804__auto__){\r\nvar seq__49149__$1 = temp__5804__auto__;\r\nif(cljs.core.chunked_seq_QMARK_(seq__49149__$1)){\r\nvar c__5568__auto__ = cljs.core.chunk_first(seq__49149__$1);\r\nvar G__49753 = cljs.core.chunk_rest(seq__49149__$1);\r\nvar G__49754 = c__5568__auto__;\r\nvar G__49755 = cljs.core.count(c__5568__auto__);\r\nvar G__49756 = (0);\r\nseq__49149 = G__49753;\r\nchunk__49150 = G__49754;\r\ncount__49151 = G__49755;\r\ni__49152 = G__49756;\r\ncontinue;\r\n} else {\r\nvar map__49168 = cljs.core.first(seq__49149__$1);\r\nvar map__49168__$1 = cljs.core.__destructure_map(map__49168);\r\nvar update_handler = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49168__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"update-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/update-handler\",-1256285755));\r\nif(cljs.core.truth_(update_handler)){\r\n(update_handler.cljs$core$IFn$_invoke$arity$1 ? update_handler.cljs$core$IFn$_invoke$arity$1(combined_result) : update_handler.call(null,combined_result));\r\n} else {\r\n}\r\n\r\n\r\nvar G__49757 = cljs.core.next(seq__49149__$1);\r\nvar G__49758 = null;\r\nvar G__49759 = (0);\r\nvar G__49760 = (0);\r\nseq__49149 = G__49757;\r\nchunk__49150 = G__49758;\r\ncount__49151 = G__49759;\r\ni__49152 = G__49760;\r\ncontinue;\r\n}\r\n} else {\r\nreturn null;\r\n}\r\n}\r\nbreak;\r\n}\r\n}),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209),(function (p__49169){\r\nvar map__49170 = p__49169;\r\nvar map__49170__$1 = cljs.core.__destructure_map(map__49170);\r\nvar combined_result = map__49170__$1;\r\nvar body = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49170__$1,new cljs.core.Keyword(null,\"body\",\"body\",-2049205669));\r\n(remove_BANG_.cljs$core$IFn$_invoke$arity$4 ? remove_BANG_.cljs$core$IFn$_invoke$arity$4(app__$1,remote_name,combined_node_id,combined_node_idx) : remove_BANG_.call(null,app__$1,remote_name,combined_node_id,combined_node_idx));\r\n\r\nvar seq__49171 = cljs.core.seq(to_send);\r\nvar chunk__49172 = null;\r\nvar count__49173 = (0);\r\nvar i__49174 = (0);\r\nwhile(true){\r\nif((i__49174 < count__49173)){\r\nvar map__49198 = chunk__49172.cljs$core$IIndexed$_nth$arity$2(null,i__49174);\r\nvar map__49198__$1 = cljs.core.__destructure_map(map__49198);\r\nvar ast__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49198__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373));\r\nvar result_handler = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49198__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209));\r\nvar new_body_49762 = ((cljs.core.map_QMARK_(body))?cljs.core.select_keys(body,com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.top_keys(ast__$1)):body);\r\nvar result_49763 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(combined_result,new cljs.core.Keyword(null,\"body\",\"body\",-2049205669),new_body_49762);\r\nif(cljs.core.truth_((function (){var and__5043__auto__ = (function (){var or__5045__auto__ = goog.DEBUG;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn com.fulcrologic.fulcro.inspect.inspect_client.INSPECT;\r\n}\r\n})();\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"disabled\",com.fulcrologic.fulcro.inspect.inspect_client.INSPECT);\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})())){\r\ntry{var map__49207_49764 = result_49763;\r\nvar map__49207_49765__$1 = cljs.core.__destructure_map(map__49207_49764);\r\nvar status_code_49766 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49207_49765__$1,new cljs.core.Keyword(null,\"status-code\",\"status-code\",-1060410130));\r\nvar body_49767__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49207_49765__$1,new cljs.core.Keyword(null,\"body\",\"body\",-2049205669));\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2((200),status_code_49766)){\r\ncom.fulcrologic.fulcro.inspect.inspect_client.send_finished_BANG_(app__$1,remote_name,combined_node_id,body_49767__$1);\r\n} else {\r\ncom.fulcrologic.fulcro.inspect.inspect_client.send_failed_BANG_(app__$1,combined_node_id,cljs.core.str.cljs$core$IFn$_invoke$arity$1(status_code_49766));\r\n}\r\n}catch (e49204){var e_49768 = e49204;\r\n}} else {\r\n}\r\n\r\n(result_handler.cljs$core$IFn$_invoke$arity$1 ? result_handler.cljs$core$IFn$_invoke$arity$1(result_49763) : result_handler.call(null,result_49763));\r\n\r\n\r\nvar G__49769 = seq__49171;\r\nvar G__49770 = chunk__49172;\r\nvar G__49771 = count__49173;\r\nvar G__49772 = (i__49174 + (1));\r\nseq__49171 = G__49769;\r\nchunk__49172 = G__49770;\r\ncount__49173 = G__49771;\r\ni__49174 = G__49772;\r\ncontinue;\r\n} else {\r\nvar temp__5804__auto__ = cljs.core.seq(seq__49171);\r\nif(temp__5804__auto__){\r\nvar seq__49171__$1 = temp__5804__auto__;\r\nif(cljs.core.chunked_seq_QMARK_(seq__49171__$1)){\r\nvar c__5568__auto__ = cljs.core.chunk_first(seq__49171__$1);\r\nvar G__49773 = cljs.core.chunk_rest(seq__49171__$1);\r\nvar G__49774 = c__5568__auto__;\r\nvar G__49775 = cljs.core.count(c__5568__auto__);\r\nvar G__49776 = (0);\r\nseq__49171 = G__49773;\r\nchunk__49172 = G__49774;\r\ncount__49173 = G__49775;\r\ni__49174 = G__49776;\r\ncontinue;\r\n} else {\r\nvar map__49210 = cljs.core.first(seq__49171__$1);\r\nvar map__49210__$1 = cljs.core.__destructure_map(map__49210);\r\nvar ast__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49210__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373));\r\nvar result_handler = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49210__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209));\r\nvar new_body_49777 = ((cljs.core.map_QMARK_(body))?cljs.core.select_keys(body,com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.top_keys(ast__$1)):body);\r\nvar result_49778 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(combined_result,new cljs.core.Keyword(null,\"body\",\"body\",-2049205669),new_body_49777);\r\nif(cljs.core.truth_((function (){var and__5043__auto__ = (function (){var or__5045__auto__ = goog.DEBUG;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn com.fulcrologic.fulcro.inspect.inspect_client.INSPECT;\r\n}\r\n})();\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"disabled\",com.fulcrologic.fulcro.inspect.inspect_client.INSPECT);\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})())){\r\ntry{var map__49216_49779 = result_49778;\r\nvar map__49216_49780__$1 = cljs.core.__destructure_map(map__49216_49779);\r\nvar status_code_49781 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49216_49780__$1,new cljs.core.Keyword(null,\"status-code\",\"status-code\",-1060410130));\r\nvar body_49782__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49216_49780__$1,new cljs.core.Keyword(null,\"body\",\"body\",-2049205669));\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2((200),status_code_49781)){\r\ncom.fulcrologic.fulcro.inspect.inspect_client.send_finished_BANG_(app__$1,remote_name,combined_node_id,body_49782__$1);\r\n} else {\r\ncom.fulcrologic.fulcro.inspect.inspect_client.send_failed_BANG_(app__$1,combined_node_id,cljs.core.str.cljs$core$IFn$_invoke$arity$1(status_code_49781));\r\n}\r\n}catch (e49215){var e_49784 = e49215;\r\n}} else {\r\n}\r\n\r\n(result_handler.cljs$core$IFn$_invoke$arity$1 ? result_handler.cljs$core$IFn$_invoke$arity$1(result_49778) : result_handler.call(null,result_49778));\r\n\r\n\r\nvar G__49785 = cljs.core.next(seq__49171__$1);\r\nvar G__49786 = null;\r\nvar G__49787 = (0);\r\nvar G__49788 = (0);\r\nseq__49171 = G__49785;\r\nchunk__49172 = G__49786;\r\ncount__49173 = G__49787;\r\ni__49174 = G__49788;\r\ncontinue;\r\n}\r\n} else {\r\nreturn null;\r\n}\r\n}\r\nbreak;\r\n}\r\n}),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active?\",966679517),true], null);\r\nreturn combined_node;\r\n});\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.node_abort_id = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$node_abort_id(n){\r\nvar or__5045__auto__ = (function (){var G__49219 = n;\r\nvar G__49219__$1 = (((G__49219 == null))?null:new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420).cljs$core$IFn$_invoke$arity$1(G__49219));\r\nif((G__49219__$1 == null)){\r\nreturn null;\r\n} else {\r\nreturn new cljs.core.Keyword(null,\"abort-id\",\"abort-id\",1559937819).cljs$core$IFn$_invoke$arity$1(G__49219__$1);\r\n}\r\n})();\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nvar G__49220 = n;\r\nvar G__49220__$1 = (((G__49220 == null))?null:new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420).cljs$core$IFn$_invoke$arity$1(G__49220));\r\nif((G__49220__$1 == null)){\r\nreturn null;\r\n} else {\r\nreturn new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"abort-id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/abort-id\",2068829184).cljs$core$IFn$_invoke$arity$1(G__49220__$1);\r\n}\r\n}\r\n});\r\n/**\r\n * Returns true if the given transaction node represents one or more mutations.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.mutation_node_QMARK_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$mutation_node_QMARK_(p__49228){\r\nvar map__49229 = p__49228;\r\nvar map__49229__$1 = cljs.core.__destructure_map(map__49229);\r\nvar ast = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49229__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373));\r\nreturn ((cljs.core.map_QMARK_(ast)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"call\",\"call\",-519999866),new cljs.core.Keyword(null,\"type\",\"type\",1174270348).cljs$core$IFn$_invoke$arity$1(ast))) || (cljs.core.boolean$(cljs.core.some((function (p1__49226_SHARP_){\r\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"call\",\"call\",-519999866),new cljs.core.Keyword(null,\"type\",\"type\",1174270348).cljs$core$IFn$_invoke$arity$1(p1__49226_SHARP_));\r\n}),new cljs.core.Keyword(null,\"children\",\"children\",-940561982).cljs$core$IFn$_invoke$arity$1(ast)))))));\r\n});\r\n/**\r\n * Returns true when ALL of the ::txn/send-node entries in `to-send` can be batched into an existing batch.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.batchable_QMARK_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$batchable_QMARK_(to_send,leader){\r\nvar abort_id = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.node_abort_id(leader);\r\nreturn cljs.core.boolean$(((cljs.core.seq(to_send)) && (((cljs.core.every_QMARK_((function (n){\r\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(abort_id,com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.node_abort_id(n));\r\n}),to_send)) && (cljs.core.not(cljs.core.some(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.mutation_node_QMARK_,to_send)))))));\r\n});\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.batch_sends = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$batch_sends(app__$1,remote_name,send_queue){\r\nnew cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remote-name\",\"com.fulcrologic.fulcro.application/remote-name\",-1179129128),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421),com.fulcrologic.guardrails.core._EQ__GT_,cljs.spec.alpha.map_spec_impl(cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"req-un\",\"req-un\",1074571008),new cljs.core.Keyword(null,\"opt-un\",\"opt-un\",883442496),new cljs.core.Keyword(null,\"gfn\",\"gfn\",791517474),new cljs.core.Keyword(null,\"pred-exprs\",\"pred-exprs\",1792271395),new cljs.core.Keyword(null,\"keys-pred\",\"keys-pred\",858984739),new cljs.core.Keyword(null,\"opt-keys\",\"opt-keys\",1262688261),new cljs.core.Keyword(null,\"req-specs\",\"req-specs\",553962313),new cljs.core.Keyword(null,\"req\",\"req\",-326448303),new cljs.core.Keyword(null,\"req-keys\",\"req-keys\",514319221),new cljs.core.Keyword(null,\"opt-specs\",\"opt-specs\",-384905450),new cljs.core.Keyword(null,\"pred-forms\",\"pred-forms\",172611832),new cljs.core.Keyword(null,\"opt\",\"opt\",-794706369)],[null,null,null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__49273){\r\nreturn cljs.core.map_QMARK_(G__49273);\r\n}),(function (G__49273){\r\nreturn cljs.core.contains_QMARK_(G__49273,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421));\r\n})], null),(function (G__49273){\r\nreturn ((cljs.core.map_QMARK_(G__49273)) && (cljs.core.contains_QMARK_(G__49273,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421))));\r\n}),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"fn\",\"cljs.core/fn\",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"%\",\"%\",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"map?\",\"cljs.core/map?\",-1390345523,null),new cljs.core.Symbol(null,\"%\",\"%\",-950237169,null))),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"fn\",\"cljs.core/fn\",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"%\",\"%\",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"contains?\",\"cljs.core/contains?\",-976526835,null),new cljs.core.Symbol(null,\"%\",\"%\",-950237169,null),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421)))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157)], null)]))], null);\r\n\r\nvar prime_leader = cljs.core.first(send_queue);\r\nvar map__49279 = cljs.core.group_by((function (n){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.batchable_QMARK_(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [prime_leader], null),n);\r\n}),send_queue);\r\nvar map__49279__$1 = cljs.core.__destructure_map(map__49279);\r\nvar prime_candidates = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49279__$1,true);\r\nvar to_defer = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49279__$1,false);\r\nvar map__49280 = (function (){var result = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"batch\",\"batch\",-662921200),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(null,\"remainder\",\"remainder\",1046186872),to_defer], null);\r\nvar queue = prime_candidates;\r\nwhile(true){\r\nvar leader = cljs.core.first(queue);\r\nvar vec__49289 = cljs.core.split_with(((function (result,queue,leader,prime_leader,map__49279,map__49279__$1,prime_candidates,to_defer){\r\nreturn (function (p1__49266_SHARP_){\r\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(leader),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(p1__49266_SHARP_));\r\n});})(result,queue,leader,prime_leader,map__49279,map__49279__$1,prime_candidates,to_defer))\r\n,queue);\r\nvar to_send = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49289,(0),null);\r\nvar remainder = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49289,(1),null);\r\nvar combined_node = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.create_combined_node(app__$1,remote_name,to_send);\r\nvar new_result = cljs.core.update.cljs$core$IFn$_invoke$arity$4(result,new cljs.core.Keyword(null,\"batch\",\"batch\",-662921200),cljs.core.conj,combined_node);\r\nif(cljs.core.seq(remainder)){\r\nvar G__49791 = new_result;\r\nvar G__49792 = remainder;\r\nresult = G__49791;\r\nqueue = G__49792;\r\ncontinue;\r\n} else {\r\nreturn new_result;\r\n}\r\nbreak;\r\n}\r\n})();\r\nvar map__49280__$1 = cljs.core.__destructure_map(map__49280);\r\nvar batch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49280__$1,new cljs.core.Keyword(null,\"batch\",\"batch\",-662921200));\r\nvar remainder = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49280__$1,new cljs.core.Keyword(null,\"remainder\",\"remainder\",1046186872));\r\nvar batch_node_id = com.fulcrologic.fulcro.algorithms.tempid.uuid.cljs$core$IFn$_invoke$arity$0();\r\nvar batch_node_idx = (0);\r\nvar remove_BANG_ = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing._STAR_remove_send_STAR_;\r\nvar batch_node = new cljs.core.PersistentArrayMap(null, 8, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423),batch_node_id,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"idx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/idx\",-1121773698),batch_node_idx,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"raw-body\",\"com.fulcrologic.fulcro.algorithms.tx-processing/raw-body\",-819595969),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"queries\",\"queries\",1446291995),cljs.core.mapv.cljs$core$IFn$_invoke$arity$2((function (p__49293){\r\nvar map__49294 = p__49293;\r\nvar map__49294__$1 = cljs.core.__destructure_map(map__49294);\r\nvar ast = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49294__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373));\r\nreturn com.fulcrologic.fulcro.algorithms.do_not_use.ast__GT_query(ast);\r\n}),batch)], null),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420),(function (){var or__5045__auto__ = new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420).cljs$core$IFn$_invoke$arity$1(prime_leader);\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn cljs.core.PersistentArrayMap.EMPTY;\r\n}\r\n})(),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"batch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/batch\",911189299),batch,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"update-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/update-handler\",-1256285755),(function (combined_result){\r\nvar G__49297 = cljs.core.first(batch);\r\nvar map__49298 = G__49297;\r\nvar map__49298__$1 = cljs.core.__destructure_map(map__49298);\r\nvar update_handler = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49298__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"update-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/update-handler\",-1256285755));\r\nvar more_batch = cljs.core.next(batch);\r\nvar result = cljs.core.first(combined_result);\r\nvar more_result = cljs.core.next(combined_result);\r\nvar G__49297__$1 = G__49297;\r\nvar more_batch__$1 = more_batch;\r\nvar result__$1 = result;\r\nvar more_result__$1 = more_result;\r\nwhile(true){\r\nvar map__49302 = G__49297__$1;\r\nvar map__49302__$1 = cljs.core.__destructure_map(map__49302);\r\nvar update_handler__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49302__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"update-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/update-handler\",-1256285755));\r\nvar more_batch__$2 = more_batch__$1;\r\nvar result__$2 = result__$1;\r\nvar more_result__$2 = more_result__$1;\r\nif(cljs.core.truth_(update_handler__$1)){\r\n(update_handler__$1.cljs$core$IFn$_invoke$arity$1 ? update_handler__$1.cljs$core$IFn$_invoke$arity$1(result__$2) : update_handler__$1.call(null,result__$2));\r\n} else {\r\n}\r\n\r\nif(((cljs.core.seq(more_batch__$2)) && (cljs.core.seq(more_result__$2)))){\r\nvar G__49794 = cljs.core.first(more_batch__$2);\r\nvar G__49795 = cljs.core.next(more_batch__$2);\r\nvar G__49796 = cljs.core.first(more_result__$2);\r\nvar G__49797 = cljs.core.next(more_result__$2);\r\nG__49297__$1 = G__49794;\r\nmore_batch__$1 = G__49795;\r\nresult__$1 = G__49796;\r\nmore_result__$1 = G__49797;\r\ncontinue;\r\n} else {\r\nreturn null;\r\n}\r\nbreak;\r\n}\r\n}),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209),(function (p__49305){\r\nvar map__49306 = p__49305;\r\nvar map__49306__$1 = cljs.core.__destructure_map(map__49306);\r\nvar batch_result = map__49306__$1;\r\nvar body = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49306__$1,new cljs.core.Keyword(null,\"body\",\"body\",-2049205669));\r\n(remove_BANG_.cljs$core$IFn$_invoke$arity$4 ? remove_BANG_.cljs$core$IFn$_invoke$arity$4(app__$1,remote_name,batch_node_id,batch_node_idx) : remove_BANG_.call(null,app__$1,remote_name,batch_node_id,batch_node_idx));\r\n\r\nvar G__49308 = cljs.core.first(batch);\r\nvar map__49309 = G__49308;\r\nvar map__49309__$1 = cljs.core.__destructure_map(map__49309);\r\nvar result_handler = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49309__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209));\r\nvar more_batch = cljs.core.next(batch);\r\nvar result = cljs.core.first(body);\r\nvar more_result = cljs.core.next(body);\r\nvar G__49308__$1 = G__49308;\r\nvar more_batch__$1 = more_batch;\r\nvar result__$1 = result;\r\nvar more_result__$1 = more_result;\r\nwhile(true){\r\nvar map__49314 = G__49308__$1;\r\nvar map__49314__$1 = cljs.core.__destructure_map(map__49314);\r\nvar result_handler__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49314__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209));\r\nvar more_batch__$2 = more_batch__$1;\r\nvar result__$2 = result__$1;\r\nvar more_result__$2 = more_result__$1;\r\nvar G__49315_49798 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(batch_result,new cljs.core.Keyword(null,\"body\",\"body\",-2049205669),result__$2);\r\n(result_handler__$1.cljs$core$IFn$_invoke$arity$1 ? result_handler__$1.cljs$core$IFn$_invoke$arity$1(G__49315_49798) : result_handler__$1.call(null,G__49315_49798));\r\n\r\nif(((cljs.core.seq(more_batch__$2)) && (cljs.core.seq(more_result__$2)))){\r\nvar G__49799 = cljs.core.first(more_batch__$2);\r\nvar G__49800 = cljs.core.next(more_batch__$2);\r\nvar G__49801 = cljs.core.first(more_result__$2);\r\nvar G__49802 = cljs.core.next(more_result__$2);\r\nG__49308__$1 = G__49799;\r\nmore_batch__$1 = G__49800;\r\nresult__$1 = G__49801;\r\nmore_result__$1 = G__49802;\r\ncontinue;\r\n} else {\r\nreturn null;\r\n}\r\nbreak;\r\n}\r\n}),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active?\",966679517),true], null);\r\nif((cljs.core.count(batch) > (1))){\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,212,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"Batched:\",cljs.core.count(batch)], null);\r\n}),null)),null,451433710,null);\r\n} else {\r\n}\r\n\r\nreturn new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157),batch_node,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421),cljs.core.into.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [batch_node], null),remainder)], null);\r\n});\r\n/**\r\n * Takes a send queue and returns a map containing a new combined send node that can act as a single network request,\r\n *   along with the updated send queue.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.combine_sends = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$combine_sends(app__$1,remote_name,send_queue){\r\nnew cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remote-name\",\"com.fulcrologic.fulcro.application/remote-name\",-1179129128),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421),com.fulcrologic.guardrails.core._EQ__GT_,cljs.spec.alpha.map_spec_impl(cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"req-un\",\"req-un\",1074571008),new cljs.core.Keyword(null,\"opt-un\",\"opt-un\",883442496),new cljs.core.Keyword(null,\"gfn\",\"gfn\",791517474),new cljs.core.Keyword(null,\"pred-exprs\",\"pred-exprs\",1792271395),new cljs.core.Keyword(null,\"keys-pred\",\"keys-pred\",858984739),new cljs.core.Keyword(null,\"opt-keys\",\"opt-keys\",1262688261),new cljs.core.Keyword(null,\"req-specs\",\"req-specs\",553962313),new cljs.core.Keyword(null,\"req\",\"req\",-326448303),new cljs.core.Keyword(null,\"req-keys\",\"req-keys\",514319221),new cljs.core.Keyword(null,\"opt-specs\",\"opt-specs\",-384905450),new cljs.core.Keyword(null,\"pred-forms\",\"pred-forms\",172611832),new cljs.core.Keyword(null,\"opt\",\"opt\",-794706369)],[null,null,null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__49338){\r\nreturn cljs.core.map_QMARK_(G__49338);\r\n}),(function (G__49338){\r\nreturn cljs.core.contains_QMARK_(G__49338,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421));\r\n})], null),(function (G__49338){\r\nreturn ((cljs.core.map_QMARK_(G__49338)) && (cljs.core.contains_QMARK_(G__49338,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421))));\r\n}),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"fn\",\"cljs.core/fn\",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"%\",\"%\",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"map?\",\"cljs.core/map?\",-1390345523,null),new cljs.core.Symbol(null,\"%\",\"%\",-950237169,null))),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"fn\",\"cljs.core/fn\",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"%\",\"%\",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol(\"cljs.core\",\"contains?\",\"cljs.core/contains?\",-976526835,null),new cljs.core.Symbol(null,\"%\",\"%\",-950237169,null),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421)))], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157)], null)]))], null);\r\n\r\nif(cljs.core.seq(send_queue)){\r\nvar map__49388 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.app__GT_remotes(app__$1),remote_name);\r\nvar map__49388__$1 = cljs.core.__destructure_map(map__49388);\r\nvar supports_raw_body_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49388__$1,new cljs.core.Keyword(null,\"supports-raw-body?\",\"supports-raw-body?\",132893061));\r\nvar vec__49389 = cljs.core.split_with(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active?\",966679517),send_queue);\r\nvar _active_nodes = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49389,(0),null);\r\nvar send_queue__$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49389,(1),null);\r\nvar send_queue__$2 = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.sort_queue_writes_before_reads(cljs.core.vec(send_queue__$1));\r\nvar id_to_send = new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(cljs.core.first(send_queue__$2));\r\nvar vec__49392 = cljs.core.split_with((function (p1__49324_SHARP_){\r\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(id_to_send,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(p1__49324_SHARP_));\r\n}),send_queue__$2);\r\nvar to_send = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49392,(0),null);\r\nvar to_defer = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49392,(1),null);\r\nvar leading_mutation_QMARK_ = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.mutation_node_QMARK_(cljs.core.first(to_send));\r\nvar batched_reads_QMARK_ = cljs.core.get_in.cljs$core$IFn$_invoke$arity$3(app__$1,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"config\",\"com.fulcrologic.fulcro.application/config\",-1907926684),new cljs.core.Keyword(null,\"batching-enabled\",\"batching-enabled\",617647692),remote_name], null),false);\r\nvar batch_QMARK_ = (function (){var and__5043__auto__ = batched_reads_QMARK_;\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn supports_raw_body_QMARK_;\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})();\r\nif(((leading_mutation_QMARK_) || (cljs.core.not(batch_QMARK_)))){\r\nif(cljs.core.seq(to_send)){\r\nvar combined_node = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.create_combined_node(app__$1,remote_name,to_send);\r\nreturn new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157),combined_node,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421),cljs.core.into.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [combined_node], null),to_defer)], null);\r\n} else {\r\nreturn new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421),send_queue__$2], null);\r\n}\r\n} else {\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.batch_sends(app__$1,remote_name,send_queue__$2);\r\n}\r\n} else {\r\nreturn new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421),cljs.core.PersistentVector.EMPTY], null);\r\n}\r\n});\r\n/**\r\n * Process the send against the user-defined remote. Catches exceptions and calls error handler with status code 500\r\n *   if the remote itself throws exceptions.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.net_send_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$net_send_BANG_(app__$1,send_node,remote_name){\r\nnew cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157),new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remote-name\",\"com.fulcrologic.fulcro.application/remote-name\",-1179129128),com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.any_QMARK_], null);\r\n\r\nvar b2__35146__auto__ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.app__GT_remotes(app__$1),remote_name);\r\nif(cljs.core.truth_(b2__35146__auto__)){\r\nvar remote = b2__35146__auto__;\r\nvar b2__35146__auto____$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(remote,new cljs.core.Keyword(null,\"transmit!\",\"transmit!\",-107149039));\r\nif(cljs.core.truth_(b2__35146__auto____$1)){\r\nvar transmit_BANG_ = b2__35146__auto____$1;\r\ntry{if(cljs.core.truth_((function (){var and__5043__auto__ = (function (){var or__5045__auto__ = goog.DEBUG;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn com.fulcrologic.fulcro.inspect.inspect_client.INSPECT;\r\n}\r\n})();\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"disabled\",com.fulcrologic.fulcro.inspect.inspect_client.INSPECT);\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})())){\r\ntry{var temp__5802__auto___49806 = new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"batch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/batch\",911189299).cljs$core$IFn$_invoke$arity$1(send_node);\r\nif(cljs.core.truth_(temp__5802__auto___49806)){\r\nvar batch_49807 = temp__5802__auto___49806;\r\nvar seq__49412_49808 = cljs.core.seq(batch_49807);\r\nvar chunk__49413_49809 = null;\r\nvar count__49414_49810 = (0);\r\nvar i__49415_49811 = (0);\r\nwhile(true){\r\nif((i__49415_49811 < count__49414_49810)){\r\nvar element_node_49812 = chunk__49413_49809.cljs$core$IIndexed$_nth$arity$2(null,i__49415_49811);\r\nif(cljs.core.truth_((function (){var and__5043__auto__ = (function (){var or__5045__auto__ = goog.DEBUG;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn com.fulcrologic.fulcro.inspect.inspect_client.INSPECT;\r\n}\r\n})();\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"disabled\",com.fulcrologic.fulcro.inspect.inspect_client.INSPECT);\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})())){\r\ntry{var tx_49813 = com.fulcrologic.fulcro.algorithms.do_not_use.ast__GT_query(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373).cljs$core$IFn$_invoke$arity$1(element_node_49812));\r\ncom.fulcrologic.fulcro.inspect.inspect_client.send_started_BANG_(app__$1,remote_name,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(element_node_49812),tx_49813);\r\n}catch (e49421){var e_49814 = e49421;\r\n}} else {\r\n}\r\n\r\n\r\nvar G__49815 = seq__49412_49808;\r\nvar G__49816 = chunk__49413_49809;\r\nvar G__49817 = count__49414_49810;\r\nvar G__49818 = (i__49415_49811 + (1));\r\nseq__49412_49808 = G__49815;\r\nchunk__49413_49809 = G__49816;\r\ncount__49414_49810 = G__49817;\r\ni__49415_49811 = G__49818;\r\ncontinue;\r\n} else {\r\nvar temp__5804__auto___49819 = cljs.core.seq(seq__49412_49808);\r\nif(temp__5804__auto___49819){\r\nvar seq__49412_49820__$1 = temp__5804__auto___49819;\r\nif(cljs.core.chunked_seq_QMARK_(seq__49412_49820__$1)){\r\nvar c__5568__auto___49821 = cljs.core.chunk_first(seq__49412_49820__$1);\r\nvar G__49822 = cljs.core.chunk_rest(seq__49412_49820__$1);\r\nvar G__49823 = c__5568__auto___49821;\r\nvar G__49824 = cljs.core.count(c__5568__auto___49821);\r\nvar G__49825 = (0);\r\nseq__49412_49808 = G__49822;\r\nchunk__49413_49809 = G__49823;\r\ncount__49414_49810 = G__49824;\r\ni__49415_49811 = G__49825;\r\ncontinue;\r\n} else {\r\nvar element_node_49826 = cljs.core.first(seq__49412_49820__$1);\r\nif(cljs.core.truth_((function (){var and__5043__auto__ = (function (){var or__5045__auto__ = goog.DEBUG;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn com.fulcrologic.fulcro.inspect.inspect_client.INSPECT;\r\n}\r\n})();\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"disabled\",com.fulcrologic.fulcro.inspect.inspect_client.INSPECT);\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})())){\r\ntry{var tx_49827 = com.fulcrologic.fulcro.algorithms.do_not_use.ast__GT_query(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373).cljs$core$IFn$_invoke$arity$1(element_node_49826));\r\ncom.fulcrologic.fulcro.inspect.inspect_client.send_started_BANG_(app__$1,remote_name,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(element_node_49826),tx_49827);\r\n}catch (e49423){var e_49831 = e49423;\r\n}} else {\r\n}\r\n\r\n\r\nvar G__49832 = cljs.core.next(seq__49412_49820__$1);\r\nvar G__49833 = null;\r\nvar G__49834 = (0);\r\nvar G__49835 = (0);\r\nseq__49412_49808 = G__49832;\r\nchunk__49413_49809 = G__49833;\r\ncount__49414_49810 = G__49834;\r\ni__49415_49811 = G__49835;\r\ncontinue;\r\n}\r\n} else {\r\n}\r\n}\r\nbreak;\r\n}\r\n} else {\r\nif(cljs.core.truth_((function (){var and__5043__auto__ = (function (){var or__5045__auto__ = goog.DEBUG;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn com.fulcrologic.fulcro.inspect.inspect_client.INSPECT;\r\n}\r\n})();\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"disabled\",com.fulcrologic.fulcro.inspect.inspect_client.INSPECT);\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})())){\r\ntry{var tx_49836 = com.fulcrologic.fulcro.algorithms.do_not_use.ast__GT_query(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373).cljs$core$IFn$_invoke$arity$1(send_node));\r\ncom.fulcrologic.fulcro.inspect.inspect_client.send_started_BANG_(app__$1,remote_name,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(send_node),tx_49836);\r\n}catch (e49425){var e_49837 = e49425;\r\n}} else {\r\n}\r\n}\r\n}catch (e49411){var e_49838 = e49411;\r\n}} else {\r\n}\r\n\r\nreturn (transmit_BANG_.cljs$core$IFn$_invoke$arity$2 ? transmit_BANG_.cljs$core$IFn$_invoke$arity$2(remote,send_node) : transmit_BANG_.call(null,remote,send_node));\r\n}catch (e49398){var e = e49398;\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,256,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [e,\"Send threw an exception for tx:\",com.fulcrologic.fulcro.algorithms.do_not_use.ast__GT_query(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373).cljs$core$IFn$_invoke$arity$1(send_node)),\"See https://book.fulcrologic.com/#err-txp-send-exc\"], null);\r\n}),null)),null,1021310849,null);\r\n\r\ntry{if(cljs.core.truth_((function (){var and__5043__auto__ = (function (){var or__5045__auto__ = goog.DEBUG;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn com.fulcrologic.fulcro.inspect.inspect_client.INSPECT;\r\n}\r\n})();\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"disabled\",com.fulcrologic.fulcro.inspect.inspect_client.INSPECT);\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})())){\r\ntry{var temp__5802__auto___49839 = new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"batch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/batch\",911189299).cljs$core$IFn$_invoke$arity$1(send_node);\r\nif(cljs.core.truth_(temp__5802__auto___49839)){\r\nvar batch_49840 = temp__5802__auto___49839;\r\nvar seq__49402_49841 = cljs.core.seq(batch_49840);\r\nvar chunk__49403_49842 = null;\r\nvar count__49404_49843 = (0);\r\nvar i__49405_49844 = (0);\r\nwhile(true){\r\nif((i__49405_49844 < count__49404_49843)){\r\nvar element_node_49845 = chunk__49403_49842.cljs$core$IIndexed$_nth$arity$2(null,i__49405_49844);\r\ncom.fulcrologic.fulcro.inspect.inspect_client.send_failed_BANG_(app__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(element_node_49845),\"Transmit Exception\");\r\n\r\n\r\nvar G__49847 = seq__49402_49841;\r\nvar G__49848 = chunk__49403_49842;\r\nvar G__49849 = count__49404_49843;\r\nvar G__49850 = (i__49405_49844 + (1));\r\nseq__49402_49841 = G__49847;\r\nchunk__49403_49842 = G__49848;\r\ncount__49404_49843 = G__49849;\r\ni__49405_49844 = G__49850;\r\ncontinue;\r\n} else {\r\nvar temp__5804__auto___49852 = cljs.core.seq(seq__49402_49841);\r\nif(temp__5804__auto___49852){\r\nvar seq__49402_49853__$1 = temp__5804__auto___49852;\r\nif(cljs.core.chunked_seq_QMARK_(seq__49402_49853__$1)){\r\nvar c__5568__auto___49854 = cljs.core.chunk_first(seq__49402_49853__$1);\r\nvar G__49856 = cljs.core.chunk_rest(seq__49402_49853__$1);\r\nvar G__49857 = c__5568__auto___49854;\r\nvar G__49858 = cljs.core.count(c__5568__auto___49854);\r\nvar G__49859 = (0);\r\nseq__49402_49841 = G__49856;\r\nchunk__49403_49842 = G__49857;\r\ncount__49404_49843 = G__49858;\r\ni__49405_49844 = G__49859;\r\ncontinue;\r\n} else {\r\nvar element_node_49860 = cljs.core.first(seq__49402_49853__$1);\r\ncom.fulcrologic.fulcro.inspect.inspect_client.send_failed_BANG_(app__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(element_node_49860),\"Transmit Exception\");\r\n\r\n\r\nvar G__49861 = cljs.core.next(seq__49402_49853__$1);\r\nvar G__49862 = null;\r\nvar G__49863 = (0);\r\nvar G__49864 = (0);\r\nseq__49402_49841 = G__49861;\r\nchunk__49403_49842 = G__49862;\r\ncount__49404_49843 = G__49863;\r\ni__49405_49844 = G__49864;\r\ncontinue;\r\n}\r\n} else {\r\n}\r\n}\r\nbreak;\r\n}\r\n} else {\r\ncom.fulcrologic.fulcro.inspect.inspect_client.send_failed_BANG_(app__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(send_node),\"Transmit Exception\");\r\n}\r\n}catch (e49401){var e_49865__$1 = e49401;\r\n}} else {\r\n}\r\n\r\nvar G__49409 = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"status-code\",\"status-code\",-1060410130),(500),new cljs.core.Keyword(null,\"client-exception\",\"client-exception\",-1357213384),e], null);\r\nvar fexpr__49408 = new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209).cljs$core$IFn$_invoke$arity$1(send_node);\r\nreturn (fexpr__49408.cljs$core$IFn$_invoke$arity$1 ? fexpr__49408.cljs$core$IFn$_invoke$arity$1(G__49409) : fexpr__49408.call(null,G__49409));\r\n}catch (e49399){var e__$1 = e49399;\r\nreturn taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"fatal\",\"fatal\",1874419888),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,266,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [e__$1,\"Error handler failed to handle exception!\"], null);\r\n}),null)),null,1036376630,null);\r\n}}} else {\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,268,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"Transmit was not defined on remote\",remote_name,\"See https://book.fulcrologic.com/#err-txp-remote-lacks-transmit\"], null);\r\n}),null)),null,485213797,null);\r\n\r\nvar G__49428 = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"status-code\",\"status-code\",-1060410130),(500),new cljs.core.Keyword(null,\"message\",\"message\",-406056002),\"Transmit missing on remote.\"], null);\r\nvar fexpr__49427 = new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209).cljs$core$IFn$_invoke$arity$1(send_node);\r\nreturn (fexpr__49427.cljs$core$IFn$_invoke$arity$1 ? fexpr__49427.cljs$core$IFn$_invoke$arity$1(G__49428) : fexpr__49427.call(null,G__49428));\r\n}\r\n} else {\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,268,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"Transmit was not defined on remote\",remote_name,\"See https://book.fulcrologic.com/#err-txp-remote-lacks-transmit\"], null);\r\n}),null)),null,1982676519,null);\r\n\r\nvar G__49430 = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"status-code\",\"status-code\",-1060410130),(500),new cljs.core.Keyword(null,\"message\",\"message\",-406056002),\"Transmit missing on remote.\"], null);\r\nvar fexpr__49429 = new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209).cljs$core$IFn$_invoke$arity$1(send_node);\r\nreturn (fexpr__49429.cljs$core$IFn$_invoke$arity$1 ? fexpr__49429.cljs$core$IFn$_invoke$arity$1(G__49430) : fexpr__49429.call(null,G__49430));\r\n}\r\n});\r\n/**\r\n * Process the send queues against the remotes. Updates the send queues on the app and returns the updated send queues.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.process_send_queues_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$process_send_queues_BANG_(p__49432){\r\nvar map__49434 = p__49432;\r\nvar map__49434__$1 = cljs.core.__destructure_map(map__49434);\r\nvar app__$1 = map__49434__$1;\r\nvar runtime_atom = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49434__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772));\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queues\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queues\",-1776480807)], null);\r\n\r\nvar send_queues = new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queues\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queues\",-1776480807).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(runtime_atom));\r\nvar remote_names = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.app__GT_remote_names(app__$1);\r\nvar operations = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentVector.EMPTY);\r\nvar new_send_queues = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (new_send_queues,remote){\r\nvar send_queue = cljs.core.get.cljs$core$IFn$_invoke$arity$3(send_queues,remote,cljs.core.PersistentVector.EMPTY);\r\nvar vec__49435 = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.extract_parallel(send_queue);\r\nvar p = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49435,(0),null);\r\nvar serial = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49435,(1),null);\r\nvar front = cljs.core.first(serial);\r\nvar seq__49438_49871 = cljs.core.seq(p);\r\nvar chunk__49439_49872 = null;\r\nvar count__49440_49873 = (0);\r\nvar i__49441_49874 = (0);\r\nwhile(true){\r\nif((i__49441_49874 < count__49440_49873)){\r\nvar item_49875 = chunk__49439_49872.cljs$core$IIndexed$_nth$arity$2(null,i__49441_49874);\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(operations,cljs.core.conj,((function (seq__49438_49871,chunk__49439_49872,count__49440_49873,i__49441_49874,item_49875,send_queue,vec__49435,p,serial,front,send_queues,remote_names,operations,map__49434,map__49434__$1,app__$1,runtime_atom){\r\nreturn (function (){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.net_send_BANG_(app__$1,item_49875,remote);\r\n});})(seq__49438_49871,chunk__49439_49872,count__49440_49873,i__49441_49874,item_49875,send_queue,vec__49435,p,serial,front,send_queues,remote_names,operations,map__49434,map__49434__$1,app__$1,runtime_atom))\r\n);\r\n\r\n\r\nvar G__49876 = seq__49438_49871;\r\nvar G__49877 = chunk__49439_49872;\r\nvar G__49878 = count__49440_49873;\r\nvar G__49879 = (i__49441_49874 + (1));\r\nseq__49438_49871 = G__49876;\r\nchunk__49439_49872 = G__49877;\r\ncount__49440_49873 = G__49878;\r\ni__49441_49874 = G__49879;\r\ncontinue;\r\n} else {\r\nvar temp__5804__auto___49880 = cljs.core.seq(seq__49438_49871);\r\nif(temp__5804__auto___49880){\r\nvar seq__49438_49881__$1 = temp__5804__auto___49880;\r\nif(cljs.core.chunked_seq_QMARK_(seq__49438_49881__$1)){\r\nvar c__5568__auto___49882 = cljs.core.chunk_first(seq__49438_49881__$1);\r\nvar G__49883 = cljs.core.chunk_rest(seq__49438_49881__$1);\r\nvar G__49884 = c__5568__auto___49882;\r\nvar G__49885 = cljs.core.count(c__5568__auto___49882);\r\nvar G__49886 = (0);\r\nseq__49438_49871 = G__49883;\r\nchunk__49439_49872 = G__49884;\r\ncount__49440_49873 = G__49885;\r\ni__49441_49874 = G__49886;\r\ncontinue;\r\n} else {\r\nvar item_49887 = cljs.core.first(seq__49438_49881__$1);\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(operations,cljs.core.conj,((function (seq__49438_49871,chunk__49439_49872,count__49440_49873,i__49441_49874,item_49887,seq__49438_49881__$1,temp__5804__auto___49880,send_queue,vec__49435,p,serial,front,send_queues,remote_names,operations,map__49434,map__49434__$1,app__$1,runtime_atom){\r\nreturn (function (){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.net_send_BANG_(app__$1,item_49887,remote);\r\n});})(seq__49438_49871,chunk__49439_49872,count__49440_49873,i__49441_49874,item_49887,seq__49438_49881__$1,temp__5804__auto___49880,send_queue,vec__49435,p,serial,front,send_queues,remote_names,operations,map__49434,map__49434__$1,app__$1,runtime_atom))\r\n);\r\n\r\n\r\nvar G__49888 = cljs.core.next(seq__49438_49881__$1);\r\nvar G__49889 = null;\r\nvar G__49890 = (0);\r\nvar G__49891 = (0);\r\nseq__49438_49871 = G__49888;\r\nchunk__49439_49872 = G__49889;\r\ncount__49440_49873 = G__49890;\r\ni__49441_49874 = G__49891;\r\ncontinue;\r\n}\r\n} else {\r\n}\r\n}\r\nbreak;\r\n}\r\n\r\nif(cljs.core.truth_(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active?\",966679517).cljs$core$IFn$_invoke$arity$1(front))){\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(new_send_queues,remote,serial);\r\n} else {\r\nvar map__49445 = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.combine_sends(app__$1,remote,serial);\r\nvar map__49445__$1 = cljs.core.__destructure_map(map__49445);\r\nvar send_queue__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49445__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queue\",-1602123421));\r\nvar send_node = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49445__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157));\r\nif(cljs.core.truth_(send_node)){\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(operations,cljs.core.conj,(function (){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.net_send_BANG_(app__$1,send_node,remote);\r\n}));\r\n} else {\r\n}\r\n\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(new_send_queues,remote,send_queue__$1);\r\n}\r\n}),cljs.core.PersistentArrayMap.EMPTY,remote_names);\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(runtime_atom,cljs.core.assoc,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queues\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queues\",-1776480807),new_send_queues);\r\n\r\nvar seq__49446_49893 = cljs.core.seq(cljs.core.deref(operations));\r\nvar chunk__49448_49894 = null;\r\nvar count__49449_49895 = (0);\r\nvar i__49450_49896 = (0);\r\nwhile(true){\r\nif((i__49450_49896 < count__49449_49895)){\r\nvar op_49897 = chunk__49448_49894.cljs$core$IIndexed$_nth$arity$2(null,i__49450_49896);\r\n(op_49897.cljs$core$IFn$_invoke$arity$0 ? op_49897.cljs$core$IFn$_invoke$arity$0() : op_49897.call(null));\r\n\r\n\r\nvar G__49898 = seq__49446_49893;\r\nvar G__49899 = chunk__49448_49894;\r\nvar G__49900 = count__49449_49895;\r\nvar G__49901 = (i__49450_49896 + (1));\r\nseq__49446_49893 = G__49898;\r\nchunk__49448_49894 = G__49899;\r\ncount__49449_49895 = G__49900;\r\ni__49450_49896 = G__49901;\r\ncontinue;\r\n} else {\r\nvar temp__5804__auto___49902 = cljs.core.seq(seq__49446_49893);\r\nif(temp__5804__auto___49902){\r\nvar seq__49446_49903__$1 = temp__5804__auto___49902;\r\nif(cljs.core.chunked_seq_QMARK_(seq__49446_49903__$1)){\r\nvar c__5568__auto___49904 = cljs.core.chunk_first(seq__49446_49903__$1);\r\nvar G__49905 = cljs.core.chunk_rest(seq__49446_49903__$1);\r\nvar G__49906 = c__5568__auto___49904;\r\nvar G__49907 = cljs.core.count(c__5568__auto___49904);\r\nvar G__49908 = (0);\r\nseq__49446_49893 = G__49905;\r\nchunk__49448_49894 = G__49906;\r\ncount__49449_49895 = G__49907;\r\ni__49450_49896 = G__49908;\r\ncontinue;\r\n} else {\r\nvar op_49909 = cljs.core.first(seq__49446_49903__$1);\r\n(op_49909.cljs$core$IFn$_invoke$arity$0 ? op_49909.cljs$core$IFn$_invoke$arity$0() : op_49909.call(null));\r\n\r\n\r\nvar G__49911 = cljs.core.next(seq__49446_49903__$1);\r\nvar G__49912 = null;\r\nvar G__49913 = (0);\r\nvar G__49914 = (0);\r\nseq__49446_49893 = G__49911;\r\nchunk__49448_49894 = G__49912;\r\ncount__49449_49895 = G__49913;\r\ni__49450_49896 = G__49914;\r\ncontinue;\r\n}\r\n} else {\r\n}\r\n}\r\nbreak;\r\n}\r\n\r\nreturn new_send_queues;\r\n});\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.tx_node = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$tx_node(var_args){\r\nvar G__49455 = arguments.length;\r\nswitch (G__49455) {\r\ncase 1:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.tx_node.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\r\n\r\nbreak;\r\ncase 2:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.tx_node.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\r\n\r\nbreak;\r\ndefault:\r\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\r\n\r\n}\r\n});\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.tx_node.cljs$core$IFn$_invoke$arity$1 = (function (tx){\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx\",-1165026763),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node\",1427257903)], null);\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.tx_node.cljs$core$IFn$_invoke$arity$2(tx,cljs.core.PersistentArrayMap.EMPTY);\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.tx_node.cljs$core$IFn$_invoke$arity$2 = (function (tx,options){\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx\",-1165026763),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node\",1427257903)], null);\r\n\r\nvar ast = edn_query_language.core.query__GT_ast(tx);\r\nvar ast_nodes = new cljs.core.Keyword(null,\"children\",\"children\",-940561982).cljs$core$IFn$_invoke$arity$1(ast);\r\nvar elements = cljs.core.into.cljs$core$IFn$_invoke$arity$3(cljs.core.PersistentVector.EMPTY,cljs.core.comp.cljs$core$IFn$_invoke$arity$2(cljs.core.filter.cljs$core$IFn$_invoke$arity$1((function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$txfilt_STAR_(n){\r\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"call\",\"call\",-519999866),new cljs.core.Keyword(null,\"type\",\"type\",1174270348).cljs$core$IFn$_invoke$arity$1(n));\r\n})),cljs.core.map_indexed.cljs$core$IFn$_invoke$arity$1((function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$__GT_txnode_STAR_(idx,ast_node){\r\nreturn new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"idx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/idx\",-1121773698),idx,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"original-ast-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/original-ast-node\",2080944477),ast_node,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"started?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/started?\",1421241366),cljs.core.PersistentHashSet.EMPTY,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"complete?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/complete?\",-311612706),cljs.core.PersistentHashSet.EMPTY,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"results\",\"com.fulcrologic.fulcro.algorithms.tx-processing/results\",-1876101852),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"dispatch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/dispatch\",-262239660),cljs.core.PersistentArrayMap.EMPTY], null);\r\n}))),ast_nodes);\r\nreturn new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423),com.fulcrologic.fulcro.algorithms.tempid.uuid.cljs$core$IFn$_invoke$arity$0(),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"created\",\"com.fulcrologic.fulcro.algorithms.tx-processing/created\",859806789),com.fulcrologic.fulcro.algorithms.do_not_use.now(),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420),options,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx\",-1165026763),tx,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330),elements], null);\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.tx_node.cljs$lang$maxFixedArity = 2);\r\n\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$build_env(var_args){\r\nvar G__49459 = arguments.length;\r\nswitch (G__49459) {\r\ncase 3:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$3((arguments[(0)]),(arguments[(1)]),(arguments[(2)]));\r\n\r\nbreak;\r\ncase 2:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\r\n\r\nbreak;\r\ndefault:\r\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\r\n\r\n}\r\n});\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$3 = (function (app__$1,p__49461,addl){\r\nvar map__49462 = p__49461;\r\nvar map__49462__$1 = cljs.core.__destructure_map(map__49462);\r\nvar tx_node = map__49462__$1;\r\nvar options = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49462__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420));\r\nnew cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),cljs.core.map_QMARK_,com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.map_QMARK_], null);\r\n\r\nvar map__49463 = options;\r\nvar map__49463__$1 = cljs.core.__destructure_map(map__49463);\r\nvar ref = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49463__$1,new cljs.core.Keyword(null,\"ref\",\"ref\",1289896967));\r\nvar component = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49463__$1,new cljs.core.Keyword(null,\"component\",\"component\",1555936782));\r\nvar G__49464 = cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([addl,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"state-atom\",\"com.fulcrologic.fulcro.application/state-atom\",648128366).cljs$core$IFn$_invoke$arity$1(app__$1),new cljs.core.Keyword(null,\"app\",\"app\",-560961707),app__$1], null)], 0));\r\nvar G__49464__$1 = (cljs.core.truth_(options)?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(G__49464,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420),options):G__49464);\r\nvar G__49464__$2 = (cljs.core.truth_(ref)?cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(G__49464__$1,new cljs.core.Keyword(null,\"ref\",\"ref\",1289896967),ref):G__49464__$1);\r\nif(cljs.core.truth_(component)){\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(G__49464__$2,new cljs.core.Keyword(null,\"component\",\"component\",1555936782),component);\r\n} else {\r\nreturn G__49464__$2;\r\n}\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$2 = (function (app__$1,p__49465){\r\nvar map__49466 = p__49465;\r\nvar map__49466__$1 = cljs.core.__destructure_map(map__49466);\r\nvar tx_node = map__49466__$1;\r\nvar options = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49466__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420));\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.map_QMARK_], null);\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$3(app__$1,tx_node,cljs.core.PersistentArrayMap.EMPTY);\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$lang$maxFixedArity = 3);\r\n\r\n/**\r\n * Run through the elements on the given tx-node and do the side-effect-free dispatch. This generates the dispatch map\r\n *   of things to do on that node.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.dispatch_elements = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$dispatch_elements(tx_node,env,dispatch_fn){\r\nnew cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),cljs.core.map_QMARK_,cljs.core.any_QMARK_,com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node\",1427257903)], null);\r\n\r\nvar do_dispatch = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$dispatch_elements_$_run_STAR_(env__$1){\r\ntry{return (dispatch_fn.cljs$core$IFn$_invoke$arity$1 ? dispatch_fn.cljs$core$IFn$_invoke$arity$1(env__$1) : dispatch_fn.call(null,env__$1));\r\n}catch (e49469){var e = e49469;\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,352,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [e,\"Dispatch for mutation\",(function (){var G__49470 = env__$1;\r\nvar G__49470__$1 = (((G__49470 == null))?null:new cljs.core.Keyword(null,\"ast\",\"ast\",-860334068).cljs$core$IFn$_invoke$arity$1(G__49470));\r\nif((G__49470__$1 == null)){\r\nreturn null;\r\n} else {\r\nreturn com.fulcrologic.fulcro.algorithms.do_not_use.ast__GT_query(G__49470__$1);\r\n}\r\n})(),\"failed with an exception. No dispatch generated. See https://book.fulcrologic.com/#err-txp-mut-dispatch-exc\"], null);\r\n}),null)),null,1724488797,null);\r\n\r\nreturn cljs.core.PersistentArrayMap.EMPTY;\r\n}});\r\nvar dispatch = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$dispatch_elements_$_dispatch_STAR_(p__49471){\r\nvar map__49473 = p__49471;\r\nvar map__49473__$1 = cljs.core.__destructure_map(map__49473);\r\nvar ele = map__49473__$1;\r\nvar original_ast_node = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49473__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"original-ast-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/original-ast-node\",2080944477));\r\nvar map__49474 = original_ast_node;\r\nvar map__49474__$1 = cljs.core.__destructure_map(map__49474);\r\nvar type = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49474__$1,new cljs.core.Keyword(null,\"type\",\"type\",1174270348));\r\nvar env__$1 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(env,new cljs.core.Keyword(null,\"ast\",\"ast\",-860334068),original_ast_node);\r\nvar G__49475 = ele;\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"call\",\"call\",-519999866),type)){\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(G__49475,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"dispatch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/dispatch\",-262239660),do_dispatch(env__$1));\r\n} else {\r\nreturn G__49475;\r\n}\r\n});\r\nvar dispatch_all = (function (eles){\r\nreturn cljs.core.mapv.cljs$core$IFn$_invoke$arity$2(dispatch,eles);\r\n});\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(tx_node,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330),dispatch_all);\r\n});\r\n/**\r\n * Should be called after the application renders to ensure that transactions blocked until the next render become\r\n * unblocked. Schedules an activation.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.application_rendered_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$application_rendered_BANG_(p__49478,options){\r\nvar map__49479 = p__49478;\r\nvar map__49479__$1 = cljs.core.__destructure_map(map__49479);\r\nvar app__$1 = map__49479__$1;\r\nvar runtime_atom = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49479__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772));\r\nif(cljs.core.truth_(cljs.core.some((function (p1__49477_SHARP_){\r\nreturn cljs.core.boolean$(new cljs.core.Keyword(null,\"after-render?\",\"after-render?\",595994030).cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420).cljs$core$IFn$_invoke$arity$1(p1__49477_SHARP_)));\r\n}),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"submission-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/submission-queue\",-175778154).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(runtime_atom))))){\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(runtime_atom,cljs.core.update,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"submission-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/submission-queue\",-175778154),(function (queue){\r\nreturn cljs.core.mapv.cljs$core$IFn$_invoke$arity$2((function (node){\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$4(node,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420),cljs.core.dissoc,new cljs.core.Keyword(null,\"after-render?\",\"after-render?\",595994030));\r\n}),queue);\r\n}));\r\n\r\nreturn (com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_activation_BANG_.cljs$core$IFn$_invoke$arity$2 ? com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_activation_BANG_.cljs$core$IFn$_invoke$arity$2(app__$1,(0)) : com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_activation_BANG_.call(null,app__$1,(0)));\r\n} else {\r\nreturn null;\r\n}\r\n});\r\n/**\r\n * Activate all of the transactions that have been submitted since the last activation. After the items are activated\r\n *   a single processing step will run for the active queue.\r\n * \r\n *   Activation can be blocked by the tx-node options for things like waiting for the next render frame.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.activate_submissions_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$activate_submissions_BANG_(p__49483){\r\nvar map__49484 = p__49483;\r\nvar map__49484__$1 = cljs.core.__destructure_map(map__49484);\r\nvar app__$1 = map__49484__$1;\r\nvar runtime_atom = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49484__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772));\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.any_QMARK_], null);\r\n\r\nvar map__49486 = cljs.core.group_by(cljs.core.comp.cljs$core$IFn$_invoke$arity$3(cljs.core.boolean$,new cljs.core.Keyword(null,\"after-render?\",\"after-render?\",595994030),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420)),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"submission-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/submission-queue\",-175778154).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(runtime_atom)));\r\nvar map__49486__$1 = cljs.core.__destructure_map(map__49486);\r\nvar blocked = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49486__$1,true);\r\nvar ready = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49486__$1,false);\r\nvar dispatched_nodes = cljs.core.mapv.cljs$core$IFn$_invoke$arity$2((function (p1__49481_SHARP_){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.dispatch_elements(p1__49481_SHARP_,com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$2(app__$1,p1__49481_SHARP_),com.fulcrologic.fulcro.mutations.mutate);\r\n}),ready);\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(runtime_atom,(function (a){\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.update.cljs$core$IFn$_invoke$arity$3(a,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active-queue\",162531286),(function (p1__49482_SHARP_){\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core.conj,p1__49482_SHARP_,dispatched_nodes);\r\n})),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"submission-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/submission-queue\",-175778154),cljs.core.vec(blocked));\r\n}));\r\n\r\nreturn (com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.process_queue_BANG_.cljs$core$IFn$_invoke$arity$1 ? com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.process_queue_BANG_.cljs$core$IFn$_invoke$arity$1(app__$1) : com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.process_queue_BANG_.call(null,app__$1));\r\n});\r\n/**\r\n * Schedule activation of submitted transactions.  The default implementation copies all submitted transactions onto\r\n * the active queue and immediately does an active queue processing step.  If `tm` is not supplied (in ms) it defaults to 10ms.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_activation_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$schedule_activation_BANG_(var_args){\r\nvar G__49489 = arguments.length;\r\nswitch (G__49489) {\r\ncase 2:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_activation_BANG_.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\r\n\r\nbreak;\r\ncase 1:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_activation_BANG_.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\r\n\r\nbreak;\r\ndefault:\r\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\r\n\r\n}\r\n});\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_activation_BANG_.cljs$core$IFn$_invoke$arity$2 = (function (app__$1,tm){\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),cljs.core.int_QMARK_,com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.any_QMARK_], null);\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.scheduling.schedule_BANG_.cljs$core$IFn$_invoke$arity$4(app__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"activation-scheduled?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/activation-scheduled?\",-955561668),com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.activate_submissions_BANG_,tm);\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_activation_BANG_.cljs$core$IFn$_invoke$arity$1 = (function (app__$1){\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.any_QMARK_], null);\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_activation_BANG_.cljs$core$IFn$_invoke$arity$2(app__$1,(0));\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_activation_BANG_.cljs$lang$maxFixedArity = 2);\r\n\r\n/**\r\n * Schedule a processing of the active queue, which will advance the active transactions by a step.\r\n * If `tm` is not supplied (in ms) it defaults to 10ms.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_queue_processing_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$schedule_queue_processing_BANG_(var_args){\r\nvar G__49493 = arguments.length;\r\nswitch (G__49493) {\r\ncase 2:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_queue_processing_BANG_.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\r\n\r\nbreak;\r\ncase 1:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_queue_processing_BANG_.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\r\n\r\nbreak;\r\ndefault:\r\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\r\n\r\n}\r\n});\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_queue_processing_BANG_.cljs$core$IFn$_invoke$arity$2 = (function (app__$1,tm){\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),cljs.core.int_QMARK_,com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.any_QMARK_], null);\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.scheduling.schedule_BANG_.cljs$core$IFn$_invoke$arity$4(app__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"queue-processing-scheduled?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/queue-processing-scheduled?\",-2065549690),com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.process_queue_BANG_,tm);\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_queue_processing_BANG_.cljs$core$IFn$_invoke$arity$1 = (function (app__$1){\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.any_QMARK_], null);\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_queue_processing_BANG_.cljs$core$IFn$_invoke$arity$2(app__$1,(0));\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_queue_processing_BANG_.cljs$lang$maxFixedArity = 2);\r\n\r\n/**\r\n * Schedule actual network activity. If `tm` is not supplied (in ms) it defaults to 0ms.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_sends_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$schedule_sends_BANG_(var_args){\r\nvar G__49496 = arguments.length;\r\nswitch (G__49496) {\r\ncase 2:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_sends_BANG_.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\r\n\r\nbreak;\r\ncase 1:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_sends_BANG_.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\r\n\r\nbreak;\r\ndefault:\r\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\r\n\r\n}\r\n});\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_sends_BANG_.cljs$core$IFn$_invoke$arity$2 = (function (app__$1,tm){\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),cljs.core.int_QMARK_,com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.any_QMARK_], null);\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.scheduling.schedule_BANG_.cljs$core$IFn$_invoke$arity$4(app__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"sends-scheduled?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/sends-scheduled?\",-844941333),com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.process_send_queues_BANG_,tm);\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_sends_BANG_.cljs$core$IFn$_invoke$arity$1 = (function (app__$1){\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.any_QMARK_], null);\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_sends_BANG_.cljs$core$IFn$_invoke$arity$2(app__$1,(0));\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_sends_BANG_.cljs$lang$maxFixedArity = 2);\r\n\r\n/**\r\n * Runs any incomplete and non-blocked optimistic operations on a node.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.advance_actions_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$advance_actions_BANG_(app__$1,p__49499){\r\nvar map__49501 = p__49499;\r\nvar map__49501__$1 = cljs.core.__destructure_map(map__49501);\r\nvar node = map__49501__$1;\r\nvar id = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49501__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423));\r\nvar elements = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49501__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330));\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node\",1427257903)], null);\r\n\r\nvar remotes = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.app__GT_remote_names(app__$1);\r\nvar reduction = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (p__49502,element){\r\nvar map__49503 = p__49502;\r\nvar map__49503__$1 = cljs.core.__destructure_map(map__49503);\r\nvar acc = map__49503__$1;\r\nvar done_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49503__$1,new cljs.core.Keyword(null,\"done?\",\"done?\",-1847001718));\r\nvar new_elements = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49503__$1,new cljs.core.Keyword(null,\"new-elements\",\"new-elements\",-378003171));\r\nif(cljs.core.truth_(done_QMARK_)){\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$4(acc,new cljs.core.Keyword(null,\"new-elements\",\"new-elements\",-378003171),cljs.core.conj,element);\r\n} else {\r\nvar map__49504 = element;\r\nvar map__49504__$1 = cljs.core.__destructure_map(map__49504);\r\nvar complete_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49504__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"complete?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/complete?\",-311612706));\r\nvar dispatch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49504__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"dispatch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/dispatch\",-262239660));\r\nvar original_ast_node = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49504__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"original-ast-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/original-ast-node\",2080944477));\r\nvar idx = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49504__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"idx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/idx\",-1121773698));\r\nvar map__49505 = dispatch;\r\nvar map__49505__$1 = cljs.core.__destructure_map(map__49505);\r\nvar action = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49505__$1,new cljs.core.Keyword(null,\"action\",\"action\",-811238024));\r\nvar remote_set = clojure.set.intersection.cljs$core$IFn$_invoke$arity$2(remotes,cljs.core.set(cljs.core.keys(dispatch)));\r\nvar exec_QMARK_ = (function (){var and__5043__auto__ = action;\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.not((function (){var or__5045__auto__ = done_QMARK_;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn (complete_QMARK_.cljs$core$IFn$_invoke$arity$1 ? complete_QMARK_.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,\"action\",\"action\",-811238024)) : complete_QMARK_.call(null,new cljs.core.Keyword(null,\"action\",\"action\",-811238024)));\r\n}\r\n})());\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})();\r\nvar fully_complete_QMARK_ = (function (){var and__5043__auto__ = (function (){var or__5045__auto__ = exec_QMARK_;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn (complete_QMARK_.cljs$core$IFn$_invoke$arity$1 ? complete_QMARK_.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,\"action\",\"action\",-811238024)) : complete_QMARK_.call(null,new cljs.core.Keyword(null,\"action\",\"action\",-811238024)));\r\n}\r\n})();\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.empty_QMARK_(clojure.set.difference.cljs$core$IFn$_invoke$arity$2(remote_set,complete_QMARK_));\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})();\r\nvar state_id_before = com.fulcrologic.fulcro.inspect.inspect_client.current_history_id(app__$1);\r\nvar state = new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"state-atom\",\"com.fulcrologic.fulcro.application/state-atom\",648128366).cljs$core$IFn$_invoke$arity$1(app__$1);\r\nvar state_before = cljs.core.deref(state);\r\nvar updated_element = (cljs.core.truth_(exec_QMARK_)?cljs.core.update.cljs$core$IFn$_invoke$arity$4(cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(element,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"state-before-action\",\"com.fulcrologic.fulcro.algorithms.tx-processing/state-before-action\",-1800721778),state_before),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"complete?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/complete?\",-311612706),cljs.core.conj,new cljs.core.Keyword(null,\"action\",\"action\",-811238024)):element);\r\nvar done_QMARK___$1 = cljs.core.not(fully_complete_QMARK_);\r\nvar new_acc = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"done?\",\"done?\",-1847001718),done_QMARK___$1,new cljs.core.Keyword(null,\"new-elements\",\"new-elements\",-378003171),cljs.core.conj.cljs$core$IFn$_invoke$arity$2(new_elements,updated_element)], null);\r\nvar env = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$3(app__$1,node,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"ast\",\"ast\",-860334068),original_ast_node], null));\r\nif(cljs.core.truth_(exec_QMARK_)){\r\ntry{if(cljs.core.truth_(action)){\r\n(action.cljs$core$IFn$_invoke$arity$1 ? action.cljs$core$IFn$_invoke$arity$1(env) : action.call(null,env));\r\n} else {\r\n}\r\n}catch (e49508){var e_49948 = e49508;\r\nvar mutation_symbol_49949 = new cljs.core.Keyword(null,\"dispatch-key\",\"dispatch-key\",733619510).cljs$core$IFn$_invoke$arity$1(original_ast_node);\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,445,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [e_49948,\"The `action` section of mutation\",mutation_symbol_49949,\"threw an exception. See https://book.fulcrologic.com/#err-txp-mut-action-exc\"], null);\r\n}),null)),null,1990194593,null);\r\n}\r\nif(cljs.core.truth_((function (){var and__5043__auto__ = (function (){var or__5045__auto__ = goog.DEBUG;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn com.fulcrologic.fulcro.inspect.inspect_client.INSPECT;\r\n}\r\n})();\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"disabled\",com.fulcrologic.fulcro.inspect.inspect_client.INSPECT);\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})())){\r\ntry{var tx_49951 = edn_query_language.core.ast__GT_expr.cljs$core$IFn$_invoke$arity$2(original_ast_node,true);\r\ncom.fulcrologic.fulcro.inspect.inspect_client.optimistic_action_finished_BANG_(app__$1,env,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,\"tx-id\",\"tx-id\",638275288),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(id),\"-\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(idx)].join(''),new cljs.core.Keyword(null,\"state-id-before\",\"state-id-before\",-1436953055),state_id_before,new cljs.core.Keyword(null,\"db-before\",\"db-before\",-553691536),state_before,new cljs.core.Keyword(null,\"db-after\",\"db-after\",-571884666),cljs.core.deref(state),new cljs.core.Keyword(null,\"tx\",\"tx\",466630418),tx_49951], null));\r\n}catch (e49510){var e_49952 = e49510;\r\n}} else {\r\n}\r\n} else {\r\n}\r\n\r\nreturn new_acc;\r\n}\r\n}),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"done?\",\"done?\",-1847001718),false,new cljs.core.Keyword(null,\"new-elements\",\"new-elements\",-378003171),cljs.core.PersistentVector.EMPTY], null),elements);\r\nvar new_elements = new cljs.core.Keyword(null,\"new-elements\",\"new-elements\",-378003171).cljs$core$IFn$_invoke$arity$1(reduction);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(node,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330),new_elements);\r\n});\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.run_actions_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$run_actions_BANG_(app__$1,p__49512){\r\nvar map__49513 = p__49512;\r\nvar map__49513__$1 = cljs.core.__destructure_map(map__49513);\r\nvar node = map__49513__$1;\r\nvar id = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49513__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423));\r\nvar elements = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49513__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330));\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node\",1427257903)], null);\r\n\r\nvar new_elements = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (new_elements,element){\r\nvar map__49515 = element;\r\nvar map__49515__$1 = cljs.core.__destructure_map(map__49515);\r\nvar idx = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49515__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"idx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/idx\",-1121773698));\r\nvar complete_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49515__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"complete?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/complete?\",-311612706));\r\nvar dispatch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49515__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"dispatch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/dispatch\",-262239660));\r\nvar original_ast_node = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49515__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"original-ast-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/original-ast-node\",2080944477));\r\nvar map__49516 = dispatch;\r\nvar map__49516__$1 = cljs.core.__destructure_map(map__49516);\r\nvar action = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49516__$1,new cljs.core.Keyword(null,\"action\",\"action\",-811238024));\r\nvar exec_QMARK_ = (function (){var and__5043__auto__ = action;\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.not((complete_QMARK_.cljs$core$IFn$_invoke$arity$1 ? complete_QMARK_.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,\"action\",\"action\",-811238024)) : complete_QMARK_.call(null,new cljs.core.Keyword(null,\"action\",\"action\",-811238024))));\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})();\r\nvar state_id_before = com.fulcrologic.fulcro.inspect.inspect_client.current_history_id(app__$1);\r\nvar state = new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"state-atom\",\"com.fulcrologic.fulcro.application/state-atom\",648128366).cljs$core$IFn$_invoke$arity$1(app__$1);\r\nvar state_before = cljs.core.deref(state);\r\nvar updated_node = (cljs.core.truth_(exec_QMARK_)?cljs.core.update.cljs$core$IFn$_invoke$arity$4(cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(element,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"state-before-action\",\"com.fulcrologic.fulcro.algorithms.tx-processing/state-before-action\",-1800721778),state_before),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"complete?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/complete?\",-311612706),cljs.core.conj,new cljs.core.Keyword(null,\"action\",\"action\",-811238024)):element);\r\nvar new_acc = cljs.core.conj.cljs$core$IFn$_invoke$arity$2(new_elements,updated_node);\r\nvar env = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$3(app__$1,node,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"ast\",\"ast\",-860334068),original_ast_node], null));\r\nif(cljs.core.truth_(exec_QMARK_)){\r\ntry{(action.cljs$core$IFn$_invoke$arity$1 ? action.cljs$core$IFn$_invoke$arity$1(env) : action.call(null,env));\r\n}catch (e49518){var e_49954 = e49518;\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,478,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [e_49954,\"The `action` section threw an exception for mutation: \",new cljs.core.Keyword(null,\"dispatch-key\",\"dispatch-key\",733619510).cljs$core$IFn$_invoke$arity$1(original_ast_node),\"See https://book.fulcrologic.com/#err-txp-mut-action-exc2\"], null);\r\n}),null)),null,-1008051732,null);\r\n}\r\nif(cljs.core.truth_((function (){var and__5043__auto__ = (function (){var or__5045__auto__ = goog.DEBUG;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn com.fulcrologic.fulcro.inspect.inspect_client.INSPECT;\r\n}\r\n})();\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"disabled\",com.fulcrologic.fulcro.inspect.inspect_client.INSPECT);\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})())){\r\ntry{var tx_49956 = edn_query_language.core.ast__GT_expr.cljs$core$IFn$_invoke$arity$2(original_ast_node,true);\r\ncom.fulcrologic.fulcro.inspect.inspect_client.optimistic_action_finished_BANG_(app__$1,env,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,\"tx-id\",\"tx-id\",638275288),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(id),\"-\",cljs.core.str.cljs$core$IFn$_invoke$arity$1(idx)].join(''),new cljs.core.Keyword(null,\"state-id-before\",\"state-id-before\",-1436953055),state_id_before,new cljs.core.Keyword(null,\"db-before\",\"db-before\",-553691536),state_before,new cljs.core.Keyword(null,\"db-after\",\"db-after\",-571884666),cljs.core.deref(state),new cljs.core.Keyword(null,\"tx\",\"tx\",466630418),tx_49956], null));\r\n}catch (e49519){var e_49957 = e49519;\r\n}} else {\r\n}\r\n} else {\r\n}\r\n\r\nreturn new_acc;\r\n}),cljs.core.PersistentVector.EMPTY,elements);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(node,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330),new_elements);\r\n});\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.fully_complete_QMARK_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$fully_complete_QMARK_(app__$1,p__49521){\r\nvar map__49522 = p__49521;\r\nvar map__49522__$1 = cljs.core.__destructure_map(map__49522);\r\nvar tx_node = map__49522__$1;\r\nvar elements = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49522__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330));\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.boolean_QMARK_], null);\r\n\r\nvar element_complete_QMARK_ = (function (p__49524){\r\nvar map__49525 = p__49524;\r\nvar map__49525__$1 = cljs.core.__destructure_map(map__49525);\r\nvar dispatch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49525__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"dispatch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/dispatch\",-262239660));\r\nvar complete_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49525__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"complete?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/complete?\",-311612706));\r\nvar remotes = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.app__GT_remote_names(app__$1);\r\nvar active_keys = clojure.set.union.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"action\",\"action\",-811238024),null], null), null),remotes);\r\nvar desired_set = clojure.set.intersection.cljs$core$IFn$_invoke$arity$2(active_keys,cljs.core.set(cljs.core.keys(dispatch)));\r\nreturn cljs.core.empty_QMARK_(clojure.set.difference.cljs$core$IFn$_invoke$arity$2(desired_set,complete_QMARK_));\r\n});\r\nreturn cljs.core.every_QMARK_(element_complete_QMARK_,elements);\r\n});\r\n/**\r\n * Record a network result on the given txn/element.\r\n * If result-key is given it is used, otherwise defaults to ::txn/results. Also removes the network send from the send\r\n * queue so that remaining items can proceed, and schedules send processing.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.record_result_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$record_result_BANG_(var_args){\r\nvar G__49528 = arguments.length;\r\nswitch (G__49528) {\r\ncase 6:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.record_result_BANG_.cljs$core$IFn$_invoke$arity$6((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),(arguments[(3)]),(arguments[(4)]),(arguments[(5)]));\r\n\r\nbreak;\r\ncase 5:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.record_result_BANG_.cljs$core$IFn$_invoke$arity$5((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),(arguments[(3)]),(arguments[(4)]));\r\n\r\nbreak;\r\ndefault:\r\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\r\n\r\n}\r\n});\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.record_result_BANG_.cljs$core$IFn$_invoke$arity$6 = (function (p__49530,txn_id,ele_idx,remote,result,result_key){\r\nvar map__49531 = p__49530;\r\nvar map__49531__$1 = cljs.core.__destructure_map(map__49531);\r\nvar app__$1 = map__49531__$1;\r\nvar runtime_atom = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49531__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772));\r\nnew cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423),cljs.core.int_QMARK_,cljs.core.keyword_QMARK_,cljs.core.any_QMARK_,cljs.core.keyword_QMARK_,com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.any_QMARK_], null);\r\n\r\nvar active_queue = new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active-queue\",162531286).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(runtime_atom));\r\nvar txn_idx = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (idx,p__49533){\r\nvar map__49534 = p__49533;\r\nvar map__49534__$1 = cljs.core.__destructure_map(map__49534);\r\nvar id = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49534__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423));\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(id,txn_id)){\r\nreturn cljs.core.reduced(idx);\r\n} else {\r\nreturn (idx + (1));\r\n}\r\n}),(0),active_queue);\r\nvar not_found_QMARK_ = (((txn_idx >= cljs.core.count(active_queue))) || (cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(txn_id,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(cljs.core.get.cljs$core$IFn$_invoke$arity$2(active_queue,txn_idx)))));\r\nif(not_found_QMARK_){\r\nreturn taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,516,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"Network result for\",remote,\"does not have a valid node on the active queue! See https://book.fulcrologic.com/#err-txp-res-lacks-valid-node\"], null);\r\n}),null)),null,1714985796,null);\r\n} else {\r\nreturn cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(runtime_atom,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active-queue\",162531286),txn_idx,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330),ele_idx,result_key,remote], null),result);\r\n}\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.record_result_BANG_.cljs$core$IFn$_invoke$arity$5 = (function (app__$1,txn_id,ele_idx,remote,result){\r\nnew cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423),cljs.core.int_QMARK_,cljs.core.keyword_QMARK_,cljs.core.any_QMARK_,com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.any_QMARK_], null);\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.record_result_BANG_.cljs$core$IFn$_invoke$arity$6(app__$1,txn_id,ele_idx,remote,result,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"results\",\"com.fulcrologic.fulcro.algorithms.tx-processing/results\",-1876101852));\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.record_result_BANG_.cljs$lang$maxFixedArity = 6);\r\n\r\n/**\r\n * Add the ::txn/desired-ast-nodes and ::txn/transmitted-ast-nodes for `remote` to the tx-element based on the dispatch for the `remote` of the original mutation.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.compute_desired_ast_node = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$compute_desired_ast_node(app__$1,remote,tx_node,tx_element){\r\nnew cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remote-name\",\"com.fulcrologic.fulcro.application/remote-name\",-1179129128),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-element\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-element\",-1533905811),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-element\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-element\",-208225198)], null);\r\n\r\nvar map__49537 = tx_element;\r\nvar map__49537__$1 = cljs.core.__destructure_map(map__49537);\r\nvar dispatch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49537__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"dispatch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/dispatch\",-262239660));\r\nvar original_ast_node = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49537__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"original-ast-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/original-ast-node\",2080944477));\r\nvar state_before_action = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49537__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"state-before-action\",\"com.fulcrologic.fulcro.algorithms.tx-processing/state-before-action\",-1800721778));\r\nvar env = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$3(app__$1,tx_node,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"ast\",\"ast\",-860334068),original_ast_node,new cljs.core.Keyword(null,\"state-before-action\",\"state-before-action\",104906671),state_before_action], null));\r\nvar remote_fn = cljs.core.get.cljs$core$IFn$_invoke$arity$2(dispatch,remote);\r\nvar remote_desire = (cljs.core.truth_(remote_fn)?(remote_fn.cljs$core$IFn$_invoke$arity$1 ? remote_fn.cljs$core$IFn$_invoke$arity$1(env) : remote_fn.call(null,env)):null);\r\nvar desired_ast = ((((remote_desire === false) || ((remote_desire == null))))?null:((remote_desire === true)?original_ast_node:((((cljs.core.map_QMARK_(remote_desire)) && (cljs.core.contains_QMARK_(remote_desire,new cljs.core.Keyword(null,\"ast\",\"ast\",-860334068)))))?new cljs.core.Keyword(null,\"ast\",\"ast\",-860334068).cljs$core$IFn$_invoke$arity$1(remote_desire):((((cljs.core.map_QMARK_(remote_desire)) && (cljs.core.contains_QMARK_(remote_desire,new cljs.core.Keyword(null,\"type\",\"type\",1174270348)))))?remote_desire:(function (){\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,537,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"Remote dispatch for\",remote,\"returned an invalid value.\",remote_desire,\"See https://book.fulcrologic.com/#err-txp-remote-dispatch-invalid-res\"], null);\r\n}),null)),null,1978159185,null);\r\n\r\nreturn remote_desire;\r\n})()\r\n\r\n))));\r\nvar query_transform = com.fulcrologic.fulcro.algorithms.lookup.app_algorithm(app__$1,new cljs.core.Keyword(null,\"global-eql-transform\",\"global-eql-transform\",145441548));\r\nvar ast = (cljs.core.truth_((function (){var and__5043__auto__ = desired_ast;\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn query_transform;\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})())?(query_transform.cljs$core$IFn$_invoke$arity$1 ? query_transform.cljs$core$IFn$_invoke$arity$1(desired_ast) : query_transform.call(null,desired_ast)):desired_ast);\r\nvar G__49540 = tx_element;\r\nvar G__49540__$1 = (cljs.core.truth_(desired_ast)?cljs.core.assoc_in(G__49540,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"desired-ast-nodes\",\"com.fulcrologic.fulcro.algorithms.tx-processing/desired-ast-nodes\",-1718643425),remote], null),desired_ast):G__49540);\r\nif(cljs.core.truth_(ast)){\r\nreturn cljs.core.assoc_in(G__49540__$1,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"transmitted-ast-nodes\",\"com.fulcrologic.fulcro.algorithms.tx-processing/transmitted-ast-nodes\",1065250687),remote], null),ast);\r\n} else {\r\nreturn G__49540__$1;\r\n}\r\n});\r\n/**\r\n * Generate a new send node and add it to the appropriate send queue. Returns the new send node.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.add_send_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$add_send_BANG_(p__49542,p__49543,ele_idx,remote){\r\nvar map__49544 = p__49542;\r\nvar map__49544__$1 = cljs.core.__destructure_map(map__49544);\r\nvar app__$1 = map__49544__$1;\r\nvar runtime_atom = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49544__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772));\r\nvar map__49545 = p__49543;\r\nvar map__49545__$1 = cljs.core.__destructure_map(map__49545);\r\nvar tx_node = map__49545__$1;\r\nvar id = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49545__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423));\r\nvar options = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49545__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420));\r\nvar parallel_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49545__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"parallel?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/parallel?\",1623289535));\r\nnew cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"idx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/idx\",-1121773698),new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remote-name\",\"com.fulcrologic.fulcro.application/remote-name\",-1179129128),com.fulcrologic.guardrails.core._EQ__GT_,cljs.spec.alpha.nilable_impl(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-node\",1624648157),null)], null);\r\n\r\nvar update_handler = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$add_send_BANG__$_progress_handler_STAR_(result){\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.record_result_BANG_.cljs$core$IFn$_invoke$arity$6(app__$1,id,ele_idx,remote,result,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"progress\",\"com.fulcrologic.fulcro.algorithms.tx-processing/progress\",1012736442));\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_queue_processing_BANG_.cljs$core$IFn$_invoke$arity$2(app__$1,(0));\r\n});\r\nvar ast = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(tx_node,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330),ele_idx,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"transmitted-ast-nodes\",\"com.fulcrologic.fulcro.algorithms.tx-processing/transmitted-ast-nodes\",1065250687),remote], null));\r\nvar remove_BANG_ = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing._STAR_remove_send_STAR_;\r\nvar handler = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$add_send_BANG__$_result_handler_STAR_(result){\r\nif(cljs.core.truth_(new cljs.core.Keyword(null,\"parallel?\",\"parallel?\",-25273892).cljs$core$IFn$_invoke$arity$1(options))){\r\nif(cljs.core.truth_((function (){var and__5043__auto__ = (function (){var or__5045__auto__ = goog.DEBUG;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nreturn com.fulcrologic.fulcro.inspect.inspect_client.INSPECT;\r\n}\r\n})();\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nreturn cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"disabled\",com.fulcrologic.fulcro.inspect.inspect_client.INSPECT);\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})())){\r\ntry{var map__49549_49994 = result;\r\nvar map__49549_49995__$1 = cljs.core.__destructure_map(map__49549_49994);\r\nvar status_code_49996 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49549_49995__$1,new cljs.core.Keyword(null,\"status-code\",\"status-code\",-1060410130));\r\nvar body_49997 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49549_49995__$1,new cljs.core.Keyword(null,\"body\",\"body\",-2049205669));\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2((200),status_code_49996)){\r\ncom.fulcrologic.fulcro.inspect.inspect_client.send_finished_BANG_(app__$1,remote,id,body_49997);\r\n} else {\r\ncom.fulcrologic.fulcro.inspect.inspect_client.send_failed_BANG_(app__$1,id,cljs.core.str.cljs$core$IFn$_invoke$arity$1(status_code_49996));\r\n}\r\n}catch (e49548){var e_49999 = e49548;\r\n}} else {\r\n}\r\n} else {\r\n}\r\n\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.record_result_BANG_.cljs$core$IFn$_invoke$arity$5(app__$1,id,ele_idx,remote,result);\r\n\r\n(remove_BANG_.cljs$core$IFn$_invoke$arity$4 ? remove_BANG_.cljs$core$IFn$_invoke$arity$4(app__$1,remote,id,ele_idx) : remove_BANG_.call(null,app__$1,remote,id,ele_idx));\r\n\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_sends_BANG_.cljs$core$IFn$_invoke$arity$2(app__$1,(1));\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_queue_processing_BANG_.cljs$core$IFn$_invoke$arity$2(app__$1,(0));\r\n});\r\nvar send_node = new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423),id,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"idx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/idx\",-1121773698),ele_idx,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"ast\",\"com.fulcrologic.fulcro.algorithms.tx-processing/ast\",1718830373),ast,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420),options,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active?\",966679517),false,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209),handler,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"update-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/update-handler\",-1256285755),update_handler], null);\r\nif(cljs.core.truth_(ast)){\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic(runtime_atom,cljs.core.update_in,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queues\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queues\",-1776480807),remote], null),cljs.core.fnil.cljs$core$IFn$_invoke$arity$2(cljs.core.conj,cljs.core.PersistentVector.EMPTY),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([send_node], 0));\r\n\r\nreturn send_node;\r\n} else {\r\nhandler(new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"status-code\",\"status-code\",-1060410130),(200),new cljs.core.Keyword(null,\"body\",\"body\",-2049205669),cljs.core.PersistentArrayMap.EMPTY], null));\r\n\r\nreturn null;\r\n}\r\n});\r\n/**\r\n * Queue all (unqueued) remote actions for the given element.  Returns the (possibly updated) node.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.queue_element_sends_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$queue_element_sends_BANG_(app__$1,tx_node,p__49551){\r\nvar map__49552 = p__49551;\r\nvar map__49552__$1 = cljs.core.__destructure_map(map__49552);\r\nvar idx = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49552__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"idx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/idx\",-1121773698));\r\nvar dispatch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49552__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"dispatch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/dispatch\",-262239660));\r\nvar started_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49552__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"started?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/started?\",1421241366));\r\nnew cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-element\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-element\",-1533905811),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node\",1427257903)], null);\r\n\r\nvar remotes = clojure.set.intersection.cljs$core$IFn$_invoke$arity$2(cljs.core.set(cljs.core.keys(dispatch)),com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.app__GT_remote_names(app__$1));\r\nvar to_dispatch = clojure.set.difference.cljs$core$IFn$_invoke$arity$2(remotes,started_QMARK_);\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (node,remote){\r\nif(cljs.core.contains_QMARK_(cljs.core.get_in.cljs$core$IFn$_invoke$arity$3(node,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330),idx,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"started?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/started?\",1421241366)], null),cljs.core.PersistentHashSet.EMPTY),remote)){\r\nreturn node;\r\n} else {\r\nvar updated_node = cljs.core.update_in.cljs$core$IFn$_invoke$arity$4(cljs.core.update_in.cljs$core$IFn$_invoke$arity$3(node,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330),idx], null),(function (tx_element){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.compute_desired_ast_node(app__$1,remote,node,tx_element);\r\n})),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330),idx,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"started?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/started?\",1421241366)], null),cljs.core.conj,remote);\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.add_send_BANG_(app__$1,updated_node,idx,remote);\r\n\r\nreturn updated_node;\r\n}\r\n}),tx_node,to_dispatch);\r\n});\r\n/**\r\n * Returns true if the given node has no active network operations.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.idle_node_QMARK_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$idle_node_QMARK_(p__49555){\r\nvar map__49556 = p__49555;\r\nvar map__49556__$1 = cljs.core.__destructure_map(map__49556);\r\nvar tx_node = map__49556__$1;\r\nvar elements = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49556__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330));\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.boolean_QMARK_], null);\r\n\r\nreturn cljs.core.every_QMARK_((function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$idle_node_QMARK__$_idle_QMARK__STAR_(p__49558){\r\nvar map__49559 = p__49558;\r\nvar map__49559__$1 = cljs.core.__destructure_map(map__49559);\r\nvar started_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49559__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"started?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/started?\",1421241366));\r\nvar complete_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49559__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"complete?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/complete?\",-311612706));\r\nvar in_progress = clojure.set.difference.cljs$core$IFn$_invoke$arity$2(started_QMARK_,complete_QMARK_);\r\nreturn cljs.core.empty_QMARK_(in_progress);\r\n}),elements);\r\n});\r\n/**\r\n * Returns a txnode element iff it has remaining (remote) work that has not been queued. Returns nil if there\r\n * is no such element.\r\n * \r\n *   remote-names is the set of legal remote names.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.element_with_work = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$element_with_work(remote_names,p__49560){\r\nvar map__49562 = p__49560;\r\nvar map__49562__$1 = cljs.core.__destructure_map(map__49562);\r\nvar element = map__49562__$1;\r\nvar dispatch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49562__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"dispatch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/dispatch\",-262239660));\r\nvar started_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49562__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"started?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/started?\",1421241366));\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remote-names\",\"com.fulcrologic.fulcro.application/remote-names\",1017468926),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-element\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-element\",-1533905811),com.fulcrologic.guardrails.core._EQ__GT_,cljs.spec.alpha.nilable_impl(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-element\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-element\",-208225198),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-element\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-element\",-208225198),null)], null);\r\n\r\nvar todo = clojure.set.intersection.cljs$core$IFn$_invoke$arity$2(remote_names,cljs.core.set(cljs.core.keys(dispatch)));\r\nvar remaining = clojure.set.difference.cljs$core$IFn$_invoke$arity$2(todo,started_QMARK_);\r\nif(cljs.core.seq(remaining)){\r\nreturn element;\r\n} else {\r\nreturn null;\r\n}\r\n});\r\n/**\r\n * Assumes tx-node is to be processed pessimistically. Queues the next send if the node is currently idle\r\n *   on the network and there are any sends left to do. Adds to the send queue, and returns the updated\r\n *   tx-node.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.queue_next_send_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$queue_next_send_BANG_(app__$1,p__49563){\r\nvar map__49564 = p__49563;\r\nvar map__49564__$1 = cljs.core.__destructure_map(map__49564);\r\nvar tx_node = map__49564__$1;\r\nvar elements = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49564__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330));\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node\",1427257903)], null);\r\n\r\nif(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.idle_node_QMARK_(tx_node)){\r\nvar remotes = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.app__GT_remote_names(app__$1);\r\nvar with_work = cljs.core.partial.cljs$core$IFn$_invoke$arity$2(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.element_with_work,remotes);\r\nvar element = cljs.core.some(with_work,elements);\r\nif(cljs.core.truth_(element)){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.queue_element_sends_BANG_(app__$1,tx_node,element);\r\n} else {\r\nreturn tx_node;\r\n}\r\n} else {\r\nreturn tx_node;\r\n}\r\n});\r\n/**\r\n * Finds any item(s) on the given node that are ready to be placed on the network queues and adds them. Non-optimistic\r\n *   multi-element nodes will only queue one remote operation at a time.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.queue_sends_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$queue_sends_BANG_(app__$1,p__49566){\r\nvar map__49567 = p__49566;\r\nvar map__49567__$1 = cljs.core.__destructure_map(map__49567);\r\nvar tx_node = map__49567__$1;\r\nvar options = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49567__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420));\r\nvar elements = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49567__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330));\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node\",1427257903)], null);\r\n\r\nvar optimistic_QMARK_ = cljs.core.boolean$(new cljs.core.Keyword(null,\"optimistic?\",\"optimistic?\",1829830869).cljs$core$IFn$_invoke$arity$1(options));\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_sends_BANG_.cljs$core$IFn$_invoke$arity$2(app__$1,(0));\r\n\r\nif(optimistic_QMARK_){\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (node,element){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.queue_element_sends_BANG_(app__$1,node,element);\r\n}),tx_node,elements);\r\n} else {\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.queue_next_send_BANG_(app__$1,tx_node);\r\n}\r\n});\r\n/**\r\n * Figure out the dispatch routine to trigger for the given network result.  If it exists, send the result\r\n *   to it.\r\n * \r\n *   Returns the tx-element with the remote marked complete.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.dispatch_result_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$dispatch_result_BANG_(app__$1,tx_node,p__49569,remote){\r\nvar map__49570 = p__49569;\r\nvar map__49570__$1 = cljs.core.__destructure_map(map__49570);\r\nvar tx_element = map__49570__$1;\r\nvar results = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49570__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"results\",\"com.fulcrologic.fulcro.algorithms.tx-processing/results\",-1876101852));\r\nvar dispatch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49570__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"dispatch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/dispatch\",-262239660));\r\nvar desired_ast_nodes = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49570__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"desired-ast-nodes\",\"com.fulcrologic.fulcro.algorithms.tx-processing/desired-ast-nodes\",-1718643425));\r\nvar transmitted_ast_nodes = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49570__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"transmitted-ast-nodes\",\"com.fulcrologic.fulcro.algorithms.tx-processing/transmitted-ast-nodes\",1065250687));\r\nvar original_ast_node = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49570__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"original-ast-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/original-ast-node\",2080944477));\r\nnew cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-element\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-element\",-1533905811),cljs.core.keyword_QMARK_,com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-element\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-element\",-208225198)], null);\r\n\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_queue_processing_BANG_.cljs$core$IFn$_invoke$arity$2(app__$1,(0));\r\n\r\nvar result_50023 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(results,remote);\r\nvar handler_50024 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(dispatch,new cljs.core.Keyword(null,\"result-action\",\"result-action\",-1254630246));\r\nif(cljs.core.truth_(handler_50024)){\r\nvar env_50025 = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$3(app__$1,tx_node,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,\"dispatch\",\"dispatch\",1319337009),dispatch,new cljs.core.Keyword(null,\"transacted-ast\",\"transacted-ast\",-442737948),original_ast_node,new cljs.core.Keyword(null,\"mutation-ast\",\"mutation-ast\",1077959891),cljs.core.get.cljs$core$IFn$_invoke$arity$2(desired_ast_nodes,remote),new cljs.core.Keyword(null,\"transmitted-ast\",\"transmitted-ast\",1828931690),cljs.core.get.cljs$core$IFn$_invoke$arity$2(transmitted_ast_nodes,remote),new cljs.core.Keyword(null,\"result\",\"result\",1415092211),result_50023], null));\r\ntry{(handler_50024.cljs$core$IFn$_invoke$arity$1 ? handler_50024.cljs$core$IFn$_invoke$arity$1(env_50025) : handler_50024.call(null,env_50025));\r\n}catch (e49572){var e_50031 = e49572;\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,675,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [e_50031,\"The result-action mutation handler for mutation\",new cljs.core.Keyword(null,\"dispatch-key\",\"dispatch-key\",733619510).cljs$core$IFn$_invoke$arity$1(original_ast_node),\"threw an exception. See https://book.fulcrologic.com/#err-txp-mut-res-action-exc\"], null);\r\n}),null)),null,-1874521026,null);\r\n}} else {\r\n}\r\n\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$4(tx_element,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"complete?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/complete?\",-311612706),cljs.core.conj,remote);\r\n});\r\n/**\r\n * Distribute results and mark the remotes for those elements as complete.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.distribute_element_results_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$distribute_element_results_BANG_(app__$1,tx_node,p__49574){\r\nvar map__49575 = p__49574;\r\nvar map__49575__$1 = cljs.core.__destructure_map(map__49575);\r\nvar tx_element = map__49575__$1;\r\nvar results = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49575__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"results\",\"com.fulcrologic.fulcro.algorithms.tx-processing/results\",-1876101852));\r\nvar complete_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49575__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"complete?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/complete?\",-311612706));\r\nnew cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-element\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-element\",-1533905811),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-element\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-element\",-208225198)], null);\r\n\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (new_element,remote){\r\nif(cljs.core.truth_((complete_QMARK_.cljs$core$IFn$_invoke$arity$1 ? complete_QMARK_.cljs$core$IFn$_invoke$arity$1(remote) : complete_QMARK_.call(null,remote)))){\r\nreturn new_element;\r\n} else {\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.dispatch_result_BANG_(app__$1,tx_node,new_element,remote);\r\n}\r\n}),tx_element,cljs.core.keys(results));\r\n});\r\n/**\r\n * Walk all elements of the tx-node and call result dispatch handlers for any results that have\r\n *   not been distributed.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.distribute_results_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$distribute_results_BANG_(app__$1,p__49577){\r\nvar map__49578 = p__49577;\r\nvar map__49578__$1 = cljs.core.__destructure_map(map__49578);\r\nvar tx_node = map__49578__$1;\r\nvar elements = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49578__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330));\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node\",1427257903)], null);\r\n\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(tx_node,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330),cljs.core.mapv.cljs$core$IFn$_invoke$arity$2((function (element){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.distribute_element_results_BANG_(app__$1,tx_node,element);\r\n}),elements));\r\n});\r\n/**\r\n * Report all progress items to any registered progress dispatch and clear them from the tx-node.\r\n *   Returns the updated tx-node.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.update_progress_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$update_progress_BANG_(app__$1,p__49580){\r\nvar map__49581 = p__49580;\r\nvar map__49581__$1 = cljs.core.__destructure_map(map__49581);\r\nvar tx_node = map__49581__$1;\r\nvar elements = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49581__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330));\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node\",1427257903)], null);\r\n\r\nvar get_env = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$update_progress_BANG__$_get_env_STAR_(remote,progress){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$3(app__$1,tx_node,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"remote\",\"remote\",-1593576576),remote,new cljs.core.Keyword(null,\"progress\",\"progress\",244323547),progress], null));\r\n});\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (node,p__49582){\r\nvar map__49583 = p__49582;\r\nvar map__49583__$1 = cljs.core.__destructure_map(map__49583);\r\nvar element = map__49583__$1;\r\nvar idx = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49583__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"idx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/idx\",-1121773698));\r\nvar progress = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49583__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"progress\",\"com.fulcrologic.fulcro.algorithms.tx-processing/progress\",1012736442));\r\nvar dispatch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49583__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"dispatch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/dispatch\",-262239660));\r\nvar original_ast_node = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49583__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"original-ast-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/original-ast-node\",2080944477));\r\nvar seq__49584_50037 = cljs.core.seq(progress);\r\nvar chunk__49585_50038 = null;\r\nvar count__49587_50039 = (0);\r\nvar i__49588_50040 = (0);\r\nwhile(true){\r\nif((i__49588_50040 < count__49587_50039)){\r\nvar vec__49599_50041 = chunk__49585_50038.cljs$core$IIndexed$_nth$arity$2(null,i__49588_50040);\r\nvar remote_50042 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49599_50041,(0),null);\r\nvar value_50043 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49599_50041,(1),null);\r\nvar env_50045 = get_env(remote_50042,value_50043);\r\nvar action_50046 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(dispatch,new cljs.core.Keyword(null,\"progress-action\",\"progress-action\",1342780181));\r\nif(cljs.core.truth_(action_50046)){\r\ntry{(action_50046.cljs$core$IFn$_invoke$arity$1 ? action_50046.cljs$core$IFn$_invoke$arity$1(env_50045) : action_50046.call(null,env_50045));\r\n}catch (e49602){var e_50047 = e49602;\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,715,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (seq__49584_50037,chunk__49585_50038,count__49587_50039,i__49588_50040,e_50047,env_50045,action_50046,vec__49599_50041,remote_50042,value_50043,map__49583,map__49583__$1,element,idx,progress,dispatch,original_ast_node,get_env,map__49581,map__49581__$1,tx_node,elements){\r\nreturn (function (){\r\nreturn new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [e_50047,\"Progress action threw an exception in mutation\",new cljs.core.Keyword(null,\"dispatch-key\",\"dispatch-key\",733619510).cljs$core$IFn$_invoke$arity$1(original_ast_node),\"See https://book.fulcrologic.com/#err-txp-progress-action-exc\"], null);\r\n});})(seq__49584_50037,chunk__49585_50038,count__49587_50039,i__49588_50040,e_50047,env_50045,action_50046,vec__49599_50041,remote_50042,value_50043,map__49583,map__49583__$1,element,idx,progress,dispatch,original_ast_node,get_env,map__49581,map__49581__$1,tx_node,elements))\r\n,null)),null,666870226,null);\r\n}} else {\r\n}\r\n\r\n\r\nvar G__50048 = seq__49584_50037;\r\nvar G__50049 = chunk__49585_50038;\r\nvar G__50050 = count__49587_50039;\r\nvar G__50051 = (i__49588_50040 + (1));\r\nseq__49584_50037 = G__50048;\r\nchunk__49585_50038 = G__50049;\r\ncount__49587_50039 = G__50050;\r\ni__49588_50040 = G__50051;\r\ncontinue;\r\n} else {\r\nvar temp__5804__auto___50052 = cljs.core.seq(seq__49584_50037);\r\nif(temp__5804__auto___50052){\r\nvar seq__49584_50053__$1 = temp__5804__auto___50052;\r\nif(cljs.core.chunked_seq_QMARK_(seq__49584_50053__$1)){\r\nvar c__5568__auto___50054 = cljs.core.chunk_first(seq__49584_50053__$1);\r\nvar G__50055 = cljs.core.chunk_rest(seq__49584_50053__$1);\r\nvar G__50056 = c__5568__auto___50054;\r\nvar G__50057 = cljs.core.count(c__5568__auto___50054);\r\nvar G__50058 = (0);\r\nseq__49584_50037 = G__50055;\r\nchunk__49585_50038 = G__50056;\r\ncount__49587_50039 = G__50057;\r\ni__49588_50040 = G__50058;\r\ncontinue;\r\n} else {\r\nvar vec__49604_50059 = cljs.core.first(seq__49584_50053__$1);\r\nvar remote_50060 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49604_50059,(0),null);\r\nvar value_50061 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__49604_50059,(1),null);\r\nvar env_50062 = get_env(remote_50060,value_50061);\r\nvar action_50063 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(dispatch,new cljs.core.Keyword(null,\"progress-action\",\"progress-action\",1342780181));\r\nif(cljs.core.truth_(action_50063)){\r\ntry{(action_50063.cljs$core$IFn$_invoke$arity$1 ? action_50063.cljs$core$IFn$_invoke$arity$1(env_50062) : action_50063.call(null,env_50062));\r\n}catch (e49607){var e_50065 = e49607;\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,715,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (seq__49584_50037,chunk__49585_50038,count__49587_50039,i__49588_50040,e_50065,env_50062,action_50063,vec__49604_50059,remote_50060,value_50061,seq__49584_50053__$1,temp__5804__auto___50052,map__49583,map__49583__$1,element,idx,progress,dispatch,original_ast_node,get_env,map__49581,map__49581__$1,tx_node,elements){\r\nreturn (function (){\r\nreturn new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [e_50065,\"Progress action threw an exception in mutation\",new cljs.core.Keyword(null,\"dispatch-key\",\"dispatch-key\",733619510).cljs$core$IFn$_invoke$arity$1(original_ast_node),\"See https://book.fulcrologic.com/#err-txp-progress-action-exc\"], null);\r\n});})(seq__49584_50037,chunk__49585_50038,count__49587_50039,i__49588_50040,e_50065,env_50062,action_50063,vec__49604_50059,remote_50060,value_50061,seq__49584_50053__$1,temp__5804__auto___50052,map__49583,map__49583__$1,element,idx,progress,dispatch,original_ast_node,get_env,map__49581,map__49581__$1,tx_node,elements))\r\n,null)),null,265747985,null);\r\n}} else {\r\n}\r\n\r\n\r\nvar G__50066 = cljs.core.next(seq__49584_50053__$1);\r\nvar G__50067 = null;\r\nvar G__50068 = (0);\r\nvar G__50069 = (0);\r\nseq__49584_50037 = G__50066;\r\nchunk__49585_50038 = G__50067;\r\ncount__49587_50039 = G__50068;\r\ni__49588_50040 = G__50069;\r\ncontinue;\r\n}\r\n} else {\r\n}\r\n}\r\nbreak;\r\n}\r\n\r\nreturn cljs.core.update_in.cljs$core$IFn$_invoke$arity$4(node,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330),idx], null),cljs.core.dissoc,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"progress\",\"com.fulcrologic.fulcro.algorithms.tx-processing/progress\",1012736442));\r\n}),tx_node,elements);\r\n});\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.process_tx_node_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$process_tx_node_BANG_(app__$1,p__49609){\r\nvar map__49610 = p__49609;\r\nvar map__49610__$1 = cljs.core.__destructure_map(map__49610);\r\nvar tx_node = map__49610__$1;\r\nvar options = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49610__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420));\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),com.fulcrologic.guardrails.core._EQ__GT_,cljs.spec.alpha.nilable_impl(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node\",1427257903),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node\",1427257903),null)], null);\r\n\r\nvar optimistic_QMARK_ = cljs.core.boolean$(new cljs.core.Keyword(null,\"optimistic?\",\"optimistic?\",1829830869).cljs$core$IFn$_invoke$arity$1(options));\r\nif(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.fully_complete_QMARK_(app__$1,tx_node)){\r\nreturn null;\r\n} else {\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.distribute_results_BANG_(app__$1,com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.update_progress_BANG_(app__$1,com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.queue_sends_BANG_(app__$1,(function (){var G__49611 = tx_node;\r\nvar G__49611__$1 = ((optimistic_QMARK_)?com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.run_actions_BANG_(app__$1,G__49611):G__49611);\r\nif((!(optimistic_QMARK_))){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.advance_actions_BANG_(app__$1,G__49611__$1);\r\n} else {\r\nreturn G__49611__$1;\r\n}\r\n})())));\r\n}\r\n});\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.requested_refreshes = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$requested_refreshes(app__$1,queue){\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),cljs.spec.alpha.every_impl.cljs$core$IFn$_invoke$arity$4(new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(\"cljs.spec.alpha\",\"conform-all\",\"cljs.spec.alpha/conform-all\",45201917),true,new cljs.core.Keyword(\"cljs.spec.alpha\",\"kind-form\",\"cljs.spec.alpha/kind-form\",-1047104697),null,new cljs.core.Keyword(\"cljs.spec.alpha\",\"describe\",\"cljs.spec.alpha/describe\",1883026911),cljs.core.list(new cljs.core.Symbol(\"cljs.spec.alpha\",\"coll-of\",\"cljs.spec.alpha/coll-of\",1019430407,null),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378)),new cljs.core.Keyword(\"cljs.spec.alpha\",\"cpred\",\"cljs.spec.alpha/cpred\",-693471218),(function (G__49613){\r\nreturn cljs.core.coll_QMARK_(G__49613);\r\n})], null),null),com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.set_QMARK_], null);\r\n\r\n\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (outer_acc,tx_node){\r\nvar env = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$2(app__$1,tx_node);\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (acc,element){\r\nvar map__49615 = element;\r\nvar map__49615__$1 = cljs.core.__destructure_map(map__49615);\r\nvar dispatch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49615__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"dispatch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/dispatch\",-262239660));\r\nvar refresh = new cljs.core.Keyword(null,\"refresh\",\"refresh\",1947415525).cljs$core$IFn$_invoke$arity$1(dispatch);\r\nif(cljs.core.truth_(refresh)){\r\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(acc,cljs.core.set((refresh.cljs$core$IFn$_invoke$arity$1 ? refresh.cljs$core$IFn$_invoke$arity$1(env) : refresh.call(null,env))));\r\n} else {\r\nreturn acc;\r\n}\r\n}),outer_acc,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330).cljs$core$IFn$_invoke$arity$1(tx_node));\r\n}),cljs.core.PersistentHashSet.EMPTY,queue);\r\n});\r\n/**\r\n * Given a tx node and the set of legal remotes: returns a set of remotes that are active on that node.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.remotes_active_on_node = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$remotes_active_on_node(p__49616,remotes){\r\nvar map__49617 = p__49616;\r\nvar map__49617__$1 = cljs.core.__destructure_map(map__49617);\r\nvar tx_node = map__49617__$1;\r\nvar elements = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49617__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"elements\",\"com.fulcrologic.fulcro.algorithms.tx-processing/elements\",-925101330));\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx-node\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx-node\",67879378),new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remote-names\",\"com.fulcrologic.fulcro.application/remote-names\",1017468926),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remote-names\",\"com.fulcrologic.fulcro.application/remote-names\",1017468926)], null);\r\n\r\nvar active_on_element = (function (p__49619){\r\nvar map__49620 = p__49619;\r\nvar map__49620__$1 = cljs.core.__destructure_map(map__49620);\r\nvar dispatch = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49620__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"dispatch\",\"com.fulcrologic.fulcro.algorithms.tx-processing/dispatch\",-262239660));\r\nvar complete_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49620__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"complete?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/complete?\",-311612706));\r\nvar remotes__$1 = cljs.core.set(remotes);\r\nreturn clojure.set.difference.cljs$core$IFn$_invoke$arity$2(clojure.set.intersection.cljs$core$IFn$_invoke$arity$2(remotes__$1,cljs.core.set(cljs.core.keys(dispatch))),complete_QMARK_);\r\n});\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (acc,ele){\r\nreturn clojure.set.union.cljs$core$IFn$_invoke$arity$2(acc,active_on_element(ele));\r\n}),cljs.core.PersistentHashSet.EMPTY,elements);\r\n});\r\n/**\r\n * Calculate which remotes still have network activity to do on the given active queue.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.active_remotes = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$active_remotes(queue,remotes){\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active-queue\",162531286),new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remote-names\",\"com.fulcrologic.fulcro.application/remote-names\",1017468926),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"active-remotes\",\"com.fulcrologic.fulcro.application/active-remotes\",873903005)], null);\r\n\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (ra,n){\r\nreturn clojure.set.union.cljs$core$IFn$_invoke$arity$2(ra,com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.remotes_active_on_node(n,remotes));\r\n}),cljs.core.PersistentHashSet.EMPTY,queue);\r\n});\r\n/**\r\n * Run through the active queue and do a processing step.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.process_queue_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$process_queue_BANG_(p__49622){\r\nvar map__49623 = p__49622;\r\nvar map__49623__$1 = cljs.core.__destructure_map(map__49623);\r\nvar app__$1 = map__49623__$1;\r\nvar state_atom = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49623__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"state-atom\",\"com.fulcrologic.fulcro.application/state-atom\",648128366));\r\nvar runtime_atom = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49623__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772));\r\nnew cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),com.fulcrologic.guardrails.core._EQ__GT_,cljs.core.any_QMARK_], null);\r\n\r\nvar new_queue = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$process_queue_BANG__$__STAR_pstep(new_queue,n){\r\nvar temp__5802__auto__ = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.process_tx_node_BANG_(app__$1,n);\r\nif(cljs.core.truth_(temp__5802__auto__)){\r\nvar new_node = temp__5802__auto__;\r\nreturn cljs.core.conj.cljs$core$IFn$_invoke$arity$2(new_queue,new_node);\r\n} else {\r\nreturn new_queue;\r\n}\r\n}),cljs.core.PersistentVector.EMPTY,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active-queue\",162531286).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(runtime_atom)));\r\nvar accumulate = (function (r,items){\r\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.set(r),items);\r\n});\r\nvar remotes = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.app__GT_remote_names(app__$1);\r\nvar schedule_render_BANG_ = com.fulcrologic.fulcro.algorithms.lookup.app_algorithm(app__$1,new cljs.core.Keyword(null,\"schedule-render!\",\"schedule-render!\",2095050350));\r\nvar explicit_refresh = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.requested_refreshes(app__$1,new_queue);\r\nvar remotes_active_QMARK_ = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.active_remotes(new_queue,remotes);\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(state_atom,cljs.core.assoc,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"active-remotes\",\"com.fulcrologic.fulcro.application/active-remotes\",873903005),remotes_active_QMARK_);\r\n\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(runtime_atom,cljs.core.assoc,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active-queue\",162531286),new_queue);\r\n\r\nif(cljs.core.seq(explicit_refresh)){\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic(runtime_atom,cljs.core.update,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"to-refresh\",\"com.fulcrologic.fulcro.application/to-refresh\",-967758829),accumulate,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([explicit_refresh], 0));\r\n} else {\r\n}\r\n\r\n(schedule_render_BANG_.cljs$core$IFn$_invoke$arity$1 ? schedule_render_BANG_.cljs$core$IFn$_invoke$arity$1(app__$1) : schedule_render_BANG_.call(null,app__$1));\r\n\r\nreturn null;\r\n});\r\n/**\r\n * Run the optimistic action(s) of a transaction synchronously. It is primarily used to deal with controlled inputs, since they\r\n * have issues working asynchronously, so ideally the mutation in question will *not* have remote action (though they\r\n * are allowed to).\r\n * \r\n * NOTE: any *remote* behaviors of `tx` will *still be async*.\r\n * \r\n * This function:\r\n * \r\n * * Runs the optimistic side of the mutation(s)\r\n * * IF (and only if) one or more of the mutations has more sections than just an `action` then it submits the mutation to the normal transaction queue,\r\n *   but with the optimistic part already done.\r\n * * This functions *does not* queue a render refresh (though if the normal transaction queue is updated, it will queue tx remote processing, which will trigger a UI refresh).\r\n * \r\n * If you pass it an on-screen instance that has a query and ident, then this function tunnel updated UI props synchronously to that\r\n * component so it can refresh immediately and avoid DOM input issues.\r\n * \r\n * Returns the new component props or the final state map if no component was used in the transaction.\r\n * \r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.transact_sync_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$transact_sync_BANG_(app__$1,tx,p__49627){\r\nvar map__49628 = p__49627;\r\nvar map__49628__$1 = cljs.core.__destructure_map(map__49628);\r\nvar options = map__49628__$1;\r\nvar component = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49628__$1,new cljs.core.Keyword(null,\"component\",\"component\",1555936782));\r\nvar ref = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49628__$1,new cljs.core.Keyword(null,\"ref\",\"ref\",1289896967));\r\nvar mutation_nodes = new cljs.core.Keyword(null,\"children\",\"children\",-940561982).cljs$core$IFn$_invoke$arity$1(edn_query_language.core.query__GT_ast(tx));\r\nvar ast_node__GT_operation = cljs.core.zipmap(mutation_nodes,cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (ast_node){\r\nreturn com.fulcrologic.fulcro.mutations.mutate.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"ast\",\"ast\",-860334068),ast_node], null));\r\n}),mutation_nodes));\r\nvar map__49630 = cljs.core.group_by((function (p1__49626_SHARP_){\r\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"action\",\"action\",-811238024),null,new cljs.core.Keyword(null,\"result-action\",\"result-action\",-1254630246),null], null), null),cljs.core.set(cljs.core.keys((ast_node__GT_operation.cljs$core$IFn$_invoke$arity$1 ? ast_node__GT_operation.cljs$core$IFn$_invoke$arity$1(p1__49626_SHARP_) : ast_node__GT_operation.call(null,p1__49626_SHARP_)))));\r\n}),mutation_nodes);\r\nvar map__49630__$1 = cljs.core.__destructure_map(map__49630);\r\nvar optimistic = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49630__$1,true);\r\nvar mixed = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49630__$1,false);\r\nvar optimistic_tx_node = ((cljs.core.seq(optimistic))?(function (){var node = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.tx_node.cljs$core$IFn$_invoke$arity$2(edn_query_language.core.ast__GT_query(new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"type\",\"type\",1174270348),new cljs.core.Keyword(null,\"root\",\"root\",-448657453),new cljs.core.Keyword(null,\"children\",\"children\",-940561982),optimistic], null)),options);\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.dispatch_elements(node,com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$2(app__$1,node),com.fulcrologic.fulcro.mutations.mutate);\r\n})():null);\r\nvar mixed_tx_node = ((cljs.core.seq(mixed))?(function (){var node = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.tx_node.cljs$core$IFn$_invoke$arity$2(edn_query_language.core.ast__GT_query(new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"type\",\"type\",1174270348),new cljs.core.Keyword(null,\"root\",\"root\",-448657453),new cljs.core.Keyword(null,\"children\",\"children\",-940561982),mixed], null)),options);\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.dispatch_elements(node,com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env.cljs$core$IFn$_invoke$arity$2(app__$1,node),com.fulcrologic.fulcro.mutations.mutate);\r\n})():null);\r\nvar resulting_node_id = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(null);\r\nif(cljs.core.truth_(optimistic_tx_node)){\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.run_actions_BANG_(app__$1,optimistic_tx_node);\r\n} else {\r\n}\r\n\r\nif(cljs.core.truth_(mixed_tx_node)){\r\nvar node_50085 = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.run_actions_BANG_(app__$1,mixed_tx_node);\r\nvar runtime_atom_50086 = new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772).cljs$core$IFn$_invoke$arity$1(app__$1);\r\ncljs.core.reset_BANG_(resulting_node_id,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(node_50085));\r\n\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic(runtime_atom_50086,cljs.core.update,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active-queue\",162531286),cljs.core.conj,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([node_50085], 0));\r\n\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_queue_processing_BANG_.cljs$core$IFn$_invoke$arity$2(app__$1,(20));\r\n} else {\r\n}\r\n\r\nif(cljs.core.truth_((function (){var and__5043__auto__ = component;\r\nif(cljs.core.truth_(and__5043__auto__)){\r\nvar and__5043__auto____$1 = (com.fulcrologic.fulcro.raw.components.component_QMARK_.cljs$core$IFn$_invoke$arity$1 ? com.fulcrologic.fulcro.raw.components.component_QMARK_.cljs$core$IFn$_invoke$arity$1(component) : com.fulcrologic.fulcro.raw.components.component_QMARK_.call(null,component));\r\nif(cljs.core.truth_(and__5043__auto____$1)){\r\nreturn com.fulcrologic.fulcro.raw.components.has_ident_QMARK_(component);\r\n} else {\r\nreturn and__5043__auto____$1;\r\n}\r\n} else {\r\nreturn and__5043__auto__;\r\n}\r\n})())){\r\nvar temp__5804__auto___50089 = com.fulcrologic.fulcro.algorithms.lookup.app_algorithm(app__$1,new cljs.core.Keyword(null,\"refresh-component!\",\"refresh-component!\",-872161039));\r\nif(cljs.core.truth_(temp__5804__auto___50089)){\r\nvar refresh_component_BANG__50091 = temp__5804__auto___50089;\r\n(refresh_component_BANG__50091.cljs$core$IFn$_invoke$arity$1 ? refresh_component_BANG__50091.cljs$core$IFn$_invoke$arity$1(component) : refresh_component_BANG__50091.call(null,component));\r\n} else {\r\n}\r\n} else {\r\nif(cljs.core.truth_(ref)){\r\nvar r_BANG__50092 = com.fulcrologic.fulcro.algorithms.lookup.app_algorithm(app__$1,new cljs.core.Keyword(null,\"render!\",\"render!\",-1848688504));\r\nif(cljs.core.truth_(r_BANG__50092)){\r\n(r_BANG__50092.cljs$core$IFn$_invoke$arity$1 ? r_BANG__50092.cljs$core$IFn$_invoke$arity$1(app__$1) : r_BANG__50092.call(null,app__$1));\r\n} else {\r\n}\r\n} else {\r\nif(cljs.core.truth_(goog.DEBUG)){\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"warn\",\"warn\",-436710552),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,847,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"Synchronous transaction was submitted on the app or a component without an ident. No UI refresh will happen. See https://book.fulcrologic.com/#warn-tx-missing-ident\"], null);\r\n}),null)),null,-1686545074,null);\r\n} else {\r\n}\r\n\r\n}\r\n}\r\n\r\nreturn cljs.core.deref(resulting_node_id);\r\n});\r\n/**\r\n * Default (Fulcro-2 compatible) transaction submission. The options map can contain any additional options\r\n *   that might be used by the transaction processing (or UI refresh).\r\n * \r\n *   Some that may be supported (depending on application settings):\r\n * \r\n *   - `:optimistic?` - boolean. Should the transaction be processed optimistically?\r\n *   - `:ref` - ident. The component ident to include in the transaction env.\r\n *   - `:component` - React element. The instance of the component that should appear in the transaction env.\r\n *   - `:refresh` - Vector containing idents (of components) and keywords (of props). Things that have changed and should be re-rendered\r\n *  on screen. Only necessary when the underlying rendering algorithm won't auto-detect, such as when UI is derived from the\r\n *  state of other components or outside of the directly queried props. Interpretation depends on the renderer selected:\r\n *  The ident-optimized render treats these as \"extras\".\r\n *   - `:only-refresh` - Vector of idents/keywords.  If the underlying rendering configured algorithm supports it: The\r\n *  components using these are the *only* things that will be refreshed in the UI.\r\n *  This can be used to avoid the overhead of looking for stale data when you know exactly what\r\n *  you want to refresh on screen as an extra optimization. Idents are *not* checked against queries.\r\n * \r\n *   WARNING: `:only-refresh` can cause missed refreshes because rendering is debounced. If you are using this for\r\n *         rapid-fire updates like drag-and-drop it is recommended that on the trailing edge (e.g. drop) of your sequence you\r\n *         force a normal refresh via `app/render!`.\r\n * \r\n *   If the `options` include `:ref` (which comp/transact! sets), then it will be auto-included on the `:refresh` list.\r\n * \r\n *   NOTE: Fulcro 2 'follow-on reads' are supported and are added to the `:refresh` entries. Your choice of rendering\r\n *   algorithm will influence their necessity.\r\n * \r\n *   Returns the transaction ID of the submitted transaction.\r\n *   \r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.default_tx_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$default_tx_BANG_(var_args){\r\nvar G__49636 = arguments.length;\r\nswitch (G__49636) {\r\ncase 2:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.default_tx_BANG_.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\r\n\r\nbreak;\r\ncase 3:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.default_tx_BANG_.cljs$core$IFn$_invoke$arity$3((arguments[(0)]),(arguments[(1)]),(arguments[(2)]));\r\n\r\nbreak;\r\ndefault:\r\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\r\n\r\n}\r\n});\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.default_tx_BANG_.cljs$core$IFn$_invoke$arity$2 = (function (app__$1,tx){\r\nnew cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx\",-1165026763),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423)], null);\r\n\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.default_tx_BANG_.cljs$core$IFn$_invoke$arity$3(app__$1,tx,cljs.core.PersistentArrayMap.EMPTY);\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.default_tx_BANG_.cljs$core$IFn$_invoke$arity$3 = (function (p__49638,tx,p__49639){\r\nvar map__49640 = p__49638;\r\nvar map__49640__$1 = cljs.core.__destructure_map(map__49640);\r\nvar app__$1 = map__49640__$1;\r\nvar runtime_atom = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49640__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772));\r\nvar map__49641 = p__49639;\r\nvar map__49641__$1 = cljs.core.__destructure_map(map__49641);\r\nvar options = map__49641__$1;\r\nvar synchronous_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49641__$1,new cljs.core.Keyword(null,\"synchronous?\",\"synchronous?\",1705588391));\r\nnew cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"app\",\"com.fulcrologic.fulcro.application/app\",-1014694064),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"tx\",\"com.fulcrologic.fulcro.algorithms.tx-processing/tx\",-1165026763),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"options\",\"com.fulcrologic.fulcro.algorithms.tx-processing/options\",2016767420),com.fulcrologic.guardrails.core._EQ__GT_,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423)], null);\r\n\r\nif(cljs.core.truth_(synchronous_QMARK_)){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.transact_sync_BANG_(app__$1,tx,options);\r\n} else {\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_activation_BANG_.cljs$core$IFn$_invoke$arity$1(app__$1);\r\n\r\nvar map__49643 = cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"optimistic?\",\"optimistic?\",1829830869),true], null),options], 0));\r\nvar map__49643__$1 = cljs.core.__destructure_map(map__49643);\r\nvar options__$1 = map__49643__$1;\r\nvar refresh = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49643__$1,new cljs.core.Keyword(null,\"refresh\",\"refresh\",1947415525));\r\nvar only_refresh = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49643__$1,new cljs.core.Keyword(null,\"only-refresh\",\"only-refresh\",548241249));\r\nvar ref = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49643__$1,new cljs.core.Keyword(null,\"ref\",\"ref\",1289896967));\r\nvar follow_on_reads = cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentHashSet.EMPTY,cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__49634_SHARP_){\r\nreturn (((p1__49634_SHARP_ instanceof cljs.core.Keyword)) || (edn_query_language.core.ident_QMARK_(p1__49634_SHARP_)));\r\n}),tx));\r\nvar node = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.tx_node.cljs$core$IFn$_invoke$arity$2(tx,options__$1);\r\nvar accumulate = (function (r,items){\r\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.set(r),items);\r\n});\r\nvar refresh__$1 = (function (){var G__49645 = cljs.core.set(refresh);\r\nvar G__49645__$1 = ((cljs.core.seq(follow_on_reads))?cljs.core.into.cljs$core$IFn$_invoke$arity$2(G__49645,follow_on_reads):G__49645);\r\nif(cljs.core.truth_(ref)){\r\nreturn cljs.core.conj.cljs$core$IFn$_invoke$arity$2(G__49645__$1,ref);\r\n} else {\r\nreturn G__49645__$1;\r\n}\r\n})();\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(runtime_atom,(function (s){\r\nvar G__49646 = cljs.core.update.cljs$core$IFn$_invoke$arity$4(s,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"submission-queue\",\"com.fulcrologic.fulcro.algorithms.tx-processing/submission-queue\",-175778154),(function (v,n){\r\nreturn cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.vec(v),n);\r\n}),node);\r\nvar G__49646__$1 = ((cljs.core.seq(refresh__$1))?cljs.core.update.cljs$core$IFn$_invoke$arity$4(G__49646,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"to-refresh\",\"com.fulcrologic.fulcro.application/to-refresh\",-967758829),accumulate,refresh__$1):G__49646);\r\nif(cljs.core.seq(only_refresh)){\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$4(G__49646__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"only-refresh\",\"com.fulcrologic.fulcro.application/only-refresh\",1300408206),accumulate,only_refresh);\r\n} else {\r\nreturn G__49646__$1;\r\n}\r\n}));\r\n\r\nreturn new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"id\",\"com.fulcrologic.fulcro.algorithms.tx-processing/id\",1199810423).cljs$core$IFn$_invoke$arity$1(node);\r\n}\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.default_tx_BANG_.cljs$lang$maxFixedArity = 3);\r\n\r\n/**\r\n * Abort any elements in the given send-queue that have the given abort id.\r\n * \r\n *   Aborting will cause the network to abort (which will report a result), or if the item is not yet active a\r\n *   virtual result will still be sent for that node.\r\n * \r\n *   Returns a new send-queue that no longer contains the aborted nodes.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.abort_elements_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$abort_elements_BANG_(p__49649,send_queue,abort_id){\r\nvar map__49650 = p__49649;\r\nvar map__49650__$1 = cljs.core.__destructure_map(map__49650);\r\nvar remote = map__49650__$1;\r\nvar abort_BANG_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49650__$1,new cljs.core.Keyword(null,\"abort!\",\"abort!\",-220883953));\r\nif(cljs.core.truth_(abort_BANG_)){\r\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (result,p__49651){\r\nvar map__49652 = p__49651;\r\nvar map__49652__$1 = cljs.core.__destructure_map(map__49652);\r\nvar send_node = map__49652__$1;\r\nvar active_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49652__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active?\",966679517));\r\nvar result_handler = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49652__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209));\r\nvar aid = com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.node_abort_id(send_node);\r\nif(cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(aid,abort_id)){\r\nreturn cljs.core.conj.cljs$core$IFn$_invoke$arity$2(result,send_node);\r\n} else {\r\nif(cljs.core.truth_(active_QMARK_)){\r\n(abort_BANG_.cljs$core$IFn$_invoke$arity$2 ? abort_BANG_.cljs$core$IFn$_invoke$arity$2(remote,abort_id) : abort_BANG_.call(null,remote,abort_id));\r\n\r\nreturn result;\r\n} else {\r\nvar G__49654_50102 = new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"status-text\",\"status-text\",-1834235478),\"Cancelled\",new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"aborted?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/aborted?\",2086149958),true], null);\r\n(result_handler.cljs$core$IFn$_invoke$arity$1 ? result_handler.cljs$core$IFn$_invoke$arity$1(G__49654_50102) : result_handler.call(null,G__49654_50102));\r\n\r\nreturn result;\r\n\r\n}\r\n}\r\n}),cljs.core.PersistentVector.EMPTY,send_queue);\r\n} else {\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,925,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\r\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"Cannot abort network requests. The remote has no abort support! See https://book.fulcrologic.com/#err-txp-cant-abort\"], null);\r\n}),null)),null,1592967178,null);\r\n\r\nreturn send_queue;\r\n}\r\n});\r\n/**\r\n * Implementation of abort when using this tx processing\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.abort_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$abort_BANG_(app__$1,abort_id){\r\nvar map__49656 = com.fulcrologic.fulcro.raw.components.any__GT_app(app__$1);\r\nvar map__49656__$1 = cljs.core.__destructure_map(map__49656);\r\nvar runtime_atom = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49656__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772));\r\nvar runtime_state = cljs.core.deref(runtime_atom);\r\nvar map__49657 = runtime_state;\r\nvar map__49657__$1 = cljs.core.__destructure_map(map__49657);\r\nvar remotes = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49657__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remotes\",\"com.fulcrologic.fulcro.application/remotes\",1823703517));\r\nvar send_queues = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49657__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queues\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queues\",-1776480807));\r\nvar remote_names = cljs.core.keys(send_queues);\r\nvar new_send_queues = cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (result,remote_name){\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(result,remote_name,com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.abort_elements_BANG_(cljs.core.get.cljs$core$IFn$_invoke$arity$2(remotes,remote_name),cljs.core.get.cljs$core$IFn$_invoke$arity$2(send_queues,remote_name),abort_id));\r\n}),cljs.core.PersistentArrayMap.EMPTY,remote_names);\r\nreturn cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(runtime_atom,cljs.core.assoc,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queues\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queues\",-1776480807),new_send_queues);\r\n});\r\n/**\r\n * Cause everything in the active network queue for remote to be cancelled. Any result that (finally) appears for aborted\r\n *   items will be ignored. This will cause a hard error to be \"received\" as the result for everything\r\n *   that is in the send queue of the given remote.\r\n * \r\n *   This function is mainly meant for use in development mode when dealing with a buggy remote implementation.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.abort_remote_BANG_ = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$abort_remote_BANG_(app_ish,remote){\r\nvar app__$1 = com.fulcrologic.fulcro.raw.components.any__GT_app(app_ish);\r\nvar map__49659 = com.fulcrologic.fulcro.raw.components.any__GT_app(app__$1);\r\nvar map__49659__$1 = cljs.core.__destructure_map(map__49659);\r\nvar state_atom = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49659__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"state-atom\",\"com.fulcrologic.fulcro.application/state-atom\",648128366));\r\nvar runtime_atom = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49659__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772));\r\nvar map__49660 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(runtime_atom),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remotes\",\"com.fulcrologic.fulcro.application/remotes\",1823703517),remote], null));\r\nvar map__49660__$1 = cljs.core.__destructure_map(map__49660);\r\nvar the_remote = map__49660__$1;\r\nvar abort_network_BANG_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49660__$1,new cljs.core.Keyword(null,\"abort!\",\"abort!\",-220883953));\r\nvar old_send_queue = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(runtime_atom),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queues\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queues\",-1776480807),remote], null));\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(runtime_atom,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"send-queues\",\"com.fulcrologic.fulcro.algorithms.tx-processing/send-queues\",-1776480807),remote], null),cljs.core.PersistentVector.EMPTY);\r\n\r\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$variadic(state_atom,cljs.core.update,new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"active-remotes\",\"com.fulcrologic.fulcro.application/active-remotes\",873903005),cljs.core.fnil.cljs$core$IFn$_invoke$arity$2(cljs.core.disj,cljs.core.PersistentHashSet.EMPTY),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([remote], 0));\r\n\r\nvar seq__49662 = cljs.core.seq(old_send_queue);\r\nvar chunk__49667 = null;\r\nvar count__49668 = (0);\r\nvar i__49669 = (0);\r\nwhile(true){\r\nif((i__49669 < count__49668)){\r\nvar map__49703 = chunk__49667.cljs$core$IIndexed$_nth$arity$2(null,i__49669);\r\nvar map__49703__$1 = cljs.core.__destructure_map(map__49703);\r\nvar send_node = map__49703__$1;\r\nvar active_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49703__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active?\",966679517));\r\nvar result_handler = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49703__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209));\r\nvar seq__49670_50115 = cljs.core.seq(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.node_abort_id(send_node));\r\nvar chunk__49671_50116 = null;\r\nvar count__49672_50117 = (0);\r\nvar i__49673_50118 = (0);\r\nwhile(true){\r\nif((i__49673_50118 < count__49672_50117)){\r\nvar aid_50119 = chunk__49671_50116.cljs$core$IIndexed$_nth$arity$2(null,i__49673_50118);\r\ntry{if(cljs.core.truth_(active_QMARK_)){\r\nif(cljs.core.truth_(abort_network_BANG_)){\r\n(abort_network_BANG_.cljs$core$IFn$_invoke$arity$2 ? abort_network_BANG_.cljs$core$IFn$_invoke$arity$2(the_remote,aid_50119) : abort_network_BANG_.call(null,the_remote,aid_50119));\r\n} else {\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"warn\",\"warn\",-436710552),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,965,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (seq__49670_50115,chunk__49671_50116,count__49672_50117,i__49673_50118,seq__49662,chunk__49667,count__49668,i__49669,aid_50119,map__49703,map__49703__$1,send_node,active_QMARK_,result_handler,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue){\r\nreturn (function (){\r\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"Remote does not support abort. Clearing the queue, but a spurious result may still appear. See https://book.fulcrologic.com/#warn-tx-remote-abort-not-supported\"], null);\r\n});})(seq__49670_50115,chunk__49671_50116,count__49672_50117,i__49673_50118,seq__49662,chunk__49667,count__49668,i__49669,aid_50119,map__49703,map__49703__$1,send_node,active_QMARK_,result_handler,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue))\r\n,null)),null,-1101766763,null);\r\n}\r\n} else {\r\n}\r\n\r\nvar G__49713_50123 = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"status-code\",\"status-code\",-1060410130),(500),new cljs.core.Keyword(null,\"body\",\"body\",-2049205669),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,\"status-text\",\"status-text\",-1834235478),\"Globally Aborted\",new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"aborted?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/aborted?\",2086149958),true], null);\r\n(result_handler.cljs$core$IFn$_invoke$arity$1 ? result_handler.cljs$core$IFn$_invoke$arity$1(G__49713_50123) : result_handler.call(null,G__49713_50123));\r\n}catch (e49711){var e_50127 = e49711;\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,971,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (seq__49670_50115,chunk__49671_50116,count__49672_50117,i__49673_50118,seq__49662,chunk__49667,count__49668,i__49669,e_50127,aid_50119,map__49703,map__49703__$1,send_node,active_QMARK_,result_handler,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue){\r\nreturn (function (){\r\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [e_50127,\"Failed to abort send node. See https://book.fulcrologic.com/#err-txp-abort-failed\"], null);\r\n});})(seq__49670_50115,chunk__49671_50116,count__49672_50117,i__49673_50118,seq__49662,chunk__49667,count__49668,i__49669,e_50127,aid_50119,map__49703,map__49703__$1,send_node,active_QMARK_,result_handler,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue))\r\n,null)),null,2119111099,null);\r\n}\r\n\r\nvar G__50131 = seq__49670_50115;\r\nvar G__50132 = chunk__49671_50116;\r\nvar G__50133 = count__49672_50117;\r\nvar G__50134 = (i__49673_50118 + (1));\r\nseq__49670_50115 = G__50131;\r\nchunk__49671_50116 = G__50132;\r\ncount__49672_50117 = G__50133;\r\ni__49673_50118 = G__50134;\r\ncontinue;\r\n} else {\r\nvar temp__5804__auto___50135 = cljs.core.seq(seq__49670_50115);\r\nif(temp__5804__auto___50135){\r\nvar seq__49670_50139__$1 = temp__5804__auto___50135;\r\nif(cljs.core.chunked_seq_QMARK_(seq__49670_50139__$1)){\r\nvar c__5568__auto___50140 = cljs.core.chunk_first(seq__49670_50139__$1);\r\nvar G__50141 = cljs.core.chunk_rest(seq__49670_50139__$1);\r\nvar G__50142 = c__5568__auto___50140;\r\nvar G__50143 = cljs.core.count(c__5568__auto___50140);\r\nvar G__50144 = (0);\r\nseq__49670_50115 = G__50141;\r\nchunk__49671_50116 = G__50142;\r\ncount__49672_50117 = G__50143;\r\ni__49673_50118 = G__50144;\r\ncontinue;\r\n} else {\r\nvar aid_50145 = cljs.core.first(seq__49670_50139__$1);\r\ntry{if(cljs.core.truth_(active_QMARK_)){\r\nif(cljs.core.truth_(abort_network_BANG_)){\r\n(abort_network_BANG_.cljs$core$IFn$_invoke$arity$2 ? abort_network_BANG_.cljs$core$IFn$_invoke$arity$2(the_remote,aid_50145) : abort_network_BANG_.call(null,the_remote,aid_50145));\r\n} else {\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"warn\",\"warn\",-436710552),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,965,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (seq__49670_50115,chunk__49671_50116,count__49672_50117,i__49673_50118,seq__49662,chunk__49667,count__49668,i__49669,aid_50145,seq__49670_50139__$1,temp__5804__auto___50135,map__49703,map__49703__$1,send_node,active_QMARK_,result_handler,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue){\r\nreturn (function (){\r\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"Remote does not support abort. Clearing the queue, but a spurious result may still appear. See https://book.fulcrologic.com/#warn-tx-remote-abort-not-supported\"], null);\r\n});})(seq__49670_50115,chunk__49671_50116,count__49672_50117,i__49673_50118,seq__49662,chunk__49667,count__49668,i__49669,aid_50145,seq__49670_50139__$1,temp__5804__auto___50135,map__49703,map__49703__$1,send_node,active_QMARK_,result_handler,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue))\r\n,null)),null,-644681342,null);\r\n}\r\n} else {\r\n}\r\n\r\nvar G__49716_50146 = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"status-code\",\"status-code\",-1060410130),(500),new cljs.core.Keyword(null,\"body\",\"body\",-2049205669),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,\"status-text\",\"status-text\",-1834235478),\"Globally Aborted\",new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"aborted?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/aborted?\",2086149958),true], null);\r\n(result_handler.cljs$core$IFn$_invoke$arity$1 ? result_handler.cljs$core$IFn$_invoke$arity$1(G__49716_50146) : result_handler.call(null,G__49716_50146));\r\n}catch (e49714){var e_50147 = e49714;\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,971,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (seq__49670_50115,chunk__49671_50116,count__49672_50117,i__49673_50118,seq__49662,chunk__49667,count__49668,i__49669,e_50147,aid_50145,seq__49670_50139__$1,temp__5804__auto___50135,map__49703,map__49703__$1,send_node,active_QMARK_,result_handler,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue){\r\nreturn (function (){\r\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [e_50147,\"Failed to abort send node. See https://book.fulcrologic.com/#err-txp-abort-failed\"], null);\r\n});})(seq__49670_50115,chunk__49671_50116,count__49672_50117,i__49673_50118,seq__49662,chunk__49667,count__49668,i__49669,e_50147,aid_50145,seq__49670_50139__$1,temp__5804__auto___50135,map__49703,map__49703__$1,send_node,active_QMARK_,result_handler,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue))\r\n,null)),null,-423205854,null);\r\n}\r\n\r\nvar G__50152 = cljs.core.next(seq__49670_50139__$1);\r\nvar G__50153 = null;\r\nvar G__50154 = (0);\r\nvar G__50155 = (0);\r\nseq__49670_50115 = G__50152;\r\nchunk__49671_50116 = G__50153;\r\ncount__49672_50117 = G__50154;\r\ni__49673_50118 = G__50155;\r\ncontinue;\r\n}\r\n} else {\r\n}\r\n}\r\nbreak;\r\n}\r\n\r\nvar G__50158 = seq__49662;\r\nvar G__50159 = chunk__49667;\r\nvar G__50160 = count__49668;\r\nvar G__50161 = (i__49669 + (1));\r\nseq__49662 = G__50158;\r\nchunk__49667 = G__50159;\r\ncount__49668 = G__50160;\r\ni__49669 = G__50161;\r\ncontinue;\r\n} else {\r\nvar temp__5804__auto__ = cljs.core.seq(seq__49662);\r\nif(temp__5804__auto__){\r\nvar seq__49662__$1 = temp__5804__auto__;\r\nif(cljs.core.chunked_seq_QMARK_(seq__49662__$1)){\r\nvar c__5568__auto__ = cljs.core.chunk_first(seq__49662__$1);\r\nvar G__50162 = cljs.core.chunk_rest(seq__49662__$1);\r\nvar G__50163 = c__5568__auto__;\r\nvar G__50164 = cljs.core.count(c__5568__auto__);\r\nvar G__50165 = (0);\r\nseq__49662 = G__50162;\r\nchunk__49667 = G__50163;\r\ncount__49668 = G__50164;\r\ni__49669 = G__50165;\r\ncontinue;\r\n} else {\r\nvar map__49718 = cljs.core.first(seq__49662__$1);\r\nvar map__49718__$1 = cljs.core.__destructure_map(map__49718);\r\nvar send_node = map__49718__$1;\r\nvar active_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49718__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"active?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/active?\",966679517));\r\nvar result_handler = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__49718__$1,new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"result-handler\",\"com.fulcrologic.fulcro.algorithms.tx-processing/result-handler\",-114902209));\r\nvar seq__49663_50166 = cljs.core.seq(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.node_abort_id(send_node));\r\nvar chunk__49664_50167 = null;\r\nvar count__49665_50168 = (0);\r\nvar i__49666_50169 = (0);\r\nwhile(true){\r\nif((i__49666_50169 < count__49665_50168)){\r\nvar aid_50171 = chunk__49664_50167.cljs$core$IIndexed$_nth$arity$2(null,i__49666_50169);\r\ntry{if(cljs.core.truth_(active_QMARK_)){\r\nif(cljs.core.truth_(abort_network_BANG_)){\r\n(abort_network_BANG_.cljs$core$IFn$_invoke$arity$2 ? abort_network_BANG_.cljs$core$IFn$_invoke$arity$2(the_remote,aid_50171) : abort_network_BANG_.call(null,the_remote,aid_50171));\r\n} else {\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"warn\",\"warn\",-436710552),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,965,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (seq__49663_50166,chunk__49664_50167,count__49665_50168,i__49666_50169,seq__49662,chunk__49667,count__49668,i__49669,aid_50171,map__49718,map__49718__$1,send_node,active_QMARK_,result_handler,seq__49662__$1,temp__5804__auto__,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue){\r\nreturn (function (){\r\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"Remote does not support abort. Clearing the queue, but a spurious result may still appear. See https://book.fulcrologic.com/#warn-tx-remote-abort-not-supported\"], null);\r\n});})(seq__49663_50166,chunk__49664_50167,count__49665_50168,i__49666_50169,seq__49662,chunk__49667,count__49668,i__49669,aid_50171,map__49718,map__49718__$1,send_node,active_QMARK_,result_handler,seq__49662__$1,temp__5804__auto__,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue))\r\n,null)),null,-1995437088,null);\r\n}\r\n} else {\r\n}\r\n\r\nvar G__49727_50177 = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"status-code\",\"status-code\",-1060410130),(500),new cljs.core.Keyword(null,\"body\",\"body\",-2049205669),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,\"status-text\",\"status-text\",-1834235478),\"Globally Aborted\",new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"aborted?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/aborted?\",2086149958),true], null);\r\n(result_handler.cljs$core$IFn$_invoke$arity$1 ? result_handler.cljs$core$IFn$_invoke$arity$1(G__49727_50177) : result_handler.call(null,G__49727_50177));\r\n}catch (e49726){var e_50182 = e49726;\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,971,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (seq__49663_50166,chunk__49664_50167,count__49665_50168,i__49666_50169,seq__49662,chunk__49667,count__49668,i__49669,e_50182,aid_50171,map__49718,map__49718__$1,send_node,active_QMARK_,result_handler,seq__49662__$1,temp__5804__auto__,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue){\r\nreturn (function (){\r\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [e_50182,\"Failed to abort send node. See https://book.fulcrologic.com/#err-txp-abort-failed\"], null);\r\n});})(seq__49663_50166,chunk__49664_50167,count__49665_50168,i__49666_50169,seq__49662,chunk__49667,count__49668,i__49669,e_50182,aid_50171,map__49718,map__49718__$1,send_node,active_QMARK_,result_handler,seq__49662__$1,temp__5804__auto__,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue))\r\n,null)),null,1677124031,null);\r\n}\r\n\r\nvar G__50188 = seq__49663_50166;\r\nvar G__50189 = chunk__49664_50167;\r\nvar G__50190 = count__49665_50168;\r\nvar G__50191 = (i__49666_50169 + (1));\r\nseq__49663_50166 = G__50188;\r\nchunk__49664_50167 = G__50189;\r\ncount__49665_50168 = G__50190;\r\ni__49666_50169 = G__50191;\r\ncontinue;\r\n} else {\r\nvar temp__5804__auto___50193__$1 = cljs.core.seq(seq__49663_50166);\r\nif(temp__5804__auto___50193__$1){\r\nvar seq__49663_50195__$1 = temp__5804__auto___50193__$1;\r\nif(cljs.core.chunked_seq_QMARK_(seq__49663_50195__$1)){\r\nvar c__5568__auto___50196 = cljs.core.chunk_first(seq__49663_50195__$1);\r\nvar G__50197 = cljs.core.chunk_rest(seq__49663_50195__$1);\r\nvar G__50198 = c__5568__auto___50196;\r\nvar G__50199 = cljs.core.count(c__5568__auto___50196);\r\nvar G__50200 = (0);\r\nseq__49663_50166 = G__50197;\r\nchunk__49664_50167 = G__50198;\r\ncount__49665_50168 = G__50199;\r\ni__49666_50169 = G__50200;\r\ncontinue;\r\n} else {\r\nvar aid_50201 = cljs.core.first(seq__49663_50195__$1);\r\ntry{if(cljs.core.truth_(active_QMARK_)){\r\nif(cljs.core.truth_(abort_network_BANG_)){\r\n(abort_network_BANG_.cljs$core$IFn$_invoke$arity$2 ? abort_network_BANG_.cljs$core$IFn$_invoke$arity$2(the_remote,aid_50201) : abort_network_BANG_.call(null,the_remote,aid_50201));\r\n} else {\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"warn\",\"warn\",-436710552),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,965,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (seq__49663_50166,chunk__49664_50167,count__49665_50168,i__49666_50169,seq__49662,chunk__49667,count__49668,i__49669,aid_50201,seq__49663_50195__$1,temp__5804__auto___50193__$1,map__49718,map__49718__$1,send_node,active_QMARK_,result_handler,seq__49662__$1,temp__5804__auto__,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue){\r\nreturn (function (){\r\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"Remote does not support abort. Clearing the queue, but a spurious result may still appear. See https://book.fulcrologic.com/#warn-tx-remote-abort-not-supported\"], null);\r\n});})(seq__49663_50166,chunk__49664_50167,count__49665_50168,i__49666_50169,seq__49662,chunk__49667,count__49668,i__49669,aid_50201,seq__49663_50195__$1,temp__5804__auto___50193__$1,map__49718,map__49718__$1,send_node,active_QMARK_,result_handler,seq__49662__$1,temp__5804__auto__,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue))\r\n,null)),null,-943617424,null);\r\n}\r\n} else {\r\n}\r\n\r\nvar G__49731_50210 = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"status-code\",\"status-code\",-1060410130),(500),new cljs.core.Keyword(null,\"body\",\"body\",-2049205669),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,\"status-text\",\"status-text\",-1834235478),\"Globally Aborted\",new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithms.tx-processing\",\"aborted?\",\"com.fulcrologic.fulcro.algorithms.tx-processing/aborted?\",2086149958),true], null);\r\n(result_handler.cljs$core$IFn$_invoke$arity$1 ? result_handler.cljs$core$IFn$_invoke$arity$1(G__49731_50210) : result_handler.call(null,G__49731_50210));\r\n}catch (e49729){var e_50211 = e49729;\r\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$11(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\",null,971,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (seq__49663_50166,chunk__49664_50167,count__49665_50168,i__49666_50169,seq__49662,chunk__49667,count__49668,i__49669,e_50211,aid_50201,seq__49663_50195__$1,temp__5804__auto___50193__$1,map__49718,map__49718__$1,send_node,active_QMARK_,result_handler,seq__49662__$1,temp__5804__auto__,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue){\r\nreturn (function (){\r\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [e_50211,\"Failed to abort send node. See https://book.fulcrologic.com/#err-txp-abort-failed\"], null);\r\n});})(seq__49663_50166,chunk__49664_50167,count__49665_50168,i__49666_50169,seq__49662,chunk__49667,count__49668,i__49669,e_50211,aid_50201,seq__49663_50195__$1,temp__5804__auto___50193__$1,map__49718,map__49718__$1,send_node,active_QMARK_,result_handler,seq__49662__$1,temp__5804__auto__,app__$1,map__49659,map__49659__$1,state_atom,runtime_atom,map__49660,map__49660__$1,the_remote,abort_network_BANG_,old_send_queue))\r\n,null)),null,730007499,null);\r\n}\r\n\r\nvar G__50212 = cljs.core.next(seq__49663_50195__$1);\r\nvar G__50213 = null;\r\nvar G__50214 = (0);\r\nvar G__50215 = (0);\r\nseq__49663_50166 = G__50212;\r\nchunk__49664_50167 = G__50213;\r\ncount__49665_50168 = G__50214;\r\ni__49666_50169 = G__50215;\r\ncontinue;\r\n}\r\n} else {\r\n}\r\n}\r\nbreak;\r\n}\r\n\r\nvar G__50216 = cljs.core.next(seq__49662__$1);\r\nvar G__50217 = null;\r\nvar G__50218 = (0);\r\nvar G__50219 = (0);\r\nseq__49662 = G__50216;\r\nchunk__49667 = G__50217;\r\ncount__49668 = G__50218;\r\ni__49669 = G__50219;\r\ncontinue;\r\n}\r\n} else {\r\nreturn null;\r\n}\r\n}\r\nbreak;\r\n}\r\n});\r\n/**\r\n * Modify the given fulcro app so that it does reads in batches when possible. Requires server support (which is\r\n *   provided by Fulcro's handle-api-request), and a remote that can handle raw requests (see the latest http-remote).\r\n * \r\n *   Defaults to enabling batching on all remotes, but if any of your client-side remote code or servers do not support\r\n *   batching, pass the `remotes` option, which is a set of keywords that names the remotes on which batching should\r\n *   be enabled.\r\n */\r\ncom.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.with_batched_reads = (function com$fulcrologic$fulcro$algorithms$tx_processing$batched_processing$with_batched_reads(var_args){\r\nvar G__49734 = arguments.length;\r\nswitch (G__49734) {\r\ncase 1:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.with_batched_reads.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\r\n\r\nbreak;\r\ncase 2:\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.with_batched_reads.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\r\n\r\nbreak;\r\ndefault:\r\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\r\n\r\n}\r\n});\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.with_batched_reads.cljs$core$IFn$_invoke$arity$1 = (function (app__$1){\r\nreturn com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.with_batched_reads.cljs$core$IFn$_invoke$arity$2(app__$1,null);\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.with_batched_reads.cljs$core$IFn$_invoke$arity$2 = (function (app__$1,remotes){\r\nvar remotes__$1 = (function (){var or__5045__auto__ = remotes;\r\nif(cljs.core.truth_(or__5045__auto__)){\r\nreturn or__5045__auto__;\r\n} else {\r\nvar G__49736 = app__$1;\r\nvar G__49736__$1 = (((G__49736 == null))?null:new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"runtime-atom\",\"com.fulcrologic.fulcro.application/runtime-atom\",-1167397772).cljs$core$IFn$_invoke$arity$1(G__49736));\r\nvar G__49736__$2 = (((G__49736__$1 == null))?null:cljs.core.deref(G__49736__$1));\r\nvar G__49736__$3 = (((G__49736__$2 == null))?null:new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"remotes\",\"com.fulcrologic.fulcro.application/remotes\",1823703517).cljs$core$IFn$_invoke$arity$1(G__49736__$2));\r\nif((G__49736__$3 == null)){\r\nreturn null;\r\n} else {\r\nreturn cljs.core.keys(G__49736__$3);\r\n}\r\n}\r\n})();\r\nvar batching_enabled = ((cljs.core.seq(remotes__$1))?cljs.core.zipmap(remotes__$1,cljs.core.repeat.cljs$core$IFn$_invoke$arity$1(true)):cljs.core.PersistentArrayMap.EMPTY);\r\nreturn cljs.core.assoc_in(cljs.core.assoc_in(cljs.core.assoc_in(app__$1,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"algorithms\",\"com.fulcrologic.fulcro.application/algorithms\",-397334538),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithm\",\"tx!\",\"com.fulcrologic.fulcro.algorithm/tx!\",1081877133)], null),com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.default_tx_BANG_),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"algorithms\",\"com.fulcrologic.fulcro.application/algorithms\",-397334538),new cljs.core.Keyword(\"com.fulcrologic.fulcro.algorithm\",\"abort!\",\"com.fulcrologic.fulcro.algorithm/abort!\",1698846123)], null),com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.abort_BANG_),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(\"com.fulcrologic.fulcro.application\",\"config\",\"com.fulcrologic.fulcro.application/config\",-1907926684),new cljs.core.Keyword(null,\"batching-enabled\",\"batching-enabled\",617647692)], null),batching_enabled);\r\n}));\r\n\r\n(com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.with_batched_reads.cljs$lang$maxFixedArity = 2);\r\n\r\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:doc","A pluggable transaction processing system that attempts to batch reads. Requires that the server be modified\n   to support sequences of transactions.","~:file","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",71],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$clojure.pprint","~$cljs.pprint","~$clojure.spec.alpha","~$cljs.spec.alpha","~$clojure.core.async","~$cljs.core.async"],"~:use-macros",["^ ","~$ido","~$com.fulcrologic.fulcro.inspect.inspect-client","~$ilet","^G","~$>defn","~$com.fulcrologic.guardrails.core","~$?","^J"],"~:excludes",["~#set",[]],"~:name","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing","~:reader-aliases",["^ "],"~:op","~:ns","~:imports",null,"~:requires",["^ ","~$ah","~$com.fulcrologic.fulcro.algorithms.lookup","~$set","~$clojure.set","~$edn-query-language.core","^X","^A","^B","^J","^J","~$log","~$taoensso.timbre","~$eql","^X","~$cljs.core","^10","~$rc","~$com.fulcrologic.fulcro.raw.components","^G","^G","~$goog","^13","~$com.fulcrologic.fulcro.specs","^14","~$inspect","^G","^W","^W","~$com.fulcrologic.fulcro.algorithms.tempid","^16","~$m","~$com.fulcrologic.fulcro.mutations","~$com.fulcrologic.fulcro.algorithms.scheduling","^18","~$txn","~$com.fulcrologic.fulcro.algorithms.tx-processing","~$enc","~$taoensso.encore","^17","^17","~$s","^B","^U","^U","^1:","^1:","^Z","^Z","^12","^12","~$futil","~$com.fulcrologic.fulcro.algorithms.do-not-use","^1<","^1<","^B","^B","~$tempid","^16","^1>","^1>"],"~:seen",["^L",["~:require"]],"~:uses",["^ ","~$schedule!","^18","^F","^G","^H","^G","^I","^J","~$=>","^J","~$?","^J","~$|","^J"],"~:require-macros",["^ ","^A","^B","^J","^J","^Y","^Z","^10","^10","^11","^12","^G","^G","^15","^G","~$m","^17","^1;","^1<","^17","^17","~$s","^B","^Z","^Z","^12","^12","^1<","^1<","^B","^B"],"~:form",["~#list",["~$ns","^N","A pluggable transaction processing system that attempts to batch reads. Requires that the server be modified\n   to support sequences of transactions.",["^1G",["^1A",["^W","~:as","^V"],["^A","^1I","~$s"],["^U","^1I","^T"],["^16","^1I","^1?"],["^1>","^1I","^1="],["^18","~:refer",["^1C"]],["^1:","^1I","^19"],["^17","^1I","~$m"],["^12","^1I","^11"],["^14"],["^G","^1I","^15","^1J",["^F","^H"]],["^J","^1J",["^I","^1D","~$?","~$|"]],["^X","^1I","^["],["^1<","^1I","^1;"],["^Z","^1I","^Y"]]]]],"~:flags",["^ ","^1A",["^L",[]]],"~:js-deps",["^ "],"~:deps",["^13","^10","^W","^B","^U","^16","^1>","^18","^1:","^17","^12","^14","^G","^J","^X","^1<","^Z"]],"^Q","^N","~:resource-id",["~:shadow.build.classpath/resource","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc"],"~:compiled-at",1770590970757,"^O",["^ ","^T","^U","^V","^W","^X","^X","^A","^B","^J","^J","^Y","^Z","^[","^X","^10","^10","^11","^12","^G","^G","^13","^13","^14","^14","^15","^G","^W","^W","^16","^16","~$m","^17","^18","^18","^19","^1:","^1;","^1<","^17","^17","~$s","^B","^U","^U","^1:","^1:","^Z","^Z","^12","^12","^1=","^1>","^1<","^1<","^B","^B","^1?","^16","^1>","^1>"],"~:resource-name","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","~:warnings",[],"~:source","(ns com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing\n  \"A pluggable transaction processing system that attempts to batch reads. Requires that the server be modified\n   to support sequences of transactions.\"\n  (:require\n    [clojure.set :as set]\n    [clojure.spec.alpha :as s]\n    [com.fulcrologic.fulcro.algorithms.lookup :as ah]\n    [com.fulcrologic.fulcro.algorithms.tempid :as tempid]\n    [com.fulcrologic.fulcro.algorithms.do-not-use :as futil]\n    [com.fulcrologic.fulcro.algorithms.scheduling :refer [schedule!]]\n    [com.fulcrologic.fulcro.algorithms.tx-processing :as txn]\n    [com.fulcrologic.fulcro.mutations :as m]\n    [com.fulcrologic.fulcro.raw.components :as rc]\n    [com.fulcrologic.fulcro.specs]\n    [com.fulcrologic.fulcro.inspect.inspect-client :as inspect :refer [ido ilet]]\n    [com.fulcrologic.guardrails.core :refer [>defn => ? |]]\n    [edn-query-language.core :as eql]\n    [taoensso.encore :as enc]\n    [taoensso.timbre :as log]))\n\n(declare schedule-activation! process-queue!)\n\n(defn remove-send!\n  \"Removes the send node (if present) from the send queue on the given remote.\"\n  [{:com.fulcrologic.fulcro.application/keys [runtime-atom] :as app} remote txn-id ele-idx]\n  (let [{:keys [::txn/send-queues]} @runtime-atom\n        old-queue (get send-queues remote)\n        queue     (filterv (fn [{:keys [::txn/id ::txn/idx]}]\n                             (not (and (= txn-id id) (= ele-idx idx)))) old-queue)]\n    (swap! runtime-atom assoc-in [::txn/send-queues remote] queue)))\n\n(def ^:dynamic *remove-send* remove-send!)\n\n(defn app->remotes\n  \"Returns the remotes map from an app\"\n  [app]\n  [:com.fulcrologic.fulcro.application/app => :com.fulcrologic.fulcro.application/remotes]\n  (-> app :com.fulcrologic.fulcro.application/runtime-atom deref :com.fulcrologic.fulcro.application/remotes))\n\n(defn app->remote-names\n  \"Returns a set of the names of the remotes from an app\"\n  [app]\n  [:com.fulcrologic.fulcro.application/app => :com.fulcrologic.fulcro.application/remote-names]\n  (-> app :com.fulcrologic.fulcro.application/runtime-atom deref :com.fulcrologic.fulcro.application/remotes keys set))\n\n(defn extract-parallel\n  \"Splits the given send queue into two send queues:\n  [parallel-items sequential-items].\"\n  [sends]\n  [(s/coll-of ::txn/send-node :kind vector?) => (s/cat :p ::txn/send-queue :rest ::txn/send-queue)]\n  (let [parallel? (fn [{:keys [::txn/options]}]\n                    (boolean (or (:parallel? options) (::txn/parallel? options))))\n        {parallel   true\n         sequential false} (group-by parallel? sends)]\n    [(vec parallel) (vec sequential)]))\n\n(defn every-ast?\n  \"Check if the given `test` predicate is true for an AST node or for all the immediate children of an AST tree.\"\n  [ast-node-or-tree test]\n  [::txn/ast fn? => boolean?]\n  (if (= :root (:type ast-node-or-tree))\n    (every? test (:children ast-node-or-tree))\n    (test ast-node-or-tree)))\n\n(defn mutation-ast?\n  \"Returns true if the given AST node or tree represents a mutation or sequence of mutations.\"\n  [ast-node-or-tree]\n  [::txn/ast => boolean?]\n  (every-ast? ast-node-or-tree #(= :call (:type %))))\n\n(defn query-ast?\n  \"Returns true if the given AST node or tree represents a mutation or sequence of mutations.\"\n  [ast-node-or-tree]\n  [::txn/ast => boolean?]\n  (every-ast? ast-node-or-tree #(not= :call (:type %))))\n\n(defn sort-queue-writes-before-reads\n  \"Sort function on a send queue. Leaves any active nodes in front, and sorts the remainder of the queue so that writes\n  appear before reads, without changing the relative order in blocks of reads/writes.\"\n  [send-queue]\n  [::txn/send-queue => ::txn/send-queue]\n  (let [[active-queue send-queue] (split-with ::txn/active? send-queue)\n        id-sequence (mapv (fn [n] (-> n first ::txn/id)) (partition-by ::txn/id send-queue))\n        clusters    (group-by ::txn/id (vec send-queue))\n        {:keys [reads writes]} (reduce\n                                 (fn [result id]\n                                   (let [[{:keys [::txn/ast] :as n} & _ :as cluster] (get clusters id)]\n                                     (cond\n                                       (nil? ast) result\n                                       (query-ast? ast) (update result :reads into cluster)\n                                       (mutation-ast? ast) (update result :writes into cluster)\n                                       :else result)))\n                                 {:reads [] :writes []}\n                                 id-sequence)\n        send-queue  (into [] (concat active-queue writes reads))]\n    send-queue))\n\n(defn top-keys\n  [{:keys [type key children] :as ast}]\n  [::txn/ast => (s/coll-of :edn-query-language.ast/key)]\n  (if (= :root type)\n    (into #{} (map :key) children)\n    #{key}))\n\n(defn create-combined-node [app remote-name [leader :as to-send]]\n  (let [tx                (reduce\n                            (fn [acc {:keys [::txn/ast]}]\n                              (let [tx (futil/ast->query ast)]\n                                (into acc tx)))\n                            []\n                            to-send)\n        ast               (eql/query->ast tx)\n        options           (::txn/options leader)\n        combined-node-id  (tempid/uuid)\n        combined-node-idx 0\n        remove!           *remove-send*\n        combined-node     {::txn/id             combined-node-id\n                           ::txn/idx            combined-node-idx\n                           ::txn/ast            ast\n                           ::txn/options        options\n                           ::txn/update-handler (fn [combined-result]\n                                                  (doseq [{::txn/keys [update-handler]} to-send]\n                                                    (when update-handler\n                                                      (update-handler combined-result))))\n                           ::txn/result-handler (fn [{:keys [body] :as combined-result}]\n                                                  (remove! app remote-name combined-node-id combined-node-idx)\n                                                  (doseq [{::txn/keys [ast result-handler]} to-send]\n                                                    (let [new-body (if (map? body)\n                                                                     (select-keys body (top-keys ast))\n                                                                     body)\n                                                          result   (assoc combined-result :body new-body)]\n                                                      (inspect/ilet [{:keys [status-code body]} result]\n                                                        (if (= 200 status-code)\n                                                          (inspect/send-finished! app remote-name combined-node-id body)\n                                                          (inspect/send-failed! app combined-node-id (str status-code))))\n                                                      (result-handler result))))\n                           ::txn/active?        true}]\n    combined-node))\n\n(defn- node-abort-id [n]\n  (or\n    (some-> n ::txn/options :abort-id)\n    (some-> n ::txn/options ::txn/abort-id)))\n\n(defn mutation-node?\n  \"Returns true if the given transaction node represents one or more mutations.\"\n  [{::txn/keys [ast]}]\n  (and\n    (map? ast)\n    (or\n      (= :call (:type ast))\n      (boolean (some #(= :call (:type %)) (:children ast))))))\n\n(>defn batchable?\n  \"Returns true when ALL of the ::txn/send-node entries in `to-send` can be batched into an existing batch.\"\n  [to-send leader]\n  [(s/coll-of ::txn/send-node) (? ::txn/send-node) => boolean?]\n  (let [abort-id (node-abort-id leader)]\n    (boolean\n      (and\n        (seq to-send)\n        (every? (fn [n] (= abort-id (node-abort-id n))) to-send)\n        (not (some mutation-node? to-send))))))\n\n(defn batch-sends\n  [app remote-name send-queue]\n  [:com.fulcrologic.fulcro.application/app :com.fulcrologic.fulcro.application/remote-name ::txn/send-queue => (s/keys :opt [::txn/send-node] :req [::txn/send-queue])]\n  (let [prime-leader   (first send-queue)\n        {prime-candidates true\n         to-defer         false} (group-by (fn [n] (batchable? [prime-leader] n)) send-queue)\n        {:keys [batch remainder]} (loop [result {:batch     []\n                                                 :remainder to-defer}\n                                         queue  prime-candidates]\n                                    (let [leader (first queue)\n                                          [to-send remainder] (split-with #(= (::txn/id leader) (::txn/id %)) queue)]\n                                      (let [combined-node (create-combined-node app remote-name to-send)\n                                            new-result    (update result :batch conj combined-node)]\n                                        (if (seq remainder)\n                                          (recur new-result remainder)\n                                          new-result))))\n        batch-node-id  (tempid/uuid)\n        batch-node-idx 0\n        remove!        *remove-send*\n        batch-node     {::txn/id             batch-node-id\n                        ::txn/idx            batch-node-idx\n                        ::txn/raw-body       {:queries (mapv\n                                                         (fn [{::txn/keys [ast]}] (futil/ast->query ast))\n                                                         batch)}\n                        ::txn/options        (or (::txn/options prime-leader) {})\n                        ::txn/batch          batch\n                        ::txn/update-handler (fn [combined-result]\n                                               (loop [{::txn/keys [update-handler]} (first batch)\n                                                      more-batch  (next batch)\n                                                      result      (first combined-result)\n                                                      more-result (next combined-result)]\n                                                 (when update-handler\n                                                   (update-handler result))\n                                                 (when (and (seq more-batch) (seq more-result))\n                                                   (recur (first more-batch) (next more-batch)\n                                                     (first more-result) (next more-result)))))\n                        ::txn/result-handler (fn [{:keys [body] :as batch-result}]\n                                               (remove! app remote-name batch-node-id batch-node-idx)\n                                               (loop [{::txn/keys [result-handler]} (first batch)\n                                                      more-batch  (next batch)\n                                                      result      (first body)\n                                                      more-result (next body)]\n                                                 (result-handler (assoc batch-result :body result))\n                                                 (when (and (seq more-batch) (seq more-result))\n                                                   (recur (first more-batch) (next more-batch)\n                                                     (first more-result) (next more-result)))))\n                        ::txn/active?        true}]\n    (when (> (count batch) 1) (log/debug \"Batched:\" (count batch)))\n    {::txn/send-node  batch-node\n     ::txn/send-queue (into [batch-node] remainder)}))\n\n(defn combine-sends\n  \"Takes a send queue and returns a map containing a new combined send node that can act as a single network request,\n  along with the updated send queue.\"\n  [app remote-name send-queue]\n  [:com.fulcrologic.fulcro.application/app :com.fulcrologic.fulcro.application/remote-name ::txn/send-queue => (s/keys :opt [::txn/send-node] :req [::txn/send-queue])]\n  (if (seq send-queue)\n    (let [{:keys [supports-raw-body?]} (get (app->remotes app) remote-name)\n          [_active-nodes send-queue] (split-with ::txn/active? send-queue)\n          send-queue        (sort-queue-writes-before-reads (vec send-queue))\n          id-to-send        (-> send-queue first ::txn/id)\n          [to-send to-defer] (split-with #(= id-to-send (::txn/id %)) send-queue)\n          leading-mutation? (mutation-node? (first to-send))\n          batched-reads?    (get-in app [:com.fulcrologic.fulcro.application/config :batching-enabled remote-name] false)\n          batch?            (and batched-reads? supports-raw-body?)]\n      (if (or leading-mutation? (not batch?))\n        (if (seq to-send)\n          (let [combined-node (create-combined-node app remote-name to-send)]\n            {::txn/send-node  combined-node\n             ::txn/send-queue (into [combined-node] to-defer)})\n          {::txn/send-queue send-queue})\n        (batch-sends app remote-name send-queue)))\n    {::txn/send-queue []}))\n\n(defn net-send!\n  \"Process the send against the user-defined remote. Catches exceptions and calls error handler with status code 500\n  if the remote itself throws exceptions.\"\n  [app send-node remote-name]\n  [:com.fulcrologic.fulcro.application/app ::txn/send-node :com.fulcrologic.fulcro.application/remote-name => any?]\n  (enc/if-let [remote    (get (app->remotes app) remote-name)\n               transmit! (get remote :transmit!)]\n    (try\n      (inspect/ido\n        (if-let [batch (::txn/batch send-node)]\n          (doseq [element-node batch]\n            (inspect/ilet [tx (futil/ast->query (::txn/ast element-node))]\n              (inspect/send-started! app remote-name (::txn/id element-node) tx)))\n          (inspect/ilet [tx (futil/ast->query (::txn/ast send-node))]\n            (inspect/send-started! app remote-name (::txn/id send-node) tx))))\n      (transmit! remote send-node)\n      (catch #?(:cljs :default :clj Exception) e\n        (log/error e \"Send threw an exception for tx:\" (futil/ast->query (::txn/ast send-node)) \"See https://book.fulcrologic.com/#err-txp-send-exc\")\n        (try\n          (inspect/ido\n            (if-let [batch (::txn/batch send-node)]\n              (doseq [element-node batch]\n                (inspect/send-failed! app (::txn/id element-node) \"Transmit Exception\"))\n              (inspect/send-failed! app (::txn/id send-node) \"Transmit Exception\")))\n          ((::txn/result-handler send-node) {:status-code      500\n                                             :client-exception e})\n          (catch #?(:cljs :default :clj Exception) e\n            (log/fatal e \"Error handler failed to handle exception!\")))))\n    (do\n      (log/error \"Transmit was not defined on remote\" remote-name \"See https://book.fulcrologic.com/#err-txp-remote-lacks-transmit\")\n      ((::txn/result-handler send-node) {:status-code 500\n                                         :message     \"Transmit missing on remote.\"}))))\n\n(defn process-send-queues!\n  \"Process the send queues against the remotes. Updates the send queues on the app and returns the updated send queues.\"\n  [{:com.fulcrologic.fulcro.application/keys [runtime-atom] :as app}]\n  [:com.fulcrologic.fulcro.application/app => ::txn/send-queues]\n  (let [send-queues     (-> runtime-atom deref ::txn/send-queues)\n        remote-names    (app->remote-names app)\n        operations      (atom [])\n        new-send-queues (reduce\n                          (fn [new-send-queues remote]\n                            (let [send-queue (get send-queues remote [])\n                                  [p serial] (extract-parallel send-queue)\n                                  front      (first serial)]\n                              ;; parallel items are removed from the queues, since they don't block anything\n                              (doseq [item p]\n                                (swap! operations conj #(net-send! app item remote)))\n                              ;; sequential items are kept in queue to prevent out-of-order operation\n                              (if (::txn/active? front)\n                                (assoc new-send-queues remote serial)\n                                (let [{::txn/keys [send-queue send-node]} (combine-sends app remote serial)]\n                                  (when send-node\n                                    (swap! operations conj #(net-send! app send-node remote)))\n                                  (assoc new-send-queues remote send-queue)))))\n                          {}\n                          remote-names)]\n    (swap! runtime-atom assoc ::txn/send-queues new-send-queues)\n    ;; Actual net sends are done after we set the queues, in case the remote behave synchronously and immediately gives\n    ;; results (like errors). Otherwise, the queue updates of those handlers would be overwritten by our swap on the\n    ;; prior line\n    (doseq [op @operations]\n      (op))\n    new-send-queues))\n\n(defn tx-node\n  ([tx]\n   [::txn/tx => ::tx-node]\n   (tx-node tx {}))\n  ([tx options]\n   [::txn/tx ::txn/options => ::tx-node]\n   (let [ast       (eql/query->ast tx)\n         ast-nodes (:children ast)\n         elements  (into []\n                     (comp\n                       (filter (fn txfilt* [n] (= :call (:type n))))\n                       (map-indexed\n                         (fn ->txnode* [idx ast-node]\n                           {::txn/idx               idx\n                            ::txn/original-ast-node ast-node\n                            ::txn/started?          #{}\n                            ::txn/complete?         #{}\n                            ::txn/results           {}\n                            ::txn/dispatch          {}})))\n                     ast-nodes)]\n     {::txn/id       (tempid/uuid)\n      ::txn/created  (futil/now)\n      ::txn/options  options\n      ::txn/tx       tx\n      ::txn/elements elements})))\n\n(defn build-env\n  ([app {::txn/keys [options] :as tx-node} addl]\n   [:com.fulcrologic.fulcro.application/app ::txn/tx-node map? => map?]\n   (let [{:keys [ref component]} options]\n     (cond-> (merge addl {:state (-> app :com.fulcrologic.fulcro.application/state-atom)\n                          :app   app})\n       options (assoc ::txn/options options)\n       ref (assoc :ref ref)\n       component (assoc :component component))))\n  ([app {:keys [::txn/options] :as tx-node}]\n   [:com.fulcrologic.fulcro.application/app ::txn/tx-node => map?]\n   (build-env app tx-node {})))\n\n(defn dispatch-elements\n  \"Run through the elements on the given tx-node and do the side-effect-free dispatch. This generates the dispatch map\n  of things to do on that node.\"\n  [tx-node env dispatch-fn]\n  [::txn/tx-node map? any? => ::tx-node]\n  (let [do-dispatch  (fn run* [env]\n                       (try\n                         (dispatch-fn env)\n                         (catch #?(:clj Exception :cljs :default) e\n                           (log/error e \"Dispatch for mutation\" (some-> env :ast futil/ast->query) \"failed with an exception. No dispatch generated. See https://book.fulcrologic.com/#err-txp-mut-dispatch-exc\")\n                           {})))\n        dispatch     (fn dispatch* [{:keys [::txn/original-ast-node] :as ele}]\n                       (let [{:keys [type]} original-ast-node\n                             env (assoc env :ast original-ast-node)]\n                         (cond-> ele\n                           (= :call type) (assoc ::txn/dispatch (do-dispatch env)))))\n        dispatch-all (fn [eles] (mapv dispatch eles))]\n    (update tx-node ::txn/elements dispatch-all)))\n\n(defn application-rendered!\n  \"Should be called after the application renders to ensure that transactions blocked until the next render become\n   unblocked. Schedules an activation.\"\n  [{:keys [:com.fulcrologic.fulcro.application/runtime-atom] :as app} options]\n  (when (some #(boolean (-> % ::txn/options :after-render?)) (-> runtime-atom deref ::txn/submission-queue))\n    (swap! runtime-atom update ::txn/submission-queue\n      (fn [queue] (mapv (fn [node] (update node ::txn/options dissoc :after-render?)) queue)))\n    (schedule-activation! app 0)))\n\n(defn activate-submissions!\n  \"Activate all of the transactions that have been submitted since the last activation. After the items are activated\n  a single processing step will run for the active queue.\n\n  Activation can be blocked by the tx-node options for things like waiting for the next render frame.\"\n  [{:keys [:com.fulcrologic.fulcro.application/runtime-atom] :as app}]\n  [:com.fulcrologic.fulcro.application/app => any?]\n  (let [{blocked true ready false} (group-by (comp boolean :after-render? ::txn/options) (::txn/submission-queue @runtime-atom))\n        dispatched-nodes (mapv #(dispatch-elements % (build-env app %) m/mutate) ready)]\n    (swap! runtime-atom (fn [a]\n                          (-> a\n                            (update ::txn/active-queue #(reduce conj % dispatched-nodes))\n                            (assoc ::txn/submission-queue (vec blocked)))))\n    (process-queue! app)))\n\n(defn schedule-activation!\n  \"Schedule activation of submitted transactions.  The default implementation copies all submitted transactions onto\n   the active queue and immediately does an active queue processing step.  If `tm` is not supplied (in ms) it defaults to 10ms.\"\n  ([app tm]\n   [:com.fulcrologic.fulcro.application/app int? => any?]\n   (schedule! app ::txn/activation-scheduled? activate-submissions! tm))\n  ([app]\n   [:com.fulcrologic.fulcro.application/app => any?]\n   (schedule-activation! app 0)))\n\n(defn schedule-queue-processing!\n  \"Schedule a processing of the active queue, which will advance the active transactions by a step.\n   If `tm` is not supplied (in ms) it defaults to 10ms.\"\n  ([app tm]\n   [:com.fulcrologic.fulcro.application/app int? => any?]\n   (schedule! app ::txn/queue-processing-scheduled? process-queue! tm))\n  ([app]\n   [:com.fulcrologic.fulcro.application/app => any?]\n   (schedule-queue-processing! app 0)))\n\n(defn schedule-sends!\n  \"Schedule actual network activity. If `tm` is not supplied (in ms) it defaults to 0ms.\"\n  ([app tm]\n   [:com.fulcrologic.fulcro.application/app int? => any?]\n   (schedule! app ::txn/sends-scheduled? process-send-queues! tm))\n  ([app]\n   [:com.fulcrologic.fulcro.application/app => any?]\n   (schedule-sends! app 0)))\n\n(defn advance-actions!\n  \"Runs any incomplete and non-blocked optimistic operations on a node.\"\n  [app {::txn/keys [id elements] :as node}]\n  [:com.fulcrologic.fulcro.application/app ::txn/tx-node => ::tx-node]\n  (let [remotes      (app->remote-names app)\n        reduction    (reduce\n                       (fn [{:keys [done? new-elements] :as acc} element]\n                         (if done?\n                           (update acc :new-elements conj element)\n                           (let [{::txn/keys [complete? dispatch original-ast-node idx]} element\n                                 {:keys [action]} dispatch\n                                 remote-set      (set/intersection remotes (set (keys dispatch)))\n                                 exec?           (and action (not (or done? (complete? :action))))\n                                 fully-complete? (and (or exec? (complete? :action)) (empty? (set/difference remote-set complete?)))\n                                 state-id-before (inspect/current-history-id app)\n                                 state           (:com.fulcrologic.fulcro.application/state-atom app)\n                                 state-before    @state\n                                 updated-element (if exec? (-> element\n                                                             (assoc ::txn/state-before-action state-before)\n                                                             (update ::txn/complete? conj :action)) element)\n                                 done?           (not fully-complete?)\n                                 new-acc         {:done?        done?\n                                                  :new-elements (conj new-elements updated-element)}\n                                 env             (build-env app node {:ast original-ast-node})]\n                             (when exec?\n                               (try\n                                 (when action\n                                   (action env))\n                                 (catch #?(:cljs :default :clj Exception) e\n                                   (let [mutation-symbol (:dispatch-key original-ast-node)]\n                                     (log/error e \"The `action` section of mutation\" mutation-symbol \"threw an exception. See https://book.fulcrologic.com/#err-txp-mut-action-exc\"))))\n                               (ilet [tx (eql/ast->expr original-ast-node true)]\n                                 (inspect/optimistic-action-finished! app env {:tx-id           (str id \"-\" idx)\n                                                                               :state-id-before state-id-before\n                                                                               :db-before       state-before\n                                                                               :db-after        @state\n                                                                               :tx              tx})))\n                             new-acc)))\n                       {:done? false :new-elements []}\n                       elements)\n        new-elements (:new-elements reduction)]\n    (assoc node ::txn/elements new-elements)))\n\n(defn run-actions!\n  [app {::txn/keys [id elements] :as node}]\n  [:com.fulcrologic.fulcro.application/app ::txn/tx-node => ::tx-node]\n  (let [new-elements (reduce\n                       (fn [new-elements element]\n                         (let [{::txn/keys [idx complete? dispatch original-ast-node]} element\n                               {:keys [action]} dispatch\n                               exec?           (and action (not (complete? :action)))\n                               state-id-before (inspect/current-history-id app)\n                               state           (:com.fulcrologic.fulcro.application/state-atom app)\n                               state-before    @state\n                               updated-node    (if exec? (-> element\n                                                           (assoc ::txn/state-before-action state-before)\n                                                           (update ::txn/complete? conj :action)) element)\n                               new-acc         (conj new-elements updated-node)\n                               env             (build-env app node {:ast original-ast-node})]\n                           (when exec?\n                             (try\n                               (action env)\n                               (catch #?(:cljs :default :clj Exception) e\n                                 (log/error e \"The `action` section threw an exception for mutation: \" (:dispatch-key original-ast-node) \"See https://book.fulcrologic.com/#err-txp-mut-action-exc2\")))\n                             (ilet [tx (eql/ast->expr original-ast-node true)]\n                               (inspect/optimistic-action-finished! app env {:tx-id           (str id \"-\" idx)\n                                                                             :state-id-before state-id-before\n                                                                             :db-before       state-before\n                                                                             :db-after        @state\n                                                                             :tx              tx})))\n                           new-acc))\n                       []\n                       elements)]\n    (assoc node ::txn/elements new-elements)))\n\n(defn fully-complete?\n  [app {:keys [::txn/elements] :as tx-node}]\n  [:com.fulcrologic.fulcro.application/app ::txn/tx-node => boolean?]\n  (let [element-complete? (fn [{:keys [::txn/dispatch ::txn/complete?]}]\n                            (let [remotes     (app->remote-names app)\n                                  active-keys (set/union #{:action} remotes)\n                                  desired-set (set/intersection active-keys (set (keys dispatch)))]\n                              (empty? (set/difference desired-set complete?))))]\n    (every? element-complete? elements)))\n\n(defn record-result!\n  \"Record a network result on the given txn/element.\n   If result-key is given it is used, otherwise defaults to ::txn/results. Also removes the network send from the send\n   queue so that remaining items can proceed, and schedules send processing.\"\n  ([{:com.fulcrologic.fulcro.application/keys [runtime-atom] :as app} txn-id ele-idx remote result result-key]\n   [:com.fulcrologic.fulcro.application/app ::txn/id int? keyword? any? keyword? => any?]\n   (let [active-queue (::txn/active-queue @runtime-atom)\n         txn-idx      (reduce\n                        (fn [idx {:keys [::txn/id]}]\n                          (if (= id txn-id)\n                            (reduced idx)\n                            (inc idx)))\n                        0\n                        active-queue)\n         not-found?   (or (>= txn-idx (count active-queue)) (not= txn-id (::txn/id (get active-queue txn-idx))))]\n     (if not-found?\n       (log/error \"Network result for\" remote \"does not have a valid node on the active queue! See https://book.fulcrologic.com/#err-txp-res-lacks-valid-node\")\n       (swap! runtime-atom assoc-in [::txn/active-queue txn-idx ::txn/elements ele-idx result-key remote] result))))\n  ([app txn-id ele-idx remote result]\n   [:com.fulcrologic.fulcro.application/app ::txn/id int? keyword? any? => any?]\n   (record-result! app txn-id ele-idx remote result ::txn/results)))\n\n(defn compute-desired-ast-node\n  \"Add the ::txn/desired-ast-nodes and ::txn/transmitted-ast-nodes for `remote` to the tx-element based on the dispatch for the `remote` of the original mutation.\"\n  [app remote tx-node tx-element]\n  [:com.fulcrologic.fulcro.application/app :com.fulcrologic.fulcro.application/remote-name ::txn/tx-node ::txn/tx-element => ::tx-element]\n  (let [{::txn/keys [dispatch original-ast-node state-before-action]} tx-element\n        env             (build-env app tx-node {:ast                 original-ast-node\n                                                :state-before-action state-before-action})\n        remote-fn       (get dispatch remote)\n        remote-desire   (when remote-fn (remote-fn env))\n        desired-ast     (cond\n                          (or (false? remote-desire) (nil? remote-desire)) nil\n                          (true? remote-desire) original-ast-node\n                          (and (map? remote-desire) (contains? remote-desire :ast)) (:ast remote-desire)\n                          (and (map? remote-desire) (contains? remote-desire :type)) remote-desire\n                          :else (do\n                                  (log/error \"Remote dispatch for\" remote \"returned an invalid value.\" remote-desire \"See https://book.fulcrologic.com/#err-txp-remote-dispatch-invalid-res\")\n                                  remote-desire))\n        ;; The EQL transform from fulcro app config ONLY affects the network layer (the AST we put on the send node).\n        ;; The response gets dispatched on network return, but the original query\n        ;; is needed at the top app layer so that :pre-merge can use the complete query\n        ;; as opposed to the pruned one.\n        query-transform (ah/app-algorithm app :global-eql-transform)\n        ast             (if (and desired-ast query-transform)\n                          (query-transform desired-ast)\n                          desired-ast)]\n    (cond-> tx-element\n      desired-ast (assoc-in [::txn/desired-ast-nodes remote] desired-ast)\n      ast (assoc-in [::txn/transmitted-ast-nodes remote] ast))))\n\n(defn add-send!\n  \"Generate a new send node and add it to the appropriate send queue. Returns the new send node.\"\n  [{:com.fulcrologic.fulcro.application/keys [runtime-atom] :as app} {::txn/keys [id options parallel?] :as tx-node} ele-idx remote]\n  [:com.fulcrologic.fulcro.application/app ::txn/tx-node ::txn/idx :com.fulcrologic.fulcro.application/remote-name\n   => (s/nilable ::txn/send-node)]\n  (let [update-handler (fn progress-handler* [result]\n                         (record-result! app id ele-idx remote result ::txn/progress)\n                         (schedule-queue-processing! app 0))\n        ast            (get-in tx-node [::txn/elements ele-idx ::txn/transmitted-ast-nodes remote])\n        remove!        *remove-send*\n        handler        (fn result-handler* [result]\n                         (when (:parallel? options)\n                           (inspect/ilet [{:keys [status-code body]} result]\n                            (if (= 200 status-code)\n                              (inspect/send-finished! app remote id body)\n                              (inspect/send-failed! app id (str status-code)))))\n                         (record-result! app id ele-idx remote result)\n                         (remove! app remote id ele-idx)\n                         (schedule-sends! app 1)\n                         (schedule-queue-processing! app 0))\n        send-node      {::txn/id             id\n                        ::txn/idx            ele-idx\n                        ::txn/ast            ast\n                        ::txn/options        options\n                        ::txn/active?        false\n                        ::txn/result-handler handler\n                        ::txn/update-handler update-handler}]\n    (if ast\n      (do\n        (swap! runtime-atom update-in [::txn/send-queues remote] (fnil conj []) send-node)\n        send-node)\n      (do\n        (handler {:status-code 200 :body {}})\n        nil))))\n\n(defn queue-element-sends!\n  \"Queue all (unqueued) remote actions for the given element.  Returns the (possibly updated) node.\"\n  [app tx-node {:keys [::txn/idx ::txn/dispatch ::txn/started?]}]\n  [:com.fulcrologic.fulcro.application/app ::txn/tx-node ::txn/tx-element => ::tx-node]\n  (let [remotes     (set/intersection (set (keys dispatch)) (app->remote-names app))\n        to-dispatch (set/difference remotes started?)]\n    (reduce\n      (fn [node remote]\n        (if (contains? (get-in node [::txn/elements idx ::txn/started?] #{}) remote)\n          node\n          (let [updated-node (-> node\n                               (update-in [::txn/elements idx] (fn [tx-element] (compute-desired-ast-node app remote node tx-element)))\n                               (update-in [::txn/elements idx ::txn/started?] conj remote))]\n            (add-send! app updated-node idx remote)\n            updated-node)))\n      tx-node\n      to-dispatch)))\n\n(defn idle-node?\n  \"Returns true if the given node has no active network operations.\"\n  [{:keys [::txn/elements] :as tx-node}]\n  [::txn/tx-node => boolean?]\n  (every?\n    (fn idle?* [{:keys [::txn/started? ::txn/complete?]}]\n      (let [in-progress (set/difference started? complete?)]\n        (empty? in-progress)))\n    elements))\n\n(defn element-with-work\n  \"Returns a txnode element iff it has remaining (remote) work that has not been queued. Returns nil if there\n   is no such element.\n\n  remote-names is the set of legal remote names.\"\n  [remote-names {:keys [::txn/dispatch ::txn/started?] :as element}]\n  [:com.fulcrologic.fulcro.application/remote-names ::txn/tx-element => (s/nilable ::tx-element)]\n  (let [todo      (set/intersection remote-names (set (keys dispatch)))\n        remaining (set/difference todo started?)]\n    (when (seq remaining)\n      element)))\n\n(defn queue-next-send!\n  \"Assumes tx-node is to be processed pessimistically. Queues the next send if the node is currently idle\n  on the network and there are any sends left to do. Adds to the send queue, and returns the updated\n  tx-node.\"\n  [app {:keys [::txn/elements] :as tx-node}]\n  [:com.fulcrologic.fulcro.application/app ::txn/tx-node => ::tx-node]\n  (if (idle-node? tx-node)\n    (let [remotes   (app->remote-names app)\n          with-work (partial element-with-work remotes)\n          element   (some with-work elements)]\n      (if element\n        (queue-element-sends! app tx-node element)\n        tx-node))\n    tx-node))\n\n(defn queue-sends!\n  \"Finds any item(s) on the given node that are ready to be placed on the network queues and adds them. Non-optimistic\n  multi-element nodes will only queue one remote operation at a time.\"\n  [app {:keys [::txn/options ::txn/elements] :as tx-node}]\n  [:com.fulcrologic.fulcro.application/app ::txn/tx-node => ::tx-node]\n  (let [optimistic? (boolean (:optimistic? options))]\n    (schedule-sends! app 0)\n    (if optimistic?\n      (reduce\n        (fn [node element]\n          (queue-element-sends! app node element))\n        tx-node\n        elements)\n      (queue-next-send! app tx-node))))\n\n(defn dispatch-result!\n  \"Figure out the dispatch routine to trigger for the given network result.  If it exists, send the result\n  to it.\n\n  Returns the tx-element with the remote marked complete.\"\n  [app tx-node {::txn/keys [results dispatch desired-ast-nodes transmitted-ast-nodes original-ast-node] :as tx-element} remote]\n  [:com.fulcrologic.fulcro.application/app ::txn/tx-node ::txn/tx-element keyword? => ::tx-element]\n  (schedule-queue-processing! app 0)\n  (let [result  (get results remote)\n        handler (get dispatch :result-action)]\n    (when handler\n      (let [env (build-env app tx-node {:dispatch        dispatch\n                                        :transacted-ast  original-ast-node\n                                        :mutation-ast    (get desired-ast-nodes remote)\n                                        :transmitted-ast (get transmitted-ast-nodes remote)\n                                        :result          result})]\n        (try\n          (handler env)\n          (catch #?(:cljs :default :clj Exception) e\n            (log/error e \"The result-action mutation handler for mutation\" (:dispatch-key original-ast-node) \"threw an exception. See https://book.fulcrologic.com/#err-txp-mut-res-action-exc\"))))))\n  (update tx-element ::txn/complete? conj remote))\n\n(defn distribute-element-results!\n  \"Distribute results and mark the remotes for those elements as complete.\"\n  [app tx-node {:keys [::txn/results ::txn/complete?] :as tx-element}]\n  [:com.fulcrologic.fulcro.application/app ::txn/tx-node ::txn/tx-element => ::tx-element]\n  (reduce\n    (fn [new-element remote]\n      (if (complete? remote)\n        new-element\n        (dispatch-result! app tx-node new-element remote)))\n    tx-element\n    (keys results)))\n\n(defn distribute-results!\n  \"Walk all elements of the tx-node and call result dispatch handlers for any results that have\n  not been distributed.\"\n  [app {:keys [::txn/elements] :as tx-node}]\n  [:com.fulcrologic.fulcro.application/app ::txn/tx-node => ::tx-node]\n  (assoc tx-node\n    ::txn/elements (mapv\n                     (fn [element] (distribute-element-results! app tx-node element))\n                     elements)))\n\n(defn update-progress!\n  \"Report all progress items to any registered progress dispatch and clear them from the tx-node.\n  Returns the updated tx-node.\"\n  [app {:keys [::txn/elements] :as tx-node}]\n  [:com.fulcrologic.fulcro.application/app ::txn/tx-node => ::tx-node]\n  (let [get-env (fn get-env* [remote progress] (build-env app tx-node {:remote remote :progress progress}))]\n    (reduce\n      (fn [node {::txn/keys [idx progress dispatch original-ast-node] :as element}]\n        (doseq [[remote value] progress]\n          (let [env    (get-env remote value)\n                action (get dispatch :progress-action)]\n            (when action\n              (try\n                (action env)\n                (catch #?(:cljs :default :clj Exception) e\n                  (log/error e \"Progress action threw an exception in mutation\" (:dispatch-key original-ast-node) \"See https://book.fulcrologic.com/#err-txp-progress-action-exc\"))))))\n        (update-in node [::txn/elements idx] dissoc ::txn/progress))\n      tx-node\n      elements)))\n\n(defn process-tx-node!\n  [app {:keys [::txn/options] :as tx-node}]\n  [:com.fulcrologic.fulcro.application/app ::txn/tx-node => (s/nilable ::tx-node)]\n  (let [optimistic? (boolean (:optimistic? options))]\n    (if (fully-complete? app tx-node)\n      nil\n      (-> tx-node\n        (cond->>\n          optimistic? (run-actions! app)\n          (not optimistic?) (advance-actions! app))\n        (->>\n          (queue-sends! app)\n          (update-progress! app)\n          (distribute-results! app))))))\n\n(defn requested-refreshes [app queue]\n  [:com.fulcrologic.fulcro.application/app (s/coll-of ::txn/tx-node) => set?]\n  \"Returns a set of refreshes that have been requested by active mutations in the queue\"\n  (reduce\n    (fn [outer-acc tx-node]\n      (let [env (build-env app tx-node)]\n        (reduce\n          (fn [acc element]\n            (let [{::txn/keys [dispatch]} element\n                  refresh (:refresh dispatch)]\n              (if refresh\n                (into acc (set (refresh env)))\n                acc)))\n          outer-acc\n          (::txn/elements tx-node))))\n    #{}\n    queue))\n\n(defn remotes-active-on-node\n  \"Given a tx node and the set of legal remotes: returns a set of remotes that are active on that node.\"\n  [{::txn/keys [elements] :as tx-node} remotes]\n  [::txn/tx-node :com.fulcrologic.fulcro.application/remote-names\n   => :com.fulcrologic.fulcro.application/remote-names]\n  (let [active-on-element (fn [{::txn/keys [dispatch complete?]}]\n                            (let [remotes (set remotes)]\n                              (-> remotes\n                                (set/intersection (set (keys dispatch)))\n                                (set/difference complete?))))]\n    (reduce\n      (fn [acc ele]\n        (set/union acc (active-on-element ele)))\n      #{}\n      elements)))\n\n(defn active-remotes\n  \"Calculate which remotes still have network activity to do on the given active queue.\"\n  [queue remotes]\n  [::txn/active-queue :com.fulcrologic.fulcro.application/remote-names\n   => :com.fulcrologic.fulcro.application/active-remotes]\n  (reduce\n    (fn [ra n]\n      (set/union ra (remotes-active-on-node n remotes)))\n    #{}\n    queue))\n\n(defn process-queue!\n  \"Run through the active queue and do a processing step.\"\n  [{:com.fulcrologic.fulcro.application/keys [state-atom runtime-atom] :as app}]\n  [:com.fulcrologic.fulcro.application/app => any?]\n  (let [new-queue        (reduce\n                           (fn *pstep [new-queue n]\n                             (if-let [new-node (process-tx-node! app n)]\n                               (conj new-queue new-node)\n                               new-queue))\n                           []\n                           (::txn/active-queue @runtime-atom))\n        accumulate       (fn [r items] (into (set r) items))\n        remotes          (app->remote-names app)\n        schedule-render! (ah/app-algorithm app :schedule-render!)\n        explicit-refresh (requested-refreshes app new-queue)\n        remotes-active?  (active-remotes new-queue remotes)]\n    (swap! state-atom assoc :com.fulcrologic.fulcro.application/active-remotes remotes-active?)\n    (swap! runtime-atom assoc ::txn/active-queue new-queue)\n    (when (seq explicit-refresh)\n      (swap! runtime-atom update :com.fulcrologic.fulcro.application/to-refresh accumulate explicit-refresh))\n    (schedule-render! app)\n    nil))\n\n(defn transact-sync!\n  \"Run the optimistic action(s) of a transaction synchronously. It is primarily used to deal with controlled inputs, since they\n   have issues working asynchronously, so ideally the mutation in question will *not* have remote action (though they\n   are allowed to).\n\n   NOTE: any *remote* behaviors of `tx` will *still be async*.\n\n   This function:\n\n   * Runs the optimistic side of the mutation(s)\n   * IF (and only if) one or more of the mutations has more sections than just an `action` then it submits the mutation to the normal transaction queue,\n     but with the optimistic part already done.\n   * This functions *does not* queue a render refresh (though if the normal transaction queue is updated, it will queue tx remote processing, which will trigger a UI refresh).\n\n   If you pass it an on-screen instance that has a query and ident, then this function tunnel updated UI props synchronously to that\n   component so it can refresh immediately and avoid DOM input issues.\n\n   Returns the new component props or the final state map if no component was used in the transaction.\n   \"\n  [app tx {:keys [component ref] :as options}]\n  (let [mutation-nodes      (:children (eql/query->ast tx))\n        ast-node->operation (zipmap mutation-nodes (map (fn [ast-node] (m/mutate {:ast ast-node})) mutation-nodes))\n        {optimistic true\n         mixed      false} (group-by #(= #{:action :result-action} (-> (ast-node->operation %) keys set)) mutation-nodes)\n        optimistic-tx-node  (when (seq optimistic)\n                              (let [node (tx-node (eql/ast->query {:type :root :children optimistic}) options)]\n                                (dispatch-elements node (build-env app node) m/mutate)))\n        mixed-tx-node       (when (seq mixed)\n                              (let [node (tx-node (eql/ast->query {:type :root :children mixed}) options)]\n                                (dispatch-elements node (build-env app node) m/mutate)))\n        resulting-node-id   (atom nil)]\n    (when optimistic-tx-node (run-actions! app optimistic-tx-node))\n    (when mixed-tx-node\n      (let [node         (run-actions! app mixed-tx-node)\n            runtime-atom (:com.fulcrologic.fulcro.application/runtime-atom app)]\n        (reset! resulting-node-id (::txn/id node))\n        (swap! runtime-atom update ::txn/active-queue conj node)\n        (schedule-queue-processing! app 20)))\n    (cond\n      (and component (rc/component? component) (rc/has-ident? component))\n      (when-let [refresh-component! (ah/app-algorithm app :refresh-component!)]\n        (refresh-component! component))\n      ref (let [r! (ah/app-algorithm app :render!)] (when r! (r! app)))\n      :else (when #?(:cljs js/goog.DEBUG :clj true)\n              (log/warn \"Synchronous transaction was submitted on the app or a component without an ident. No UI refresh will happen. See https://book.fulcrologic.com/#warn-tx-missing-ident\")))\n    @resulting-node-id))\n\n(defn default-tx!\n  \"Default (Fulcro-2 compatible) transaction submission. The options map can contain any additional options\n  that might be used by the transaction processing (or UI refresh).\n\n  Some that may be supported (depending on application settings):\n\n  - `:optimistic?` - boolean. Should the transaction be processed optimistically?\n  - `:ref` - ident. The component ident to include in the transaction env.\n  - `:component` - React element. The instance of the component that should appear in the transaction env.\n  - `:refresh` - Vector containing idents (of components) and keywords (of props). Things that have changed and should be re-rendered\n    on screen. Only necessary when the underlying rendering algorithm won't auto-detect, such as when UI is derived from the\n    state of other components or outside of the directly queried props. Interpretation depends on the renderer selected:\n    The ident-optimized render treats these as \\\"extras\\\".\n  - `:only-refresh` - Vector of idents/keywords.  If the underlying rendering configured algorithm supports it: The\n    components using these are the *only* things that will be refreshed in the UI.\n    This can be used to avoid the overhead of looking for stale data when you know exactly what\n    you want to refresh on screen as an extra optimization. Idents are *not* checked against queries.\n\n  WARNING: `:only-refresh` can cause missed refreshes because rendering is debounced. If you are using this for\n           rapid-fire updates like drag-and-drop it is recommended that on the trailing edge (e.g. drop) of your sequence you\n           force a normal refresh via `app/render!`.\n\n  If the `options` include `:ref` (which comp/transact! sets), then it will be auto-included on the `:refresh` list.\n\n  NOTE: Fulcro 2 'follow-on reads' are supported and are added to the `:refresh` entries. Your choice of rendering\n  algorithm will influence their necessity.\n\n  Returns the transaction ID of the submitted transaction.\n  \"\n  ([app tx]\n   [:com.fulcrologic.fulcro.application/app ::txn/tx => ::txn/id]\n   (default-tx! app tx {}))\n  ([{:com.fulcrologic.fulcro.application/keys [runtime-atom] :as app} tx {:keys [synchronous?] :as options}]\n   [:com.fulcrologic.fulcro.application/app ::txn/tx ::txn/options => ::txn/id]\n   (if synchronous?\n     (transact-sync! app tx options)\n     (do\n       (schedule-activation! app)\n       (let [{:keys [refresh only-refresh ref] :as options} (merge {:optimistic? true} options)\n             follow-on-reads (into #{} (filter #(or (keyword? %) (eql/ident? %)) tx))\n             node            (tx-node tx options)\n             accumulate      (fn [r items] (into (set r) items))\n             refresh         (cond-> (set refresh)\n                               (seq follow-on-reads) (into follow-on-reads)\n                               ref (conj ref))]\n         (swap! runtime-atom (fn [s] (cond-> (update s ::txn/submission-queue (fn [v n] (conj (vec v) n)) node)\n                                       ;; refresh sets are cumulative because rendering is debounced\n                                       (seq refresh) (update :com.fulcrologic.fulcro.application/to-refresh accumulate refresh)\n                                       (seq only-refresh) (update :com.fulcrologic.fulcro.application/only-refresh accumulate only-refresh))))\n         (::txn/id node))))))\n\n(defn- abort-elements!\n  \"Abort any elements in the given send-queue that have the given abort id.\n\n  Aborting will cause the network to abort (which will report a result), or if the item is not yet active a\n  virtual result will still be sent for that node.\n\n  Returns a new send-queue that no longer contains the aborted nodes.\"\n  [{:keys [abort!] :as remote} send-queue abort-id]\n  (if abort!\n    (reduce\n      (fn [result {::txn/keys [active? result-handler] :as send-node}]\n        (let [aid (node-abort-id send-node)]\n          (cond\n            (not= aid abort-id) (do\n                                  (conj result send-node))\n            active? (do\n                      (abort! remote abort-id)\n                      result)\n            :otherwise (do\n                         (result-handler {:status-text \"Cancelled\" ::txn/aborted? true})\n                         result))))\n      []\n      send-queue)\n    (do\n      (log/error \"Cannot abort network requests. The remote has no abort support! See https://book.fulcrologic.com/#err-txp-cant-abort\")\n      send-queue)))\n\n(defn abort!\n  \"Implementation of abort when using this tx processing\"\n  [app abort-id]\n  (let [{:com.fulcrologic.fulcro.application/keys [runtime-atom]} (rc/any->app app)\n        runtime-state   @runtime-atom\n        {:com.fulcrologic.fulcro.application/keys [remotes]\n         ::txn/keys                               [send-queues]} runtime-state\n        remote-names    (keys send-queues)\n        new-send-queues (reduce\n                          (fn [result remote-name]\n                            (assoc result remote-name (abort-elements!\n                                                        (get remotes remote-name)\n                                                        (get send-queues remote-name) abort-id)))\n                          {}\n                          remote-names)]\n    (swap! runtime-atom assoc ::txn/send-queues new-send-queues)))\n\n(defn abort-remote!\n  \"Cause everything in the active network queue for remote to be cancelled. Any result that (finally) appears for aborted\n  items will be ignored. This will cause a hard error to be \\\"received\\\" as the result for everything\n  that is in the send queue of the given remote.\n\n  This function is mainly meant for use in development mode when dealing with a buggy remote implementation.\"\n  [app-ish remote]\n  (let [app            (rc/any->app app-ish)\n        {:com.fulcrologic.fulcro.application/keys [state-atom runtime-atom]} (rc/any->app app)\n        {abort-network! :abort!\n         :as            the-remote} (get @runtime-atom [:com.fulcrologic.fulcro.application/remotes remote])\n        old-send-queue (get-in @runtime-atom [::txn/send-queues remote])]\n    (swap! runtime-atom assoc-in [::txn/send-queues remote] [])\n    (swap! state-atom update :com.fulcrologic.fulcro.application/active-remotes (fnil disj #{}) remote)\n    (doseq [{::txn/keys [active? result-handler] :as send-node} old-send-queue\n            aid (node-abort-id send-node)]\n      (try\n        (when active?\n          (if abort-network!\n            (abort-network! the-remote aid)\n            (log/warn \"Remote does not support abort. Clearing the queue, but a spurious result may still appear. See https://book.fulcrologic.com/#warn-tx-remote-abort-not-supported\")))\n        (result-handler {:status-code   500\n                         :body          {}\n                         :status-text   \"Globally Aborted\"\n                         ::txn/aborted? true})\n        (catch #?(:clj Exception :cljs :default) e\n          (log/error e \"Failed to abort send node. See https://book.fulcrologic.com/#err-txp-abort-failed\"))))))\n\n(defn with-batched-reads\n  \"Modify the given fulcro app so that it does reads in batches when possible. Requires server support (which is\n  provided by Fulcro's handle-api-request), and a remote that can handle raw requests (see the latest http-remote).\n\n  Defaults to enabling batching on all remotes, but if any of your client-side remote code or servers do not support\n  batching, pass the `remotes` option, which is a set of keywords that names the remotes on which batching should\n  be enabled.\"\n  ([app] (with-batched-reads app nil))\n  ([app remotes]\n   (let [remotes          (or remotes\n                            (some-> app\n                              :com.fulcrologic.fulcro.application/runtime-atom\n                              deref\n                              :com.fulcrologic.fulcro.application/remotes\n                              keys))\n         batching-enabled (if (seq remotes) (zipmap remotes (repeat true)) {})]\n     (-> app\n       (assoc-in [:com.fulcrologic.fulcro.application/algorithms :com.fulcrologic.fulcro.algorithm/tx!] default-tx!)\n       (assoc-in [:com.fulcrologic.fulcro.application/algorithms :com.fulcrologic.fulcro.algorithm/abort!] abort!)\n       (assoc-in [:com.fulcrologic.fulcro.application/config :batching-enabled] batching-enabled)))))\n","~:reader-features",["^L",["~:cljs"]],"~:cljc",true,"~:source-map-compact",["^ ","mappings","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","names",["p__49067","map__49068","cljs.core/--destructure-map","cljs.core.get","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/remove-send!","runtime-atom","app","remote","txn-id","ele-idx","map__49073","cljs.core/deref","send-queues","old-queue","queue","cljs.core/filterv","p__49074","map__49075","id","idx","cljs.core._EQ_","cljs.core.swap_BANG_","cljs.core/assoc-in","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/*remove-send*","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/app->remotes","com.fulcrologic.guardrails.core/=>","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/app->remote-names","cljs.core/keys","cljs.core/set","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/extract-parallel","sends","cljs.spec.alpha.every_impl","G__49104","cljs.core/vector?","cljs.spec.alpha/cat-impl","map__49105","parallel?","p__49106","map__49107","options","cljs.core/boolean","or__5045__auto__","parallel","sequential","cljs.core/group-by","cljs.core/vec","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/every-ast?","ast-node-or-tree","test","cljs.core/fn?","cljs.core/boolean?","cljs.core/every?","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/mutation-ast?","p1__49109#","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/query-ast?","p1__49113#","cljs.core.not_EQ_","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/sort-queue-writes-before-reads","send-queue","vec__49116","cljs.core.nth","map__49119","active-queue","cljs.core/split-with","id-sequence","cljs.core.mapv","n","cljs.core/first","cljs.core.partition_by","clusters","reads","writes","cljs.core.reduce","result","vec__49123","seq__49124","cljs.core/seq","first__49125","cljs.core/next","map__49126","ast","_","cluster","cljs.core.update","cljs.core/into","cljs.core.into","cljs.core.concat","p__49129","map__49130","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/top-keys","type","key","children","G__49131","cljs.core/coll?","cljs.core.map","p__49138","vec__49140","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/create-combined-node","remote-name","leader","to-send","tx","p__49146","map__49147","acc","com.fulcrologic.fulcro.algorithms.do-not-use/ast->query","edn-query-language.core/query->ast","combined-node-id","com.fulcrologic.fulcro.algorithms.tempid.uuid","combined-node-idx","remove!","combined-node","combined-result","seq__49149","chunk__49150","count__49151","i__49152","map__49165","temp__5804__auto__","cljs.core/chunked-seq?","c__5568__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","map__49168","update-handler","p__49169","map__49170","body","seq__49171","chunk__49172","count__49173","i__49174","map__49198","map__49210","result-handler","new-body","cljs.core/map?","cljs.core/select-keys","cljs.core.assoc","and__5043__auto__","js/goog.DEBUG","com.fulcrologic.fulcro.inspect.inspect-client/INSPECT","map__49207","e","e49204","map__49216","e49215","status-code","com.fulcrologic.fulcro.inspect.inspect-client/send-finished!","com.fulcrologic.fulcro.inspect.inspect-client/send-failed!","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/node-abort-id","G__49219","G__49220","p__49228","map__49229","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/mutation-node?","p1__49226#","cljs.core/some","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/batchable?","abort-id","cljs.core/not","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/batch-sends","cljs.spec.alpha/map-spec-impl","G__49273","cljs.core/contains?","map__49279","map__49280","prime-leader","prime-candidates","to-defer","batch","remainder","vec__49289","p1__49266#","new-result","cljs.core/conj","batch-node-id","batch-node-idx","batch-node","p__49293","map__49294","G__49297","map__49298","map__49302","more-batch","more-result","p__49305","map__49306","batch-result","G__49308","map__49309","map__49314","G__49315","taoensso.timbre._log_BANG_","taoensso.timbre/*config*","cljs.core/Delay","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/combine-sends","G__49338","map__49388","vec__49389","vec__49392","supports-raw-body?","_active-nodes","id-to-send","p1__49324#","leading-mutation?","batched-reads?","cljs.core.get_in","batch?","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/net-send!","send-node","cljs.core/any?","b2__35146__auto__","transmit!","e49398","e49411","temp__5802__auto__","seq__49412","chunk__49413","count__49414","i__49415","element-node","e49421","e49423","com.fulcrologic.fulcro.inspect.inspect-client/send-started!","e49425","e49399","e49401","seq__49402","chunk__49403","count__49404","i__49405","G__49409","fexpr__49408","G__49428","fexpr__49427","G__49430","fexpr__49429","p__49432","map__49434","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/process-send-queues!","remote-names","operations","cljs.core.atom","new-send-queues","vec__49435","p","serial","front","seq__49438","chunk__49439","count__49440","i__49441","item","map__49445","cljs.core/assoc","seq__49446","chunk__49448","count__49449","i__49450","op","var_args","G__49455","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node","js/Error","com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.tx_node","ast-nodes","elements","cljs.core.comp","cljs.core.filter","cljs.core.map_indexed","ast-node","com.fulcrologic.fulcro.algorithms.do-not-use/now","G__49459","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/build-env","p__49461","map__49462","p__49465","map__49466","tx-node","addl","map__49463","ref","component","G__49464","cljs.core.merge","com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.build_env","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/dispatch-elements","env","dispatch-fn","do-dispatch","e49469","G__49470","dispatch","p__49471","map__49473","original-ast-node","ele","map__49474","G__49475","dispatch-all","eles","p__49478","map__49479","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/application-rendered!","p1__49477#","cljs.core/update","node","cljs.core/dissoc","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/schedule-activation!","p__49483","map__49484","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/activate-submissions!","map__49486","blocked","ready","dispatched-nodes","p1__49481#","com.fulcrologic.fulcro.mutations/mutate","a","p1__49482#","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/process-queue!","G__49489","tm","cljs.core/int?","com.fulcrologic.fulcro.algorithms.scheduling.schedule_BANG_","com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_activation_BANG_","G__49493","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/schedule-queue-processing!","com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_queue_processing_BANG_","G__49496","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/schedule-sends!","com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.schedule_sends_BANG_","p__49499","map__49501","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/advance-actions!","remotes","reduction","p__49502","map__49503","done?","new-elements","element","map__49504","map__49505","complete?","action","remote-set","clojure.set.intersection","exec?","fully-complete?","cljs.core/empty?","clojure.set.difference","state-id-before","com.fulcrologic.fulcro.inspect.inspect-client/current-history-id","state","state-before","updated-element","new-acc","cljs.core.conj","e49508","mutation-symbol","e49510","edn_query_language.core.ast__GT_expr","com.fulcrologic.fulcro.inspect.inspect-client/optimistic-action-finished!","p__49512","map__49513","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/run-actions!","map__49515","map__49516","updated-node","e49518","e49519","p__49521","map__49522","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/fully-complete?","element-complete?","p__49524","map__49525","active-keys","clojure.set.union","desired-set","G__49528","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/record-result!","p__49530","map__49531","result-key","cljs.core/keyword?","txn-idx","p__49533","map__49534","cljs.core/reduced","not-found?","com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.record_result_BANG_","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/compute-desired-ast-node","tx-element","map__49537","state-before-action","remote-fn","remote-desire","desired-ast","query-transform","com.fulcrologic.fulcro.algorithms.lookup/app-algorithm","G__49540","p__49542","p__49543","map__49544","map__49545","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/add-send!","cljs.spec.alpha/nilable-impl","handler","map__49549","e49548","cljs.core/update-in","cljs.core.fnil","p__49551","map__49552","started?","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/queue-element-sends!","to-dispatch","cljs.core.update_in","p__49555","map__49556","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/idle-node?","p__49558","map__49559","in-progress","p__49560","map__49562","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/element-with-work","todo","remaining","p__49563","map__49564","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/queue-next-send!","with-work","cljs.core.partial","p__49566","map__49567","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/queue-sends!","optimistic?","p__49569","map__49570","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/dispatch-result!","results","desired-ast-nodes","transmitted-ast-nodes","e49572","p__49574","map__49575","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/distribute-element-results!","new-element","p__49577","map__49578","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/distribute-results!","p__49580","map__49581","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/update-progress!","get-env","progress","p__49582","map__49583","seq__49584","chunk__49585","count__49587","i__49588","vec__49599","vec__49604","value","e49602","e49607","p__49609","map__49610","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/process-tx-node!","G__49611","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/requested-refreshes","G__49613","cljs.core/set?","outer-acc","map__49615","refresh","p__49616","map__49617","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/remotes-active-on-node","active-on-element","p__49619","map__49620","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/active-remotes","ra","p__49622","map__49623","state-atom","new-queue","new-node","accumulate","r","items","schedule-render!","explicit-refresh","remotes-active?","p__49627","map__49628","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/transact-sync!","map__49630","mutation-nodes","ast-node->operation","cljs.core/zipmap","optimistic","mixed","p1__49626#","optimistic-tx-node","edn-query-language.core/ast->query","mixed-tx-node","resulting-node-id","cljs.core/reset!","com.fulcrologic.fulcro.raw.components/component?","com.fulcrologic.fulcro.raw.components/has-ident?","refresh-component!","r!","G__49636","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/default-tx!","p__49638","p__49639","map__49640","map__49641","com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.default_tx_BANG_","synchronous?","map__49643","only-refresh","follow-on-reads","p1__49634#","cljs.core/Keyword","edn-query-language.core/ident?","G__49645","s","G__49646","v","p__49649","map__49650","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/abort-elements!","abort!","p__49651","map__49652","active?","aid","G__49654","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/abort!","map__49656","map__49657","com.fulcrologic.fulcro.raw.components/any->app","runtime-state","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/abort-remote!","app-ish","map__49659","map__49660","abort-network!","the-remote","old-send-queue","cljs.core/disj","seq__49662","chunk__49667","count__49668","i__49669","map__49703","seq__49670","chunk__49671","count__49672","i__49673","map__49718","seq__49663","chunk__49664","count__49665","i__49666","e49711","e49714","e49726","e49729","G__49713","G__49716","G__49727","G__49731","G__49734","com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/with-batched-reads","com.fulcrologic.fulcro.algorithms.tx_processing.batched_processing.with_batched_reads","G__49736","batching-enabled","cljs.core.repeat"]],"~:used-vars",["^L",["~$cljs.core/--destructure-map","~$cljs.core/comp","~$clojure.set/intersection","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/process-tx-node!","~$cljs.core/boolean?","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/mutation-ast?","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/create-combined-node","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/add-send!","~$cljs.core/keyword?","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/combine-sends","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/query-ast?","~$edn-query-language.core/query->ast","~$cljs.spec.alpha/every-impl","~$com.fulcrologic.fulcro.algorithms.do-not-use/ast->query","~$cljs.core/vector?","~$cljs.core/filter","~$cljs.core/=","~$cljs.core/keys","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/requested-refreshes","~$cljs.core/partial","~$taoensso.timbre/-log!","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/batch-sends","~$com.fulcrologic.fulcro.mutations/mutate","~$edn-query-language.core/ident?","~$com.fulcrologic.guardrails.core/=>","~$cljs.core/count","~$cljs.core/deref","~$cljs.core/reduce","~$cljs.core/seq","~$cljs.core/chunk-first","~$cljs.core/Keyword","~$cljs.core/int?","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/net-send!","~$cljs.core/group-by","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/extract-parallel","~$cljs.core/mapv","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/*remove-send*","~$cljs.spec.alpha/nilable-impl","~$cljs.core/not=","~$cljs.core/dissoc","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/remotes-active-on-node","~$cljs.core/Delay","~$cljs.core/chunk-rest","~$cljs.core/atom","~$cljs.core/concat","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/batchable?","~$com.fulcrologic.fulcro.inspect.inspect-client/optimistic-action-finished!","~$com.fulcrologic.fulcro.raw.components/any->app","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/remove-send!","~$cljs.core/set","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/abort-elements!","~$cljs.core/empty?","~$cljs.core/fnil","~$com.fulcrologic.fulcro.raw.components/has-ident?","~$cljs.core/contains?","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/sort-queue-writes-before-reads","~$cljs.core/into","~$cljs.core/map?","~$cljs.spec.alpha/map-spec-impl","~$cljs.core/reset!","~$com.fulcrologic.fulcro.inspect.inspect-client/INSPECT","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/schedule-sends!","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/application-rendered!","~$cljs.core/conj","~$com.fulcrologic.fulcro.algorithms.tempid/uuid","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/with-batched-reads","~$taoensso.timbre/*config*","~$cljs.core/zipmap","~$cljs.core/update","~$cljs.core/map","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/schedule-activation!","~$cljs.core/fn?","~$cljs.core/filterv","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/compute-desired-ast-node","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/record-result!","~$edn-query-language.core/ast->expr","~$cljs.core/get-in","~$cljs.core/swap!","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/advance-actions!","~$cljs.core/get","~$com.fulcrologic.fulcro.inspect.inspect-client/send-failed!","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/node-abort-id","~$com.fulcrologic.fulcro.algorithms.do-not-use/now","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/activate-submissions!","~$cljs.core/partition-by","~$cljs.core/-nth","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/every-ast?","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/default-tx!","~$cljs.spec.alpha/cat-impl","~$com.fulcrologic.fulcro.inspect.inspect-client/send-finished!","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/idle-node?","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/fully-complete?","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/distribute-results!","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/transact-sync!","~$clojure.set/difference","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/schedule-queue-processing!","~$com.fulcrologic.fulcro.raw.components/component?","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/run-actions!","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/app->remotes","~$cljs.core/reduced","~$cljs.core/set?","~$cljs.core/nth","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/dispatch-result!","~$js/goog.DEBUG","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/element-with-work","~$cljs.core/split-with","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/process-send-queues!","~$cljs.core/next","~$cljs.core/vec","~$cljs.core/select-keys","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/distribute-element-results!","~$cljs.core/not","~$com.fulcrologic.fulcro.algorithms.lookup/app-algorithm","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/update-progress!","~$cljs.core/disj","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/queue-next-send!","~$cljs.core/assoc","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/app->remote-names","~$clojure.set/union","~$cljs.core/assoc-in","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/abort-remote!","~$cljs.core/map-indexed","~$com.fulcrologic.fulcro.algorithms.scheduling/schedule!","~$com.fulcrologic.fulcro.inspect.inspect-client/send-started!","~$cljs.core/coll?","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/mutation-node?","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/active-remotes","~$com.fulcrologic.fulcro.inspect.inspect-client/current-history-id","~$cljs.core/repeat","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/queue-sends!","~$cljs.core/first","~$edn-query-language.core/ast->query","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/dispatch-elements","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/process-queue!","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/build-env","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/queue-element-sends!","~$cljs.core/merge","~$cljs.core/every?","~$cljs.core/update-in","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/top-keys","~$com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/abort!","~$js/Error","~$cljs.core/any?","~$cljs.core/boolean","~$cljs.core/some","~$cljs.core/chunked-seq?"]]],"~:cache-keys",["~#cmap",[["^1O","com/fulcrologic/fulcro/algorithms/normalize.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^L",[]],"~:deps-syms",["^13","^10","^1>","^X","^Z","^12"]]],["^1O","goog/dom/tagname.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.dom.HtmlElement"]]],["^1O","goog/async/freelist.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","cljs/core/async/impl/ioc_helpers.cljs"],["134b1e0eac15fdd1718f8a8ddacbb0902961558f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","~$cljs.core.async.impl.protocols"]]],["^1O","goog/i18n/datetimesymbols.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.i18n.cldrversion"]]],["^1O","goog/labs/useragent/platform.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.string.internal","~$goog.labs.userAgent.util","~$goog.labs.userAgent.highEntropy.highEntropyValue","~$goog.labs.userAgent.highEntropy.highEntropyData","~$goog.labs.userAgent"]]],["^1O","expound/util.cljc"],["5294f6b31a2cfa6ffbe5021d9390c738fb471927","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^B"]]],["^1O","goog/crypt/crypt.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.asserts","~$goog.async.throwException"]]],["^1O","cljs/core/async.cljs"],["134b1e0eac15fdd1718f8a8ddacbb0902961558f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^5E","~$cljs.core.async.impl.channels","~$cljs.core.async.impl.buffers","~$cljs.core.async.impl.timers","~$cljs.core.async.impl.dispatch","~$cljs.core.async.impl.ioc-helpers","~$goog.array"]]],["^1O","goog/timer/timer.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.Promise","~$goog.events.EventTarget"]]],["^1O","com/fulcrologic/fulcro/algorithms/lookup.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^Z"]]],["^1O","cljs/spec/gen/alpha.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","~$goog.Uri"]]],["^1O","cljs/tools/reader/impl/utils.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","~$clojure.string","~$goog.string"]]],["^1O","goog/math/math.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L"]]],["^1O","goog/html/trustedtypes.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/string/stringformat.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5X"]]],["^1O","goog/events/eventtype.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.events.eventTypeHelpers","~$goog.userAgent"]]],["^1O","goog/labs/useragent/browser.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5H","^5I","^5L","^5G","^5J","^5K"]]],["^1O","goog/html/safeurl.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","~$goog.fs.url","~$goog.html.TrustedResourceUrl","~$goog.string.Const","~$goog.string.TypedString","^5G"]]],["^1O","goog/array/array.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L"]]],["^1O","com/fulcrologic/fulcro/algorithms/do_not_use.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^Z","^X","~$goog.object","~$goog.crypt","~$goog.crypt.base64","^B","^5W"]]],["^1O","expound/problems.cljc"],["5294f6b31a2cfa6ffbe5021d9390c738fb471927","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","~$expound.paths","^B"]]],["^1O","goog/useragent/useragent.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.labs.userAgent.browser","~$goog.labs.userAgent.engine","~$goog.labs.userAgent.platform","^5H","~$goog.reflect","^5G"]]],["^1O","goog/structs/prioritypool.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.structs.Pool","~$goog.structs.PriorityQueue"]]],["^1O","goog/async/run.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.async.WorkQueue","~$goog.debug.asyncStackTag","~$goog.async.nextTick","^5M"]]],["^1O","com/cognitect/transit/impl/reader.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$com.cognitect.transit.impl.decoder","~$com.cognitect.transit.caching"]]],["^1O","goog/debug/error.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/async/workqueue.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.async.FreeList","^5L"]]],["^1O","com/fulcrologic/fulcro/dom/events.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10"]]],["^1O","goog/flags/flags.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/events/events.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","~$goog.debug.entryPointRegistry","~$goog.events.BrowserEvent","~$goog.events.BrowserFeature","~$goog.events.Listenable","~$goog.events.ListenerMap"]]],["^1O","goog/promise/resolver.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/events/browserfeature.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","cljs/tools/reader/edn.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","~$cljs.tools.reader.impl.errors","~$cljs.tools.reader.reader-types","~$cljs.tools.reader.impl.utils","~$cljs.tools.reader.impl.commons","~$cljs.tools.reader","^5X","~$goog.string.StringBuffer"]]],["^1O","goog/structs/priorityqueue.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.structs.Heap"]]],["^1O","goog/net/xhrio.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.Timer","^5S","^5L","~$goog.collections.maps","^6C","^5U","~$goog.json.hybrid","~$goog.log","~$goog.net.ErrorCode","~$goog.net.EventType","~$goog.net.HttpStatus","~$goog.net.XmlHttp","^63","^5X","~$goog.uri.utils","^5Z"]]],["^1O","goog/promise/thenable.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/collections/iters.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","com/fulcrologic/fulcro/algorithms/transit.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","~$cognitect.transit","^J","^B","^16"]]],["^1O","goog/dom/nodetype.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","com/fulcrologic/guardrails/utils.cljc"],["9ef91f8ca04cc8d2757fb5704e0d3fb96117e65e","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","~$clojure.walk"]]],["^1O","cljs/tools/reader/impl/inspect.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10"]]],["^1O","com/cognitect/transit/util.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^63"]]],["^1O","goog/labs/useragent/highentropy/highentropyvalue.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5H","^5G"]]],["^1O","cljs/pprint.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^5W","^5X","^6M"]]],["^1O","com/fulcrologic/fulcro/algorithms/data_targeting.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^W","^B","^J","^X","^Z"]]],["^1O","cljs/tools/reader.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^6I","^6J","^6K","^6H","^5S","^5X","^6M"]]],["^1O","expound/alpha.cljc"],["5294f6b31a2cfa6ffbe5021d9390c738fb471927","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","~$expound.problems","^B","^5W","^W","~$expound.printer","~$expound.util","~$expound.ansi"]]],["^1O","taoensso/timbre.cljc"],["3e3c831bd3add911782b6db41dc04e62be6a0cbc","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^5W","~$goog.i18n.DateTimeFormat","^1<","~$taoensso.timbre.appenders.core"]]],["^1O","goog/net/wrapperxmlhttpfactory.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.net.XhrLike","~$goog.net.XmlHttpFactory"]]],["^1O","goog/date/utcdatetime.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.date","~$goog.date.Date","~$goog.date.DateTime","~$goog.date.Interval"]]],["^1O","goog/i18n/nativelocaledigits.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/events/eventtarget.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.Disposable","^5L","~$goog.events","~$goog.events.Event","^6F","^6G","^63"]]],["^1O","com/fulcrologic/guardrails/core.cljc"],["9ef91f8ca04cc8d2757fb5704e0d3fb96117e65e","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","~$com.fulcrologic.guardrails.impl.externs","~$com.fulcrologic.guardrails.utils","^D","^B","^5W","~$expound.alpha"]]],["^1O","goog/disposable/disposable.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.disposable.IDisposable","~$goog.dispose","~$goog.disposeAll"]]],["^1O","expound/ansi.cljc"],["5294f6b31a2cfa6ffbe5021d9390c738fb471927","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^5W"]]],["^1O","goog/string/typedstring.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/object/object.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/dom/asserts.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L"]]],["^1O","taoensso/encore.cljc"],["3c13701902dfed7dc5718fb3b45d8f2647459601","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^5W","^W","~$cljs.reader","~$cljs.tools.reader.edn","^63","^5S","^5X","~$goog.string.format","^6M","^7;","~$goog.net.XhrIo","~$goog.net.XhrIoPool","~$goog.Uri.QueryData","^6T","^6S","~$taoensso.truss"]]],["^1O","goog/structs/set.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.structs","~$goog.structs.Collection","~$goog.structs.Map"]]],"~:SHADOW-TIMESTAMP",[1770097039000,1770097039000,1770097039000],["^1O","taoensso/timbre/appenders/core.cljc"],["3e3c831bd3add911782b6db41dc04e62be6a0cbc","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^5W","^1<"]]],["^1O","goog/math/long.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","^6:"]]],["^1O","goog/events/listener.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.events.ListenableKey"]]],["^1O","goog/html/trustedresourceurl.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","~$goog.fs.blob","^5[","~$goog.html.SafeScript","~$goog.html.trustedtypes","^61","^62"]]],["^1O","cljs/core/async/impl/channels.cljs"],["134b1e0eac15fdd1718f8a8ddacbb0902961558f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^5E","^5Q","^5O"]]],["^1O","goog/events/listenermap.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5S","~$goog.events.Listener","^63"]]],["^1O","goog/events/eventid.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","taoensso/truss.cljs"],["02c08dae83153a50eb946c4d742f574a24bb2a76","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","~$taoensso.truss.impl"]]],["^1O","com/fulcrologic/guardrails/registry.cljc"],["9ef91f8ca04cc8d2757fb5704e0d3fb96117e65e","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10"]]],["^1O","goog/string/internal.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","com/fulcrologic/fulcro/algorithms/merge.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","~$com.fulcrologic.fulcro.algorithms.data-targeting","^12","^U","~$com.fulcrologic.fulcro.algorithms.normalize","^1>","^X","^Z","^16"]]],["^1O","edn_query_language/core.cljc"],["241e544419c01451957e092bcb2df5adf54282c8","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^B"]]],["^1O","goog/functions/functions.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","cljs/core/async/impl/dispatch.cljs"],["134b1e0eac15fdd1718f8a8ddacbb0902961558f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^5O","^6?"]]],["^1O","goog/html/safestyle.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^61","~$goog.html.SafeUrl","^62","^5L","^5G"]]],["^1O","goog/dom/safe.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","~$goog.asserts.dom","~$goog.dom.asserts","~$goog.functions","~$goog.html.SafeHtml","^7P","~$goog.html.SafeStyle","^7V","^60","~$goog.html.uncheckedconversions","^61","^5G"]]],["^1O","goog/asserts/dom.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.dom.TagName","^5L","~$goog.dom.element"]]],["^1O","goog/i18n/dayperiodsymbols.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","expound/paths.cljc"],["5294f6b31a2cfa6ffbe5021d9390c738fb471927","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^B","^70"]]],["^1O","taoensso/truss/impl.cljs"],["02c08dae83153a50eb946c4d742f574a24bb2a76","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^W"]]],["^1O","clojure/walk.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10"]]],["^1O","goog/useragent/product.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^67","^69","^5Z"]]],["^1O","cljs/core/async/impl/protocols.cljs"],["134b1e0eac15fdd1718f8a8ddacbb0902961558f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10"]]],["^1O","goog/net/eventtype.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/structs/map.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.collections.iters","~$goog.iter","~$goog.iter.Iterator","~$goog.iter.es6"]]],["^1O","goog/net/xhriopool.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^7F","~$goog.structs.PriorityPool"]]],["^1O","com/cognitect/transit/delimiters.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/date/date.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","~$goog.i18n.DateTimeSymbols","^5X"]]],["^1O","goog/html/safehtml.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^61","^7P","^7[","~$goog.html.SafeStyleSheet","^7V","^81","^60","^62","^5L","^67","^5S","^63","^5G","~$goog.dom.tags","^7Q"]]],["^1O","goog/dom/tags.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^63"]]],["^1O","goog/math/size.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","com/fulcrologic/fulcro/raw/components.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^63","^W","^5W","^6Y","~$com.fulcrologic.fulcro.algorithms.denormalize","^1>","^U","^X","^1<","^Z"]]],["^1O","goog/structs/queue.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5S"]]],["^1O","goog/labs/useragent/engine.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5S","^5G","^5H"]]],["^1O","com/fulcrologic/fulcro/inspect/transit.cljs"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^6X","~$com.cognitect.transit.types","~$com.fulcrologic.fulcro.algorithms.transit","^Z"]]],["^1O","com/cognitect/transit/impl/decoder.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$com.cognitect.transit.util","~$com.cognitect.transit.delimiters","^6A","^8<"]]],["^1O","goog/fs/blob.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^W","^B","^U","^16","^1>","^18","^1:","^17","^12","^14","^G","^J","^X","^1<","^Z"]]],["^1O","cljs/reader.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^63","^6L","^7D","^6M"]]],["^1O","com/fulcrologic/fulcro/mutations.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^12","~$com.fulcrologic.fulcro.dom.events","^J","^X","^Z","^1<","^B","^1>","^7T","~$com.fulcrologic.fulcro.algorithms.merge","^U","^16","^5W"]]],["^1O","goog/dom/dom.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5S","^5L","^7W","~$goog.dom.BrowserFeature","~$goog.dom.NodeType","^81","~$goog.dom.safe","^7Z","^80","~$goog.math.Coordinate","~$goog.math.Size","^63","^5X","^61","~$goog.string.Unicode","^5Z"]]],["^1O","com/fulcrologic/guardrails/impl/externs.cljc"],["9ef91f8ca04cc8d2757fb5704e0d3fb96117e65e","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","~$com.fulcrologic.guardrails.registry","^7>"]]],["^1O","com/fulcrologic/fulcro/specs.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^B","^J","^1>","^X"]]],["^1O","goog/asserts/asserts.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.debug.Error","^8C"]]],["^1O","cljs/core/async/impl/buffers.cljs"],["134b1e0eac15fdd1718f8a8ddacbb0902961558f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^5E"]]],["^1O","goog/i18n/timezone.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5S","^63","^5X"]]],["^1O","goog/uri/uri.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5S","^5L","^6P","^5X","^7J","^6W","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^1O","goog/i18n/cldrversion.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/net/errorcode.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/labs/useragent/highentropy/highentropydata.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5I"]]],["^1O","goog/collections/maps.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/iter/es6.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.iter.Iterable","^85"]]],["^1O","goog/events/eventtypehelpers.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^6E","^5Z"]]],["^1O","goog/debug/asyncstacktag.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L"]]],["^1O","goog/disposable/idisposable.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/promise/promise.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.Thenable","^5L","^6B","~$goog.async.run","^5M","^8I","^6>","^7Y","~$goog.promise.Resolver"]]],["^1O","cljs/core/async/impl/timers.cljs"],["134b1e0eac15fdd1718f8a8ddacbb0902961558f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^5E","^5N","^5Q"]]],["^1O","cljs/spec/alpha.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^63","^6Y","~$cljs.spec.gen.alpha","^5W"]]],["^1O","goog/fs/url.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/base.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",[]]],["^1O","goog/json/hybrid.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","~$goog.json"]]],["^1O","goog/structs/structs.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5S","^63"]]],["^1O","cljs/tools/reader/impl/errors.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^6I","^5W","~$cljs.tools.reader.impl.inspect"]]],["^1O","com/fulcrologic/fulcro/algorithms/scheduling.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^J","^D","^Z"]]],["^1O","goog/disposable/dispose.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","clojure/string.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^5X","^6M"]]],["^1O","com/fulcrologic/fulcro/algorithms/tempid.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^6Y"]]],["^1O","goog/structs/pool.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^7:","~$goog.structs.Queue","~$goog.structs.Set"]]],["^1O","com/fulcrologic/fulcro/inspect/diff.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^B"]]],["^1O","goog/net/httpstatus.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/i18n/datetimeformat.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","^76","~$goog.date.UtcDateTime","^88","~$goog.i18n.DayPeriods","~$goog.i18n.LocaleFeature","~$goog.i18n.NativeLocaleDigits","~$goog.i18n.TimeZone","^5X"]]],["^1O","com/cognitect/transit/handlers.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^8>","^8<","~$goog.math.Long"]]],["^1O","goog/structs/heap.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.structs.Node","^63"]]],["^1O","goog/debug/entrypointregistry.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L"]]],["^1O","goog/string/string.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^8D","^80","^61","^5G"]]],["^1O","com/cognitect/transit/types.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^8>","~$com.cognitect.transit.eq","^8Z"]]],["^1O","goog/reflect/reflect.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/labs/useragent/util.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5G","^5K"]]],["^1O","expound/printer.cljc"],["5294f6b31a2cfa6ffbe5021d9390c738fb471927","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^5W","^B","^@","^W","^70","^71","^66","^6Y","^7E","^5X"]]],["^1O","com/fulcrologic/fulcro/algorithms/tx_processing.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^W","^B","^U","^16","^1>","^18","^17","^12","^14","^G","^J","^X","^1<","^Z"]]],["^1O","com/cognitect/transit/eq.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^8>"]]],["^1O","goog/debug/debug.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5S","~$goog.debug.errorcontext"]]],["^1O","goog/string/stringbuffer.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/math/coordinate.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.math"]]],["^1O","goog/debug/errorcontext.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","cljs/tools/reader/reader_types.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^6J","^5X","^6M"]]],["^1O","goog/iter/iter.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5S","^5L","~$goog.debug","^7Y","^92"]]],["^1O","goog/labs/useragent/useragent.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","~$goog.flags"]]],["^1O","goog/async/nexttick.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^6C","~$goog.dom","^81","^7Y","^67","^68"]]],["^1O","goog/dom/element.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^8C","^81"]]],["^1O","goog/html/uncheckedconversions.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","^7Z","^7P","^7[","^89","^7V","^60","^61","^5G"]]],["^1O","com/cognitect/transit/caching.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^8?"]]],["^1O","goog/events/event.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^7:","~$goog.events.EventId"]]],["^1O","cljs/tools/reader/impl/commons.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^6H","^6I","^6J"]]],["^1O","goog/dom/htmlelement.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","cljs/core.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^8Z","~$goog.math.Integer","^5X","^63","^5S","^5V","^6M"]]],["^1O","com/cognitect/transit.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^8>","~$com.cognitect.transit.impl.reader","~$com.cognitect.transit.impl.writer","^8<","^90","^6@","^6A"]]],["^1O","goog/html/safescript.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^61","^62","^7Q","^5L"]]],["^1O","goog/log/log.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","^93"]]],["^1O","goog/async/throwexception.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/html/safestylesheet.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^61","^7[","^62","^63","^5L","^5G"]]],["^1O","goog/structs/collection.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/events/browserevent.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^93","^7<","~$goog.events.EventType","^6:","^5Z"]]],["^1O","goog/math/integer.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^6:"]]],["^1O","goog/structs/node.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/dom/browserfeature.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5Z"]]],["^1O","clojure/set.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10"]]],["^1O","goog/uri/utils.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","^5X"]]],["^1O","goog/string/const.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","^62"]]],["^1O","goog/disposable/disposeall.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^7A"]]],["^1O","goog/json/json.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/i18n/localefeature.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/events/listenable.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","goog/events/listenablekey.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","com/cognitect/transit/impl/writer.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^8>","^6A","~$com.cognitect.transit.handlers","^8<","^8?","^8Z"]]],["^1O","goog/net/xmlhttpfactory.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^74"]]],["^1O","com/fulcrologic/fulcro/algorithms/denormalize.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^W","^X","^Z"]]],["^1O","goog/net/xmlhttp.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","~$goog.net.WrapperXmlHttpFactory","^75"]]],["^1O","com/fulcrologic/fulcro/inspect/inspect_client.cljc"],["122cd8e9adbbca12b3e0cf48658c213d29af0be3","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^X","^U","^63","~$com.fulcrologic.fulcro.inspect.diff","~$com.fulcrologic.fulcro.inspect.transit","^D","^1<","^Z"]]],["^1O","goog/net/xhrlike.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13"]]],["^1O","cognitect/transit.cljs"],["98d11d81caee82f97b9417025750b785fb6ecb16","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^10","^W","~$com.cognitect.transit","^8<","^90","^63","^8Z"]]],["^1O","goog/crypt/base64.js"],["533ce2bdbb7925db781449abb6527af1e6c5e782","^5@",["^ ","^5A",null,"^5B",["^L",[]],"^5C",["^13","^5L","^64","^5G","^5Z","~$goog.userAgent.product"]]]]],"~:clj-info",["^ ","jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/spec/alpha.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/compiler.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/com/taoensso/truss/1.6.0/truss-1.6.0.jar!/taoensso/truss.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/fulcro/3.6.0/fulcro-3.6.0.jar!/com/fulcrologic/fulcro/algorithms/data_targeting.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/core.async/1.5.648/core.async-1.5.648.jar!/clojure/core/async.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/expound/expound/0.9.0/expound-0.9.0.jar!/expound/problems.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/io/aviso/pretty/0.1.37/pretty-0.1.37.jar!/io/aviso/exception.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/fulcro/3.6.0/fulcro-3.6.0.jar!/com/fulcrologic/fulcro/algorithms/tempid.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/java/io.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/analyzer/impl.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/com/taoensso/timbre/5.1.2/timbre-5.1.2.jar!/taoensso/timbre.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/spec/gen/alpha.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/set.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/io/aviso/pretty/0.1.37/pretty-0.1.37.jar!/io/aviso/ansi.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/fulcro/3.6.0/fulcro-3.6.0.jar!/com/fulcrologic/fulcro/raw/components.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/fulcro/3.6.0/fulcro-3.6.0.jar!/com/fulcrologic/fulcro/algorithms/do_not_use.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/fulcro/3.6.0/fulcro-3.6.0.jar!/com/fulcrologic/fulcro/algorithms/denormalize.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.analyzer/1.1.0/tools.analyzer-1.1.0.jar!/clojure/tools/analyzer.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/env.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/com/taoensso/timbre/5.1.2/timbre-5.1.2.jar!/taoensso/timbre/appenders/core.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/vendor/clojure/tools/reader/impl/inspect.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/guardrails/1.1.11/guardrails-1.1.11.jar!/com/fulcrologic/guardrails/utils.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/core.async/1.5.648/core.async-1.5.648.jar!/clojure/core/async/impl/concurrent.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/pprint.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/analyzer/passes.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/analyzer/impl/namespaces.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.analyzer/1.1.0/tools.analyzer-1.1.0.jar!/clojure/tools/analyzer/ast.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/impl/inspect.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/reader_types.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/edn-query-language/eql/2021.02.28/eql-2021.02.28.jar!/edn_query_language/core.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/vendor/clojure/tools/reader/reader_types.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/fulcro/3.6.0/fulcro-3.6.0.jar!/com/fulcrologic/fulcro/algorithms/merge.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/guardrails/1.1.11/guardrails-1.1.11.jar!/com/fulcrologic/guardrails/registry.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/fulcro/3.6.0/fulcro-3.6.0.jar!/com/fulcrologic/fulcro/algorithms/lookup.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/core.async/1.5.648/core.async-1.5.648.jar!/clojure/core/async/impl/mutex.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/instant.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/vendor/clojure/tools/reader.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/reader.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/edn.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/fulcro/3.6.0/fulcro-3.6.0.jar!/com/fulcrologic/fulcro/dom/events.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/instant.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/guardrails/1.1.11/guardrails-1.1.11.jar!/com/fulcrologic/guardrails/config.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/main.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/externs.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/edn.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/default_data_readers.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/core.async/1.5.648/core.async-1.5.648.jar!/clojure/core/async/impl/timers.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/core.async/1.5.648/core.async-1.5.648.jar!/clojure/core/async/impl/dispatch.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/analyzer/passes/and_or.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/source_map.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/core.async/1.5.648/core.async-1.5.648.jar!/clojure/core/async/impl/ioc_macros.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/core.async/1.5.648/core.async-1.5.648.jar!/cljs/core/async/impl/ioc_macros.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/core.async/1.5.648/core.async-1.5.648.jar!/clojure/core/async/impl/channels.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/core.async/1.5.648/core.async-1.5.648.jar!/clojure/core/async/impl/exec/threadpool.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/core.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/com/taoensso/encore/3.12.1/encore-3.12.1.jar!/taoensso/encore.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/source_map/base64.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/pprint.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/stacktrace.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/expound/expound/0.9.0/expound-0.9.0.jar!/expound/ansi.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.analyzer/1.1.0/tools.analyzer-1.1.0.jar!/clojure/tools/analyzer/env.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/guardrails/1.1.11/guardrails-1.1.11.jar!/com/fulcrologic/guardrails/impl/parser.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/core.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/fulcro/3.6.0/fulcro-3.6.0.jar!/com/fulcrologic/fulcro/inspect/inspect_client.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/string.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/core.async/1.5.648/core.async-1.5.648.jar!/clojure/core/async/impl/protocols.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/walk.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/core.async/1.5.648/core.async-1.5.648.jar!/cljs/core/async.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/source_map/base64_vlq.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/core.async/1.5.648/core.async-1.5.648.jar!/clojure/core/async/impl/buffers.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.2/tools.analyzer.jvm-1.2.2.jar!/clojure/tools/analyzer/jvm/utils.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.analyzer/1.1.0/tools.analyzer-1.1.0.jar!/clojure/tools/analyzer/utils.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/spec.alpha/0.3.218/spec.alpha-0.3.218.jar!/clojure/spec/alpha.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/expound/expound/0.9.0/expound-0.9.0.jar!/expound/alpha.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/cljs/tools/reader/reader_types.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/guardrails/1.1.11/guardrails-1.1.11.jar!/com/fulcrologic/guardrails/impl/pro.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/vendor/clojure/data/json.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/vendor/clojure/tools/reader/default_data_readers.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/guardrails/1.1.11/guardrails-1.1.11.jar!/com/fulcrologic/guardrails/impl/externs.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/js_deps.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/util.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/vendor/clojure/tools/reader/impl/errors.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.2/tools.analyzer.jvm-1.2.2.jar!/clojure/tools/analyzer/jvm.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/reflect.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/spec.alpha/0.3.218/spec.alpha-0.3.218.jar!/clojure/spec/gen/alpha.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/fulcro/3.6.0/fulcro-3.6.0.jar!/com/fulcrologic/fulcro/mutations.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/expound/expound/0.9.0/expound-0.9.0.jar!/expound/paths.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/impl/errors.clj",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/io/aviso/pretty/0.1.37/pretty-0.1.37.jar!/io/aviso/columns.clj",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/expound/expound/0.9.0/expound-0.9.0.jar!/expound/printer.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/guardrails/1.1.11/guardrails-1.1.11.jar!/com/fulcrologic/guardrails/core.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/expound/expound/0.9.0/expound-0.9.0.jar!/expound/util.cljc",1770096155000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/tagged_literals.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/com/fulcrologic/fulcro/3.6.0/fulcro-3.6.0.jar!/com/fulcrologic/fulcro/algorithms/normalize.cljc",1770096156000,"jar:file:/C:/Users/weiss/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/analyzer.cljc",1770097039000,"jar:file:/C:/Users/weiss/.m2/repository/com/taoensso/truss/1.6.0/truss-1.6.0.jar!/taoensso/truss/impl.clj",1770096155000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","A pluggable transaction processing system that attempts to batch reads. Requires that the server be modified\n   to support sequences of transactions.","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",1,"^9",5,"^:",1,"^;",71],"^<",["^ ","^=","^>","^?","^@","^A","^B","^C","^D"],"^E",["^ ","^F","^G","^H","^G","^I","^J","~$?","^J"],"^K",["^L",[]],"^M","^N","^O",["^ "],"^R",null,"^S",["^ ","^T","^U","^V","^W","^X","^X","^A","^B","^J","^J","^Y","^Z","^[","^X","^10","^10","^11","^12","^G","^G","^13","^13","^14","^14","^15","^G","^W","^W","^16","^16","~$m","^17","^18","^18","^19","^1:","^1;","^1<","^17","^17","~$s","^B","^U","^U","^1:","^1:","^Z","^Z","^12","^12","^1=","^1>","^1<","^1<","^B","^B","^1?","^16","^1>","^1>"],"^1@",["^L",["^1A"]],"~:shadow/js-access-global",["^L",["Error"]],"^1B",["^ ","^1C","^18","^F","^G","^H","^G","^I","^J","^1D","^J","~$?","^J","~$|","^J"],"~:defs",["^ ","~$net-send!",["^ ","~:protocol-inline",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",239,"^9",7,"^:",239,"^;",16,"~:arglists",["^1G",["~$quote",["^1G",[["~$app","~$send-node","~$remote-name"]]]]],"^6","Process the send against the user-defined remote. Catches exceptions and calls error handler with status code 500\n  if the remote itself throws exceptions."],"^M","^2O","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",16,"~:method-params",["^1G",[["^;R","^;S","^;T"]]],"~:protocol-impl",null,"~:arglists-meta",["^1G",[null,null]],"^9",1,"~:root-source-info",["^ ","~:source-type","~:fragment","~:source-form",["^1G",["~$defn","^;N","Process the send against the user-defined remote. Catches exceptions and calls error handler with status code 500\n  if the remote itself throws exceptions.",["^;R","^;S","^;T"],["~:com.fulcrologic.fulcro.application/app","~:com.fulcrologic.fulcro.algorithms.tx-processing/send-node","~:com.fulcrologic.fulcro.application/remote-name","^1D","~$any?"],["^1G",["~$enc/if-let",["~$remote",["^1G",["~$get",["^1G",["~$app->remotes","^;R"]],"^;T"]],"~$transmit!",["^1G",["^<7","^<6","~:transmit!"]]],["^1G",["~$try",["^1G",["~$inspect/ido",["^1G",["~$if-let",["~$batch",["^1G",["~:com.fulcrologic.fulcro.algorithms.tx-processing/batch","^;S"]]],["^1G",["~$doseq",["~$element-node","^<>"],["^1G",["~$inspect/ilet",["~$tx",["^1G",["~$futil/ast->query",["^1G",["~:com.fulcrologic.fulcro.algorithms.tx-processing/ast","^<A"]]]]],["^1G",["~$inspect/send-started!","^;R","^;T",["^1G",["~:com.fulcrologic.fulcro.algorithms.tx-processing/id","^<A"]],"^<C"]]]]]],["^1G",["^<B",["^<C",["^1G",["^<D",["^1G",["^<E","^;S"]]]]],["^1G",["^<F","^;R","^;T",["^1G",["^<G","^;S"]],"^<C"]]]]]]]],["^1G",["^<9","^<6","^;S"]],["^1G",["~$catch","~:default","~$e",["^1G",["~$log/error","~$e","Send threw an exception for tx:",["^1G",["^<D",["^1G",["^<E","^;S"]]]],"See https://book.fulcrologic.com/#err-txp-send-exc"]],["^1G",["^<;",["^1G",["^<<",["^1G",["^<=",["^<>",["^1G",["^<?","^;S"]]],["^1G",["^<@",["^<A","^<>"],["^1G",["~$inspect/send-failed!","^;R",["^1G",["^<G","^<A"]],"Transmit Exception"]]]],["^1G",["^<K","^;R",["^1G",["^<G","^;S"]],"Transmit Exception"]]]]]],["^1G",[["^1G",["~:com.fulcrologic.fulcro.algorithms.tx-processing/result-handler","^;S"]],["^ ","~:status-code",500,"~:client-exception","~$e"]]],["^1G",["^<H","^<I","~$e",["^1G",["~$log/fatal","~$e","Error handler failed to handle exception!"]]]]]]]]]],["^1G",["~$do",["^1G",["^<J","Transmit was not defined on remote","^;T","See https://book.fulcrologic.com/#err-txp-remote-lacks-transmit"]],["^1G",[["^1G",["^<L","^;S"]],["^ ","^<M",500,"~:message","Transmit missing on remote."]]]]]]]]]],"~:variadic?",false,"^8",239,"~:ret-tag",["^L",[null,"~$any"]],"^:",239,"~:max-fixed-arity",3,"~:fn-var",true,"^;P",["^1G",["^;Q",["^1G",[["^;R","^;S","^;T"]]]]],"^6","Process the send against the user-defined remote. Catches exceptions and calls error handler with status code 500\n  if the remote itself throws exceptions."],"~$distribute-element-results!",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",678,"^9",7,"^:",678,"^;",34,"^;P",["^1G",["^;Q",["^1G",[["^;R","~$tx-node",["^ ","~:keys",["~:com.fulcrologic.fulcro.algorithms.tx-processing/results","~:com.fulcrologic.fulcro.algorithms.tx-processing/complete?"],"^1I","~$tx-element"]]]]]],"^6","Distribute results and mark the remotes for those elements as complete."],"^M","^4F","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",34,"^;U",["^1G",[["^;R","^<X","~$p__49574"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^<W","Distribute results and mark the remotes for those elements as complete.",["^;R","^<X",["^ ","^<Y",["^<Z","^<["],"^1I","^=0"]],["^<1","~:com.fulcrologic.fulcro.algorithms.tx-processing/tx-node","~:com.fulcrologic.fulcro.algorithms.tx-processing/tx-element","^1D","~:com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-element"],["^1G",["~$reduce",["^1G",["~$fn",["~$new-element","^<6"],["^1G",["~$if",["^1G",["~$complete?","^<6"]],"^=7",["^1G",["~$dispatch-result!","^;R","^<X","^=7","^<6"]]]]]],"^=0",["^1G",["~$keys","~$results"]]]]]]],"^<R",false,"^8",678,"^<S",["^L",[null,"^<T"]],"^:",678,"^<U",3,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R","^<X",["^ ","^<Y",["^<Z","^<["],"^1I","^=0"]]]]]],"^6","Distribute results and mark the remotes for those elements as complete."],"~$update-progress!",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",700,"^9",7,"^:",700,"^;",23,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^<Y",["~:com.fulcrologic.fulcro.algorithms.tx-processing/elements"],"^1I","^<X"]]]]]],"^6","Report all progress items to any registered progress dispatch and clear them from the tx-node.\n  Returns the updated tx-node."],"^M","^4I","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",23,"^;U",["^1G",[["^;R","~$p__49580"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^==","Report all progress items to any registered progress dispatch and clear them from the tx-node.\n  Returns the updated tx-node.",["^;R",["^ ","^<Y",["^=>"],"^1I","^<X"]],["^<1","^=2","^1D","~:com.fulcrologic.fulcro.algorithms.tx-processing.batched-processing/tx-node"],["^1G",["~$let",["~$get-env",["^1G",["^=6","~$get-env*",["^<6","~$progress"],["^1G",["~$build-env","^;R","^<X",["^ ","~:remote","^<6","~:progress","^=D"]]]]]],["^1G",["^=5",["^1G",["^=6",["~$node",["^ ","~:com.fulcrologic.fulcro.algorithms.tx-processing/keys",["~$idx","^=D","~$dispatch","~$original-ast-node"],"^1I","~$element"]],["^1G",["^<@",[["^<6","~$value"],"^=D"],["^1G",["^=A",["~$env",["^1G",["^=B","^<6","^=N"]],"~$action",["^1G",["^<7","^=K","~:progress-action"]]],["^1G",["~$when","^=P",["^1G",["^<;",["^1G",["^=P","^=O"]],["^1G",["^<H","^<I","~$e",["^1G",["^<J","~$e","Progress action threw an exception in mutation",["^1G",["~:dispatch-key","^=L"]],"See https://book.fulcrologic.com/#err-txp-progress-action-exc"]]]]]]]]]]]],["^1G",["~$update-in","^=H",["^=>","^=J"],"~$dissoc","~:com.fulcrologic.fulcro.algorithms.tx-processing/progress"]]]],"^<X","~$elements"]]]]]]],"^<R",false,"^8",700,"^<S",["^L",[null,"^<T"]],"^:",700,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^<Y",["^=>"],"^1I","^<X"]]]]]],"^6","Report all progress items to any registered progress dispatch and clear them from the tx-node.\n  Returns the updated tx-node."],"~$remotes-active-on-node",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",753,"^9",7,"^:",753,"^;",29,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^=I",["^=W"],"^1I","^<X"],"~$remotes"]]]]],"^6","Given a tx node and the set of legal remotes: returns a set of remotes that are active on that node."],"^M","^2W","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",29,"^;U",["^1G",[["~$p__49616","^=Y"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^=X","Given a tx node and the set of legal remotes: returns a set of remotes that are active on that node.",[["^ ","^=I",["^=W"],"^1I","^<X"],"^=Y"],["^=2","~:com.fulcrologic.fulcro.application/remote-names","^1D","^=["],["^1G",["^=A",["~$active-on-element",["^1G",["^=6",[["^ ","^=I",["^=K","^=9"]]],["^1G",["^=A",["^=Y",["^1G",["^V","^=Y"]]],["^1G",["~$->","^=Y",["^1G",["~$set/intersection",["^1G",["^V",["^1G",["^=;","^=K"]]]]]],["^1G",["~$set/difference","^=9"]]]]]]]]],["^1G",["^=5",["^1G",["^=6",["~$acc","~$ele"],["^1G",["~$set/union","^>4",["^1G",["^>0","^>5"]]]]]],["^L",[]],"^=W"]]]]]]],"^<R",false,"^8",753,"^<S",["^L",[null,"^<T"]],"^:",753,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^=I",["^=W"],"^1I","^<X"],"^=Y"]]]]],"^6","Given a tx node and the set of legal remotes: returns a set of remotes that are active on that node."],"~$app->remote-names",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",40,"^9",7,"^:",40,"^;",24,"^;P",["^1G",["^;Q",["^1G",[["^;R"]]]]],"^6","Returns a set of the names of the remotes from an app"],"^M","^4M","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",24,"^;U",["^1G",[["^;R"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^>7","Returns a set of the names of the remotes from an app",["^;R"],["^<1","^1D","^=["],["^1G",["^>1","^;R","~:com.fulcrologic.fulcro.application/runtime-atom","~$deref","~:com.fulcrologic.fulcro.application/remotes","^=;","^V"]]]]],"^<R",false,"^8",40,"^<S",["^L",["~$clj","^<T","~$cljs.core/ISet","~$cljs.core/MetaFn","~$clj-nil"]],"^:",40,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R"]]]]],"^6","Returns a set of the names of the remotes from an app"],"~$*remove-send*",["^ ","^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",32,"^9",16,"^:",32,"^;",29,"~:dynamic",true],"^M","^2S","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",29,"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["~$def","^>?","~$remove-send!"]]],"^>@",true,"^8",32,"^:",32,"~:tag","^<T"],"~$queue-next-send!",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",626,"^9",7,"^:",626,"^;",23,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^<Y",["^=>"],"^1I","^<X"]]]]]],"^6","Assumes tx-node is to be processed pessimistically. Queues the next send if the node is currently idle\n  on the network and there are any sends left to do. Adds to the send queue, and returns the updated\n  tx-node."],"^M","^4K","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",23,"^;U",["^1G",[["^;R","~$p__49563"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^>D","Assumes tx-node is to be processed pessimistically. Queues the next send if the node is currently idle\n  on the network and there are any sends left to do. Adds to the send queue, and returns the updated\n  tx-node.",["^;R",["^ ","^<Y",["^=>"],"^1I","^<X"]],["^<1","^=2","^1D","^=@"],["^1G",["^=8",["^1G",["~$idle-node?","^<X"]],["^1G",["^=A",["^=Y",["^1G",["^>7","^;R"]],"~$with-work",["^1G",["~$partial","~$element-with-work","^=Y"]],"^=M",["^1G",["~$some","^>G","^=W"]]],["^1G",["^=8","^=M",["^1G",["~$queue-element-sends!","^;R","^<X","^=M"]],"^<X"]]]],"^<X"]]]]],"^<R",false,"^8",626,"^<S",["^L",[null,"^<T","^>>"]],"^:",626,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^<Y",["^=>"],"^1I","^<X"]]]]]],"^6","Assumes tx-node is to be processed pessimistically. Queues the next send if the node is currently idle\n  on the network and there are any sends left to do. Adds to the send queue, and returns the updated\n  tx-node."],"~$mutation-node?",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",145,"^9",7,"^:",145,"^;",21,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^=I",["~$ast"]]]]]]],"^6","Returns true if the given transaction node represents one or more mutations."],"^M","^4U","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",21,"^;U",["^1G",[["~$p__49228"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^>L","Returns true if the given transaction node represents one or more mutations.",[["^ ","^=I",["^>M"]]],["^1G",["~$and",["^1G",["~$map?","^>M"]],["^1G",["~$or",["^1G",["~$=","~:call",["^1G",["~:type","^>M"]]]],["^1G",["~$boolean",["^1G",["^>J",["^1G",["~$fn*",["~$p1__49226#"],["^1G",["~$=","^>R",["^1G",["^>S","^>V"]]]]]],["^1G",["~:children","^>M"]]]]]]]]]]]]],"^<R",false,"^8",145,"^<S","^>T","^:",145,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^=I",["^>M"]]]]]]],"^6","Returns true if the given transaction node represents one or more mutations."],"~$batchable?",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",154,"^9",8,"^:",154,"^;",18,"^;P",["^1G",["^;Q",["^1G",[["~$to-send","~$leader"]]]]],"^6","Returns true when ALL of the ::txn/send-node entries in `to-send` can be batched into an existing batch."],"^M","^30","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",18,"^;U",["^1G",[["^>Y","^>Z"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^I","^>X","Returns true when ALL of the ::txn/send-node entries in `to-send` can be batched into an existing batch.",["^>Y","^>Z"],[["^1G",["~$s/coll-of","^<2"]],["^1G",["~$?","^<2"]],"^1D","~$boolean?"],["^1G",["^=A",["~$abort-id",["^1G",["~$node-abort-id","^>Z"]]],["^1G",["^>T",["^1G",["^>O",["^1G",["~$seq","^>Y"]],["^1G",["~$every?",["^1G",["^=6",["~$n"],["^1G",["~$=","^?1",["^1G",["^?2","~$n"]]]]]],"^>Y"]],["^1G",["~$not",["^1G",["^>J","^>L","^>Y"]]]]]]]]]]]]],"^<R",false,"^8",154,"^<S","^>T","^:",154,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^>Y","^>Z"]]]]],"^6","Returns true when ALL of the ::txn/send-node entries in `to-send` can be batched into an existing batch."],"~$abort-remote!",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",945,"^9",7,"^:",945,"^;",20,"^;P",["^1G",["^;Q",["^1G",[["~$app-ish","^<6"]]]]],"^6","Cause everything in the active network queue for remote to be cancelled. Any result that (finally) appears for aborted\n  items will be ignored. This will cause a hard error to be \"received\" as the result for everything\n  that is in the send queue of the given remote.\n\n  This function is mainly meant for use in development mode when dealing with a buggy remote implementation."],"^M","^4P","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",20,"^;U",["^1G",[["^?7","^<6"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^?6","Cause everything in the active network queue for remote to be cancelled. Any result that (finally) appears for aborted\n  items will be ignored. This will cause a hard error to be \"received\" as the result for everything\n  that is in the send queue of the given remote.\n\n  This function is mainly meant for use in development mode when dealing with a buggy remote implementation.",["^?7","^<6"],["^1G",["^=A",["^;R",["^1G",["~$rc/any->app","^?7"]],["^ ","~:com.fulcrologic.fulcro.application/keys",["~$state-atom","~$runtime-atom"]],["^1G",["^?8","^;R"]],["^ ","~$abort-network!","~:abort!","^1I","~$the-remote"],["^1G",["^<7",["^1G",["~$clojure.core/deref","^?;"]],["^>:","^<6"]]],"~$old-send-queue",["^1G",["~$get-in",["^1G",["^??","^?;"]],["~:com.fulcrologic.fulcro.algorithms.tx-processing/send-queues","^<6"]]]],["^1G",["~$swap!","^?;","~$assoc-in",["^?B","^<6"],[]]],["^1G",["^?C","^?:","~$update","~:com.fulcrologic.fulcro.application/active-remotes",["^1G",["~$fnil","~$disj",["^L",[]]]],"^<6"]],["^1G",["^<@",[["^ ","^=I",["~$active?","~$result-handler"],"^1I","^;S"],"^?@","~$aid",["^1G",["^?2","^;S"]]],["^1G",["^<;",["^1G",["^=R","^?I",["^1G",["^=8","^?<",["^1G",["^?<","^?>","^?K"]],["^1G",["~$log/warn","Remote does not support abort. Clearing the queue, but a spurious result may still appear. See https://book.fulcrologic.com/#warn-tx-remote-abort-not-supported"]]]]]],["^1G",["^?J",["^ ","^<M",500,"~:body",["^ "],"~:status-text","Globally Aborted","~:com.fulcrologic.fulcro.algorithms.tx-processing/aborted?",true]]],["^1G",["^<H","^<I","~$e",["^1G",["^<J","~$e","Failed to abort send node. See https://book.fulcrologic.com/#err-txp-abort-failed"]]]]]]]]]]]]],"^<R",false,"^8",945,"^<S","^>>","^:",945,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^?7","^<6"]]]]],"^6","Cause everything in the active network queue for remote to be cancelled. Any result that (finally) appears for aborted\n  items will be ignored. This will cause a hard error to be \"received\" as the result for everything\n  that is in the send queue of the given remote.\n\n  This function is mainly meant for use in development mode when dealing with a buggy remote implementation."],"~$active-remotes",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",769,"^9",7,"^:",769,"^;",21,"^;P",["^1G",["^;Q",["^1G",[["~$queue","^=Y"]]]]],"^6","Calculate which remotes still have network activity to do on the given active queue."],"^M","^4V","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",21,"^;U",["^1G",[["^?Q","^=Y"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^?P","Calculate which remotes still have network activity to do on the given active queue.",["^?Q","^=Y"],["~:com.fulcrologic.fulcro.algorithms.tx-processing/active-queue","^=[","^1D","^?F"],["^1G",["^=5",["^1G",["^=6",["~$ra","~$n"],["^1G",["^>6","^?S",["^1G",["^=X","~$n","^=Y"]]]]]],["^L",[]],"^?Q"]]]]],"^<R",false,"^8",769,"^<S",["^L",[null,"^<T"]],"^:",769,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^?Q","^=Y"]]]]],"^6","Calculate which remotes still have network activity to do on the given active queue."],"~$queue-sends!",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",641,"^9",7,"^:",641,"^;",19,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^<Y",["~:com.fulcrologic.fulcro.algorithms.tx-processing/options","^=>"],"^1I","^<X"]]]]]],"^6","Finds any item(s) on the given node that are ready to be placed on the network queues and adds them. Non-optimistic\n  multi-element nodes will only queue one remote operation at a time."],"^M","^4Y","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",19,"^;U",["^1G",[["^;R","~$p__49566"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^?T","Finds any item(s) on the given node that are ready to be placed on the network queues and adds them. Non-optimistic\n  multi-element nodes will only queue one remote operation at a time.",["^;R",["^ ","^<Y",["^?U","^=>"],"^1I","^<X"]],["^<1","^=2","^1D","^=@"],["^1G",["^=A",["~$optimistic?",["^1G",["^>T",["^1G",["~:optimistic?","~$options"]]]]],["^1G",["~$schedule-sends!","^;R",0]],["^1G",["^=8","^?W",["^1G",["^=5",["^1G",["^=6",["^=H","^=M"],["^1G",["^>K","^;R","^=H","^=M"]]]],"^<X","^=W"]],["^1G",["^>D","^;R","^<X"]]]]]]]]],"^<R",false,"^8",641,"^<S",["^L",[null,"^<T","^>>"]],"^:",641,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^<Y",["^?U","^=>"],"^1I","^<X"]]]]]],"^6","Finds any item(s) on the given node that are ready to be placed on the network queues and adds them. Non-optimistic\n  multi-element nodes will only queue one remote operation at a time."],"~$process-queue!",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",780,"^9",7,"^:",780,"^;",21,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^?9",["^?:","^?;"],"^1I","^;R"]]]]]],"^6","Run through the active queue and do a processing step."],"^M","^51","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",21,"^;U",["^1G",[["~$p__49622"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^?[","Run through the active queue and do a processing step.",[["^ ","^?9",["^?:","^?;"],"^1I","^;R"]],["^<1","^1D","^<4"],["^1G",["^=A",["~$new-queue",["^1G",["^=5",["^1G",["^=6","~$*pstep",["^@1","~$n"],["^1G",["^<=",["~$new-node",["^1G",["~$process-tx-node!","^;R","~$n"]]],["^1G",["~$conj","^@1","^@3"]],"^@1"]]]],[],["^1G",["^?R",["^1G",["^??","^?;"]]]]]],"~$accumulate",["^1G",["^=6",["~$r","~$items"],["^1G",["~$into",["^1G",["^V","~$r"]],"^@7"]]]],"^=Y",["^1G",["^>7","^;R"]],"~$schedule-render!",["^1G",["~$ah/app-algorithm","^;R","~:schedule-render!"]],"~$explicit-refresh",["^1G",["~$requested-refreshes","^;R","^@1"]],"~$remotes-active?",["^1G",["^?P","^@1","^=Y"]]],["^1G",["^?C","^?:","~$assoc","^?F","^@>"]],["^1G",["^?C","^?;","^@?","^?R","^@1"]],["^1G",["^=R",["^1G",["^?3","^@<"]],["^1G",["^?C","^?;","^?E","~:com.fulcrologic.fulcro.application/to-refresh","^@6","^@<"]]]],["^1G",["^@9","^;R"]],null]]]]],"^<R",false,"^8",780,"^<S","^>>","^:",780,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^?9",["^?:","^?;"],"^1I","^;R"]]]]]],"^6","Run through the active queue and do a processing step."],"~$dispatch-elements",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",343,"^9",7,"^:",343,"^;",24,"^;P",["^1G",["^;Q",["^1G",[["^<X","^=O","~$dispatch-fn"]]]]],"^6","Run through the elements on the given tx-node and do the side-effect-free dispatch. This generates the dispatch map\n  of things to do on that node."],"^M","^50","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",24,"^;U",["^1G",[["^<X","^=O","^@B"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^@A","Run through the elements on the given tx-node and do the side-effect-free dispatch. This generates the dispatch map\n  of things to do on that node.",["^<X","^=O","^@B"],["^=2","^>P","^<4","^1D","^=@"],["^1G",["^=A",["~$do-dispatch",["^1G",["^=6","~$run*",["^=O"],["^1G",["^<;",["^1G",["^@B","^=O"]],["^1G",["^<H","^<I","~$e",["^1G",["^<J","~$e","Dispatch for mutation",["^1G",["~$some->","^=O","~:ast","^<D"]],"failed with an exception. No dispatch generated. See https://book.fulcrologic.com/#err-txp-mut-dispatch-exc"]],["^ "]]]]]]],"^=K",["^1G",["^=6","~$dispatch*",[["^ ","^<Y",["~:com.fulcrologic.fulcro.algorithms.tx-processing/original-ast-node"],"^1I","^>5"]],["^1G",["^=A",[["^ ","^<Y",["~$type"]],"^=L","^=O",["^1G",["^@?","^=O","^@F","^=L"]]],["^1G",["~$cond->","^>5",["^1G",["~$=","^>R","^@I"]],["^1G",["^@?","~:com.fulcrologic.fulcro.algorithms.tx-processing/dispatch",["^1G",["^@C","^=O"]]]]]]]]]],"~$dispatch-all",["^1G",["^=6",["~$eles"],["^1G",["~$mapv","^=K","^@M"]]]]],["^1G",["^?E","^<X","^=>","^@L"]]]]]]],"^<R",false,"^8",343,"^<S",["^L",["^>;","^<T"]],"^:",343,"^<U",3,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^<X","^=O","^@B"]]]]],"^6","Run through the elements on the given tx-node and do the side-effect-free dispatch. This generates the dispatch map\n  of things to do on that node."],"~$abort-elements!",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",901,"^9",8,"^:",901,"^;",23,"~:private",true,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^<Y",["~$abort!"],"^1I","^<6"],"~$send-queue","^?1"]]]]],"^6","Abort any elements in the given send-queue that have the given abort id.\n\n  Aborting will cause the network to abort (which will report a result), or if the item is not yet active a\n  virtual result will still be sent for that node.\n\n  Returns a new send-queue that no longer contains the aborted nodes."],"^@P",true,"^M","^35","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",23,"^;U",["^1G",[["~$p__49649","^@R","^?1"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["~$defn-","^@O","Abort any elements in the given send-queue that have the given abort id.\n\n  Aborting will cause the network to abort (which will report a result), or if the item is not yet active a\n  virtual result will still be sent for that node.\n\n  Returns a new send-queue that no longer contains the aborted nodes.",[["^ ","^<Y",["^@Q"],"^1I","^<6"],"^@R","^?1"],["^1G",["^=8","^@Q",["^1G",["^=5",["^1G",["^=6",["~$result",["^ ","^=I",["^?I","^?J"],"^1I","^;S"]],["^1G",["^=A",["^?K",["^1G",["^?2","^;S"]]],["^1G",["~$cond",["^1G",["~$not=","^?K","^?1"]],["^1G",["^<P",["^1G",["^@5","^@U","^;S"]]]],"^?I",["^1G",["^<P",["^1G",["^@Q","^<6","^?1"]],"^@U"]],"~:otherwise",["^1G",["^<P",["^1G",["^?J",["^ ","^?N","Cancelled","^?O",true]]],"^@U"]]]]]]]],[],"^@R"]],["^1G",["^<P",["^1G",["^<J","Cannot abort network requests. The remote has no abort support! See https://book.fulcrologic.com/#err-txp-cant-abort"]],"^@R"]]]]]]],"^<R",false,"^8",901,"^<S",["^L",[null,"^<T"]],"^:",901,"^<U",3,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^<Y",["^@Q"],"^1I","^<6"],"^@R","^?1"]]]]],"^6","Abort any elements in the given send-queue that have the given abort id.\n\n  Aborting will cause the network to abort (which will report a result), or if the item is not yet active a\n  virtual result will still be sent for that node.\n\n  Returns a new send-queue that no longer contains the aborted nodes."],"^>B",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",23,"^9",7,"^:",23,"^;",19,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^?9",["^?;"],"^1I","^;R"],"^<6","~$txn-id","~$ele-idx"]]]]],"^6","Removes the send node (if present) from the send queue on the given remote."],"^M","^33","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",19,"^;U",["^1G",[["~$p__49067","^<6","^@Y","^@Z"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^>B","Removes the send node (if present) from the send queue on the given remote.",[["^ ","^?9",["^?;"],"^1I","^;R"],"^<6","^@Y","^@Z"],["^1G",["^=A",[["^ ","^<Y",["^?B"]],["^1G",["^??","^?;"]],"~$old-queue",["^1G",["^<7","~$send-queues","^<6"]],"^?Q",["^1G",["~$filterv",["^1G",["^=6",[["^ ","^<Y",["^<G","~:com.fulcrologic.fulcro.algorithms.tx-processing/idx"]]],["^1G",["^?5",["^1G",["^>O",["^1G",["~$=","^@Y","~$id"]],["^1G",["~$=","^@Z","^=J"]]]]]]]],"^A0"]]],["^1G",["^?C","^?;","^?D",["^?B","^<6"],"^?Q"]]]]]]],"^<R",false,"^8",23,"^<S",["^L",[null,"^<T"]],"^:",23,"^<U",4,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^?9",["^?;"],"^1I","^;R"],"^<6","^@Y","^@Z"]]]]],"^6","Removes the send node (if present) from the send queue on the given remote."],"^>K",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",586,"^9",7,"^:",586,"^;",27,"^;P",["^1G",["^;Q",["^1G",[["^;R","^<X",["^ ","^<Y",["^A3","^@K","~:com.fulcrologic.fulcro.algorithms.tx-processing/started?"]]]]]]],"^6","Queue all (unqueued) remote actions for the given element.  Returns the (possibly updated) node."],"^M","^53","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",27,"^;U",["^1G",[["^;R","^<X","~$p__49551"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^>K","Queue all (unqueued) remote actions for the given element.  Returns the (possibly updated) node.",["^;R","^<X",["^ ","^<Y",["^A3","^@K","^A5"]]],["^<1","^=2","^=3","^1D","^=@"],["^1G",["^=A",["^=Y",["^1G",["^>2",["^1G",["^V",["^1G",["^=;","^=K"]]]],["^1G",["^>7","^;R"]]]],"~$to-dispatch",["^1G",["^>3","^=Y","~$started?"]]],["^1G",["^=5",["^1G",["^=6",["^=H","^<6"],["^1G",["^=8",["^1G",["~$contains?",["^1G",["^?A","^=H",["^=>","^=J","^A5"],["^L",[]]]],"^<6"]],"^=H",["^1G",["^=A",["~$updated-node",["^1G",["^>1","^=H",["^1G",["^=T",["^=>","^=J"],["^1G",["^=6",["^=0"],["^1G",["~$compute-desired-ast-node","^;R","^<6","^=H","^=0"]]]]]],["^1G",["^=T",["^=>","^=J","^A5"],"^@5","^<6"]]]]],["^1G",["~$add-send!","^;R","^A:","^=J","^<6"]],"^A:"]]]]]],"^<X","^A7"]]]]]]],"^<R",false,"^8",586,"^<S",["^L",[null,"^<T"]],"^:",586,"^<U",3,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R","^<X",["^ ","^<Y",["^A3","^@K","^A5"]]]]]]],"^6","Queue all (unqueued) remote actions for the given element.  Returns the (possibly updated) node."],"~$top-keys",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",98,"^9",7,"^:",98,"^;",15,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^<Y",["^@I","~$key","~$children"],"^1I","^>M"]]]]]]],"^M","^57","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",15,"^;U",["^1G",[["~$p__49129"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^A=",[["^ ","^<Y",["^@I","^A>","^A?"],"^1I","^>M"]],["^<E","^1D",["^1G",["^>[","~:edn-query-language.ast/key"]]],["^1G",["^=8",["^1G",["~$=","~:root","^@I"]],["^1G",["^@8",["^L",[]],["^1G",["~$map","~:key"]],"^A?"]],["^L",["^A>"]]]]]]],"^<R",false,"^8",98,"^<S",["^L",["^<T","^><"]],"^:",98,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^<Y",["^@I","^A>","^A?"],"^1I","^>M"]]]]]]],"~$schedule-activation!",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",386,"^9",7,"^:",386,"^;",27,"^;P",["^1G",["^;Q",["^1G",[["^;R","~$tm"],["^;R"]]]]],"^6","Schedule activation of submitted transactions.  The default implementation copies all submitted transactions onto\n   the active queue and immediately does an active queue processing step.  If `tm` is not supplied (in ms) it defaults to 10ms.","~:top-fn",["^ ","^<R",false,"~:fixed-arity",2,"^<U",2,"^;U",[["^;R","^AF"],["^;R"]],"^;P",["^1G",[["^;R","^AF"],["^;R"]]],"^;W",["^1G",[null,null]]]],"^M","^3I","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",27,"^AG",["^ ","^<R",false,"^AH",2,"^<U",2,"^;U",[["^;R","^AF"],["^;R"]],"^;P",["^1G",[["^;R","^AF"],["^;R"]]],"^;W",["^1G",[null,null]]],"^;U",[["^;R","^AF"],["^;R"]],"^;V",null,"^AH",2,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^AE","Schedule activation of submitted transactions.  The default implementation copies all submitted transactions onto\n   the active queue and immediately does an active queue processing step.  If `tm` is not supplied (in ms) it defaults to 10ms.",["^1G",[["^;R","^AF"],["^<1","~$int?","^1D","^<4"],["^1G",["^1C","^;R","~:com.fulcrologic.fulcro.algorithms.tx-processing/activation-scheduled?","~$activate-submissions!","^AF"]]]],["^1G",[["^;R"],["^<1","^1D","^<4"],["^1G",["^AE","^;R",0]]]]]]],"^<R",false,"~:methods",[["^ ","^AH",2,"^<R",false,"^>C",["^L",["~$js","^>>"]]],["^ ","^AH",1,"^<R",false,"^>C",["^L",["^AM","^>>"]]]],"^8",386,"^:",386,"^<U",2,"^<V",true,"^;P",["^1G",[["^;R","^AF"],["^;R"]]],"^6","Schedule activation of submitted transactions.  The default implementation copies all submitted transactions onto\n   the active queue and immediately does an active queue processing step.  If `tm` is not supplied (in ms) it defaults to 10ms."],"~$record-result!",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",500,"^9",7,"^:",500,"^;",21,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^?9",["^?;"],"^1I","^;R"],"^@Y","^@Z","^<6","^@U","~$result-key"],["^;R","^@Y","^@Z","^<6","^@U"]]]]],"^6","Record a network result on the given txn/element.\n   If result-key is given it is used, otherwise defaults to ::txn/results. Also removes the network send from the send\n   queue so that remaining items can proceed, and schedules send processing.","^AG",["^ ","^<R",false,"^AH",6,"^<U",6,"^;U",[[["^ ","^?9",["^?;"],"^1I","^;R"],"^@Y","^@Z","^<6","^@U","^AO"],["^;R","^@Y","^@Z","^<6","^@U"]],"^;P",["^1G",[[["^ ","^?9",["^?;"],"^1I","^;R"],"^@Y","^@Z","^<6","^@U","^AO"],["^;R","^@Y","^@Z","^<6","^@U"]]],"^;W",["^1G",[null,null]]]],"^M","^3M","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",21,"^AG",["^ ","^<R",false,"^AH",6,"^<U",6,"^;U",[[["^ ","^?9",["^?;"],"^1I","^;R"],"^@Y","^@Z","^<6","^@U","^AO"],["^;R","^@Y","^@Z","^<6","^@U"]],"^;P",["^1G",[[["^ ","^?9",["^?;"],"^1I","^;R"],"^@Y","^@Z","^<6","^@U","^AO"],["^;R","^@Y","^@Z","^<6","^@U"]]],"^;W",["^1G",[null,null]]],"^;U",[[["^ ","^?9",["^?;"],"^1I","^;R"],"^@Y","^@Z","^<6","^@U","^AO"],["^;R","^@Y","^@Z","^<6","^@U"]],"^;V",null,"^AH",6,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^AN","Record a network result on the given txn/element.\n   If result-key is given it is used, otherwise defaults to ::txn/results. Also removes the network send from the send\n   queue so that remaining items can proceed, and schedules send processing.",["^1G",[[["^ ","^?9",["^?;"],"^1I","^;R"],"^@Y","^@Z","^<6","^@U","^AO"],["^<1","^<G","^AI","~$keyword?","^<4","^AP","^1D","^<4"],["^1G",["^=A",["~$active-queue",["^1G",["^?R",["^1G",["^??","^?;"]]]],"~$txn-idx",["^1G",["^=5",["^1G",["^=6",["^=J",["^ ","^<Y",["^<G"]]],["^1G",["^=8",["^1G",["~$=","^A4","^@Y"]],["^1G",["~$reduced","^=J"]],["^1G",["~$inc","^=J"]]]]]],0,"^AQ"]],"~$not-found?",["^1G",["^>Q",["^1G",["~$>=","^AR",["^1G",["~$count","^AQ"]]]],["^1G",["^@W","^@Y",["^1G",["^<G",["^1G",["^<7","^AQ","^AR"]]]]]]]]],["^1G",["^=8","^AU",["^1G",["^<J","Network result for","^<6","does not have a valid node on the active queue! See https://book.fulcrologic.com/#err-txp-res-lacks-valid-node"]],["^1G",["^?C","^?;","^?D",["^?R","^AR","^=>","^@Z","^AO","^<6"],"^@U"]]]]]]]],["^1G",[["^;R","^@Y","^@Z","^<6","^@U"],["^<1","^<G","^AI","^AP","^<4","^1D","^<4"],["^1G",["^AN","^;R","^@Y","^@Z","^<6","^@U","^<Z"]]]]]]],"^<R",false,"^AL",[["^ ","^AH",6,"^<R",false,"^>C",["^L",[null,"^<T","^>>"]]],["^ ","^AH",5,"^<R",false,"^>C",["^L",[null,"^<T","^>>"]]]],"^8",500,"^:",500,"^<U",6,"^<V",true,"^;P",["^1G",[[["^ ","^?9",["^?;"],"^1I","^;R"],"^@Y","^@Z","^<6","^@U","^AO"],["^;R","^@Y","^@Z","^<6","^@U"]]],"^6","Record a network result on the given txn/element.\n   If result-key is given it is used, otherwise defaults to ::txn/results. Also removes the network send from the send\n   queue so that remaining items can proceed, and schedules send processing."],"^@4",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",720,"^9",7,"^:",720,"^;",23,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^<Y",["^?U"],"^1I","^<X"]]]]]]],"^M","^22","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",23,"^;U",["^1G",[["^;R","~$p__49609"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^@4",["^;R",["^ ","^<Y",["^?U"],"^1I","^<X"]],["^<1","^=2","^1D",["^1G",["~$s/nilable","^=@"]]],["^1G",["^=A",["^?W",["^1G",["^>T",["^1G",["^?X","^?Y"]]]]],["^1G",["^=8",["^1G",["~$fully-complete?","^;R","^<X"]],null,["^1G",["^>1","^<X",["^1G",["~$cond->>","^?W",["^1G",["~$run-actions!","^;R"]],["^1G",["^?5","^?W"]],["^1G",["~$advance-actions!","^;R"]]]],["^1G",["~$->>",["^1G",["^?T","^;R"]],["^1G",["^==","^;R"]],["^1G",["~$distribute-results!","^;R"]]]]]]]]]]]]],"^<R",false,"^8",720,"^<S",["^L",["^>;","^<T","^>>"]],"^:",720,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^<Y",["^?U"],"^1I","^<X"]]]]]]],"^?2",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",140,"^9",8,"^:",140,"^;",21,"^@P",true,"^;P",["^1G",["^;Q",["^1G",[["~$n"]]]]]],"^@P",true,"^M","^3T","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",21,"^;U",["^1G",[["~$n"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^@T","^?2",["~$n"],["^1G",["^>Q",["^1G",["^@E","~$n","^?U","~:abort-id"]],["^1G",["^@E","~$n","^?U","~:com.fulcrologic.fulcro.algorithms.tx-processing/abort-id"]]]]]]],"^<R",false,"^8",140,"^<S",["^L",["^<T","^>>"]],"^:",140,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["~$n"]]]]]],"^A<",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",551,"^9",7,"^:",551,"^;",16,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^?9",["^?;"],"^1I","^;R"],["^ ","^=I",["^A4","^?Y","~$parallel?"],"^1I","^<X"],"^@Z","^<6"]]]]],"^6","Generate a new send node and add it to the appropriate send queue. Returns the new send node."],"^M","^26","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",16,"^;U",["^1G",[["~$p__49542","~$p__49543","^@Z","^<6"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^A<","Generate a new send node and add it to the appropriate send queue. Returns the new send node.",[["^ ","^?9",["^?;"],"^1I","^;R"],["^ ","^=I",["^A4","^?Y","^B6"],"^1I","^<X"],"^@Z","^<6"],["^<1","^=2","^A3","^<3","^1D",["^1G",["^AY","^<2"]]],["^1G",["^=A",["~$update-handler",["^1G",["^=6","~$progress-handler*",["^@U"],["^1G",["^AN","^;R","^A4","^@Z","^<6","^@U","^=V"]],["^1G",["~$schedule-queue-processing!","^;R",0]]]],"^>M",["^1G",["^?A","^<X",["^=>","^@Z","~:com.fulcrologic.fulcro.algorithms.tx-processing/transmitted-ast-nodes","^<6"]]],"~$remove!","^>?","~$handler",["^1G",["^=6","~$result-handler*",["^@U"],["^1G",["^=R",["^1G",["~:parallel?","^?Y"]],["^1G",["^<B",[["^ ","^<Y",["~$status-code","~$body"]],"^@U"],["^1G",["^=8",["^1G",["~$=",200,"^BA"]],["^1G",["~$inspect/send-finished!","^;R","^<6","^A4","^BB"]],["^1G",["^<K","^;R","^A4",["^1G",["~$str","^BA"]]]]]]]]]],["^1G",["^AN","^;R","^A4","^@Z","^<6","^@U"]],["^1G",["^B=","^;R","^<6","^A4","^@Z"]],["^1G",["^?Z","^;R",1]],["^1G",["^B;","^;R",0]]]],"^;S",["^ ","^<G","^A4","^A3","^@Z","^<E","^>M","^?U","^?Y","~:com.fulcrologic.fulcro.algorithms.tx-processing/active?",false,"^<L","^B>","~:com.fulcrologic.fulcro.algorithms.tx-processing/update-handler","^B9"]],["^1G",["^=8","^>M",["^1G",["^<P",["^1G",["^?C","^?;","^=T",["^?B","^<6"],["^1G",["^?G","^@5",[]]],"^;S"]],"^;S"]],["^1G",["^<P",["^1G",["^B>",["^ ","^<M",200,"^?M",["^ "]]]],null]]]]]]]]],"^<R",false,"^8",551,"^<S",["^L",["~$cljs.core/IMap","^>>"]],"^:",551,"^<U",4,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^?9",["^?;"],"^1I","^;R"],["^ ","^=I",["^A4","^?Y","^B6"],"^1I","^<X"],"^@Z","^<6"]]]]],"^6","Generate a new send node and add it to the appropriate send queue. Returns the new send node."],"~$every-ast?",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",57,"^9",7,"^:",57,"^;",17,"^;P",["^1G",["^;Q",["^1G",[["~$ast-node-or-tree","~$test"]]]]],"^6","Check if the given `test` predicate is true for an AST node or for all the immediate children of an AST tree."],"^M","^3Y","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",17,"^;U",["^1G",[["^BI","^BJ"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^BH","Check if the given `test` predicate is true for an AST node or for all the immediate children of an AST tree.",["^BI","^BJ"],["^<E","~$fn?","^1D","^?0"],["^1G",["^=8",["^1G",["~$=","^AB",["^1G",["^>S","^BI"]]]],["^1G",["^?4","^BJ",["^1G",["^>W","^BI"]]]],["^1G",["^BJ","^BI"]]]]]]],"^<R",false,"^8",57,"^<S",["^L",["^>T","^<T"]],"^:",57,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^BI","^BJ"]]]]],"^6","Check if the given `test` predicate is true for an AST node or for all the immediate children of an AST tree."],"~$query-ast?",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",71,"^9",7,"^:",71,"^;",17,"^;P",["^1G",["^;Q",["^1G",[["^BI"]]]]],"^6","Returns true if the given AST node or tree represents a mutation or sequence of mutations."],"^M","^29","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",17,"^;U",["^1G",[["^BI"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^BL","Returns true if the given AST node or tree represents a mutation or sequence of mutations.",["^BI"],["^<E","^1D","^?0"],["^1G",["^BH","^BI",["^1G",["^>U",["~$p1__49113#"],["^1G",["^@W","^>R",["^1G",["^>S","^BM"]]]]]]]]]]],"^<R",false,"^8",71,"^<S",["^L",["^>T","^<T"]],"^:",71,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^BI"]]]]],"^6","Returns true if the given AST node or tree represents a mutation or sequence of mutations."],"~$create-combined-node",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",105,"^9",7,"^:",105,"^;",27,"^;P",["^1G",["^;Q",["^1G",[["^;R","^;T",["^>Z","^1I","^>Y"]]]]]]],"^M","^25","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",27,"^;U",["^1G",[["^;R","^;T","~$p__49138"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^BN",["^;R","^;T",["^>Z","^1I","^>Y"]],["^1G",["^=A",["^<C",["^1G",["^=5",["^1G",["^=6",["^>4",["^ ","^<Y",["^<E"]]],["^1G",["^=A",["^<C",["^1G",["^<D","^>M"]]],["^1G",["^@8","^>4","^<C"]]]]]],[],"^>Y"]],"^>M",["^1G",["~$eql/query->ast","^<C"]],"^?Y",["^1G",["^?U","^>Z"]],"~$combined-node-id",["^1G",["~$tempid/uuid"]],"~$combined-node-idx",0,"^B=","^>?","~$combined-node",["^ ","^<G","^BQ","^A3","^BS","^<E","^>M","^?U","^?Y","^BF",["^1G",["^=6",["~$combined-result"],["^1G",["^<@",[["^ ","^=I",["^B9"]],"^>Y"],["^1G",["^=R","^B9",["^1G",["^B9","^BU"]]]]]]]],"^<L",["^1G",["^=6",[["^ ","^<Y",["^BB"],"^1I","^BU"]],["^1G",["^B=","^;R","^;T","^BQ","^BS"]],["^1G",["^<@",[["^ ","^=I",["^>M","^?J"]],"^>Y"],["^1G",["^=A",["~$new-body",["^1G",["^=8",["^1G",["^>P","^BB"]],["^1G",["~$select-keys","^BB",["^1G",["^A=","^>M"]]]],"^BB"]],"^@U",["^1G",["^@?","^BU","^?M","^BV"]]],["^1G",["^<B",[["^ ","^<Y",["^BA","^BB"]],"^@U"],["^1G",["^=8",["^1G",["~$=",200,"^BA"]],["^1G",["^BC","^;R","^;T","^BQ","^BB"]],["^1G",["^<K","^;R","^BQ",["^1G",["^BD","^BA"]]]]]]]],["^1G",["^?J","^@U"]]]]]]]],"^BE",true]],"^BT"]]]]],"^<R",false,"^8",105,"^<S","^BG","^:",105,"^<U",3,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R","^;T",["^>Z","^1I","^>Y"]]]]]]],"^B3",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",690,"^9",7,"^:",690,"^;",26,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^<Y",["^=>"],"^1I","^<X"]]]]]],"^6","Walk all elements of the tx-node and call result dispatch handlers for any results that have\n  not been distributed."],"^M","^43","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",26,"^;U",["^1G",[["^;R","~$p__49577"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^B3","Walk all elements of the tx-node and call result dispatch handlers for any results that have\n  not been distributed.",["^;R",["^ ","^<Y",["^=>"],"^1I","^<X"]],["^<1","^=2","^1D","^=@"],["^1G",["^@?","^<X","^=>",["^1G",["^@N",["^1G",["^=6",["^=M"],["^1G",["^<W","^;R","^<X","^=M"]]]],"^=W"]]]]]]],"^<R",false,"^8",690,"^<S",["^L",["^>;","^<T"]],"^:",690,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^<Y",["^=>"],"^1I","^<X"]]]]]],"^6","Walk all elements of the tx-node and call result dispatch handlers for any results that have\n  not been distributed."],"^AZ",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",490,"^9",7,"^:",490,"^;",22,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^<Y",["^=>"],"^1I","^<X"]]]]]]],"^M","^42","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",22,"^;U",["^1G",[["^;R","~$p__49521"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^AZ",["^;R",["^ ","^<Y",["^=>"],"^1I","^<X"]],["^<1","^=2","^1D","^?0"],["^1G",["^=A",["~$element-complete?",["^1G",["^=6",[["^ ","^<Y",["^@K","^<["]]],["^1G",["^=A",["^=Y",["^1G",["^>7","^;R"]],"~$active-keys",["^1G",["^>6",["^L",["~:action"]],"^=Y"]],"~$desired-set",["^1G",["^>2","^B[",["^1G",["^V",["^1G",["^=;","^=K"]]]]]]],["^1G",["~$empty?",["^1G",["^>3","^C1","^=9"]]]]]]]]],["^1G",["^?4","^BZ","^=W"]]]]]]],"^<R",false,"^8",490,"^<S","^>T","^:",490,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^<Y",["^=>"],"^1I","^<X"]]]]]]],"^B;",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",396,"^9",7,"^:",396,"^;",33,"^;P",["^1G",["^;Q",["^1G",[["^;R","^AF"],["^;R"]]]]],"^6","Schedule a processing of the active queue, which will advance the active transactions by a step.\n   If `tm` is not supplied (in ms) it defaults to 10ms.","^AG",["^ ","^<R",false,"^AH",2,"^<U",2,"^;U",[["^;R","^AF"],["^;R"]],"^;P",["^1G",[["^;R","^AF"],["^;R"]]],"^;W",["^1G",[null,null]]]],"^M","^46","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",33,"^AG",["^ ","^<R",false,"^AH",2,"^<U",2,"^;U",[["^;R","^AF"],["^;R"]],"^;P",["^1G",[["^;R","^AF"],["^;R"]]],"^;W",["^1G",[null,null]]],"^;U",[["^;R","^AF"],["^;R"]],"^;V",null,"^AH",2,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^B;","Schedule a processing of the active queue, which will advance the active transactions by a step.\n   If `tm` is not supplied (in ms) it defaults to 10ms.",["^1G",[["^;R","^AF"],["^<1","^AI","^1D","^<4"],["^1G",["^1C","^;R","~:com.fulcrologic.fulcro.algorithms.tx-processing/queue-processing-scheduled?","^?[","^AF"]]]],["^1G",[["^;R"],["^<1","^1D","^<4"],["^1G",["^B;","^;R",0]]]]]]],"^<R",false,"^AL",[["^ ","^AH",2,"^<R",false,"^>C",["^L",["^AM","^>>"]]],["^ ","^AH",1,"^<R",false,"^>C",["^L",["^AM","^>>"]]]],"^8",396,"^:",396,"^<U",2,"^<V",true,"^;P",["^1G",[["^;R","^AF"],["^;R"]]],"^6","Schedule a processing of the active queue, which will advance the active transactions by a step.\n   If `tm` is not supplied (in ms) it defaults to 10ms."],"^<8",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",34,"^9",7,"^:",34,"^;",19,"^;P",["^1G",["^;Q",["^1G",[["^;R"]]]]],"^6","Returns the remotes map from an app"],"^M","^49","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",19,"^;U",["^1G",[["^;R"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^<8","Returns the remotes map from an app",["^;R"],["^<1","^1D","^>:"],["^1G",["^>1","^;R","^>8","^>9","^>:"]]]]],"^<R",false,"^8",34,"^<S","^<T","^:",34,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R"]]]]],"^6","Returns the remotes map from an app"],"^B0",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",458,"^9",7,"^:",458,"^;",19,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^=I",["^A4","^=W"],"^1I","^=H"]]]]]]],"^M","^48","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",19,"^;U",["^1G",[["^;R","~$p__49512"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^B0",["^;R",["^ ","^=I",["^A4","^=W"],"^1I","^=H"]],["^<1","^=2","^1D","^=@"],["^1G",["^=A",["~$new-elements",["^1G",["^=5",["^1G",["^=6",["^C5","^=M"],["^1G",["^=A",[["^ ","^=I",["^=J","^=9","^=K","^=L"]],"^=M",["^ ","^<Y",["^=P"]],"^=K","~$exec?",["^1G",["^>O","^=P",["^1G",["^?5",["^1G",["^=9","^C0"]]]]]],"~$state-id-before",["^1G",["~$inspect/current-history-id","^;R"]],"~$state",["^1G",["~:com.fulcrologic.fulcro.application/state-atom","^;R"]],"~$state-before",["^1G",["^??","^C9"]],"^A:",["^1G",["^=8","^C6",["^1G",["^>1","^=M",["^1G",["^@?","~:com.fulcrologic.fulcro.algorithms.tx-processing/state-before-action","^C;"]],["^1G",["^?E","^<[","^@5","^C0"]]]],"^=M"]],"~$new-acc",["^1G",["^@5","^C5","^A:"]],"^=O",["^1G",["^=E","^;R","^=H",["^ ","^@F","^=L"]]]],["^1G",["^=R","^C6",["^1G",["^<;",["^1G",["^=P","^=O"]],["^1G",["^<H","^<I","~$e",["^1G",["^<J","~$e","The `action` section threw an exception for mutation: ",["^1G",["^=S","^=L"]],"See https://book.fulcrologic.com/#err-txp-mut-action-exc2"]]]]]],["^1G",["^H",["^<C",["^1G",["~$eql/ast->expr","^=L",true]]],["^1G",["~$inspect/optimistic-action-finished!","^;R","^=O",["^ ","~:tx-id",["^1G",["^BD","^A4","-","^=J"]],"~:state-id-before","^C7","~:db-before","^C;","~:db-after",["^1G",["^??","^C9"]],"~:tx","^<C"]]]]]]],"^C="]]]],[],"^=W"]]],["^1G",["^@?","^=H","^=>","^C5"]]]]]]],"^<R",false,"^8",458,"^<S",["^L",["^>;","^<T"]],"^:",458,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^=I",["^A4","^=W"],"^1I","^=H"]]]]]]],"~$process-send-queues!",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",272,"^9",7,"^:",272,"^;",27,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^?9",["^?;"],"^1I","^;R"]]]]]],"^6","Process the send queues against the remotes. Updates the send queues on the app and returns the updated send queues."],"^M","^4B","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",27,"^;U",["^1G",[["~$p__49432"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^CE","Process the send queues against the remotes. Updates the send queues on the app and returns the updated send queues.",[["^ ","^?9",["^?;"],"^1I","^;R"]],["^<1","^1D","^?B"],["^1G",["^=A",["^A1",["^1G",["^>1","^?;","^>9","^?B"]],"~$remote-names",["^1G",["^>7","^;R"]],"~$operations",["^1G",["~$atom",[]]],"~$new-send-queues",["^1G",["^=5",["^1G",["^=6",["^CJ","^<6"],["^1G",["^=A",["^@R",["^1G",["^<7","^A1","^<6",[]]],["~$p","~$serial"],["^1G",["~$extract-parallel","^@R"]],"~$front",["^1G",["~$first","^CK"]]],["^1G",["^<@",["~$item","~$p"],["^1G",["^?C","^CH","^@5",["^1G",["^>U",[],["^1G",["^;N","^;R","^CO","^<6"]]]]]]]],["^1G",["^=8",["^1G",["^BE","^CM"]],["^1G",["^@?","^CJ","^<6","^CK"]],["^1G",["^=A",[["^ ","^=I",["^@R","^;S"]],["^1G",["~$combine-sends","^;R","^<6","^CK"]]],["^1G",["^=R","^;S",["^1G",["^?C","^CH","^@5",["^1G",["^>U",[],["^1G",["^;N","^;R","^;S","^<6"]]]]]]]],["^1G",["^@?","^CJ","^<6","^@R"]]]]]]]]]],["^ "],"^CG"]]],["^1G",["^?C","^?;","^@?","^?B","^CJ"]],["^1G",["^<@",["~$op",["^1G",["^??","^CH"]]],["^1G",["^CQ"]]]],"^CJ"]]]]],"^<R",false,"^8",272,"^<S",["^L",[null,"^<T"]],"^:",272,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^?9",["^?;"],"^1I","^;R"]]]]]],"^6","Process the send queues against the remotes. Updates the send queues on the app and returns the updated send queues."],"^>I",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",614,"^9",7,"^:",614,"^;",24,"^;P",["^1G",["^;Q",["^1G",[["^CG",["^ ","^<Y",["^@K","^A5"],"^1I","^=M"]]]]]],"^6","Returns a txnode element iff it has remaining (remote) work that has not been queued. Returns nil if there\n   is no such element.\n\n  remote-names is the set of legal remote names."],"^M","^4@","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",24,"^;U",["^1G",[["^CG","~$p__49560"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^>I","Returns a txnode element iff it has remaining (remote) work that has not been queued. Returns nil if there\n   is no such element.\n\n  remote-names is the set of legal remote names.",["^CG",["^ ","^<Y",["^@K","^A5"],"^1I","^=M"]],["^=[","^=3","^1D",["^1G",["^AY","^=4"]]],["^1G",["^=A",["~$todo",["^1G",["^>2","^CG",["^1G",["^V",["^1G",["^=;","^=K"]]]]]],"~$remaining",["^1G",["^>3","^CS","^A8"]]],["^1G",["^=R",["^1G",["^?3","^CT"]],"^=M"]]]]]]],"^<R",false,"^8",614,"^<S",["^L",[null,"^<T","^>>"]],"^:",614,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^CG",["^ ","^<Y",["^@K","^A5"],"^1I","^=M"]]]]]],"^6","Returns a txnode element iff it has remaining (remote) work that has not been queued. Returns nil if there\n   is no such element.\n\n  remote-names is the set of legal remote names."],"^CL",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",46,"^9",7,"^:",46,"^;",23,"^;P",["^1G",["^;Q",["^1G",[["~$sends"]]]]],"^6","Splits the given send queue into two send queues:\n  [parallel-items sequential-items]."],"^M","^2Q","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",23,"^;U",["^1G",[["^CU"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^CL","Splits the given send queue into two send queues:\n  [parallel-items sequential-items].",["^CU"],[["^1G",["^>[","^<2","~:kind","~$vector?"]],"^1D",["^1G",["~$s/cat","~:p","~:com.fulcrologic.fulcro.algorithms.tx-processing/send-queue","~:rest","^CY"]]],["^1G",["^=A",["^B6",["^1G",["^=6",[["^ ","^<Y",["^?U"]]],["^1G",["^>T",["^1G",["^>Q",["^1G",["^B@","^?Y"]],["^1G",["~:com.fulcrologic.fulcro.algorithms.tx-processing/parallel?","^?Y"]]]]]]]],["^ ","~$parallel",true,"~$sequential",false],["^1G",["~$group-by","^B6","^CU"]]],[["^1G",["~$vec","^D0"]],["^1G",["^D3","^D1"]]]]]]]],"^<R",false,"^8",46,"^<S","~$cljs.core/IVector","^:",46,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^CU"]]]]],"^6","Splits the given send queue into two send queues:\n  [parallel-items sequential-items]."],"~$application-rendered!",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",362,"^9",7,"^:",362,"^;",28,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^<Y",["^>8"],"^1I","^;R"],"^?Y"]]]]],"^6","Should be called after the application renders to ensure that transactions blocked until the next render become\n   unblocked. Schedules an activation."],"^M","^3A","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",28,"^;U",["^1G",[["~$p__49478","^?Y"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^D5","Should be called after the application renders to ensure that transactions blocked until the next render become\n   unblocked. Schedules an activation.",[["^ ","^<Y",["^>8"],"^1I","^;R"],"^?Y"],["^1G",["^=R",["^1G",["^>J",["^1G",["^>U",["~$p1__49477#"],["^1G",["^>T",["^1G",["^>1","^D7","^?U","~:after-render?"]]]]]],["^1G",["^>1","^?;","^>9","~:com.fulcrologic.fulcro.algorithms.tx-processing/submission-queue"]]]],["^1G",["^?C","^?;","^?E","^D9",["^1G",["^=6",["^?Q"],["^1G",["^@N",["^1G",["^=6",["^=H"],["^1G",["^?E","^=H","^?U","^=U","^D8"]]]],"^?Q"]]]]]],["^1G",["^AE","^;R",0]]]]]]],"^<R",false,"^8",362,"^<S",["^L",["^<T","^>>"]],"^:",362,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^<Y",["^>8"],"^1I","^;R"],"^?Y"]]]]],"^6","Should be called after the application renders to ensure that transactions blocked until the next render become\n   unblocked. Schedules an activation."],"^=E",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",330,"^9",7,"^:",330,"^;",16,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^=I",["^?Y"],"^1I","^<X"],"~$addl"],["^;R",["^ ","^<Y",["^?U"],"^1I","^<X"]]]]]],"^AG",["^ ","^<R",false,"^AH",3,"^<U",3,"^;U",[["^;R",["^ ","^=I",["^?Y"],"^1I","^<X"],"^D:"],["^;R",["^ ","^<Y",["^?U"],"^1I","^<X"]]],"^;P",["^1G",[["^;R",["^ ","^=I",["^?Y"],"^1I","^<X"],"^D:"],["^;R",["^ ","^<Y",["^?U"],"^1I","^<X"]]]],"^;W",["^1G",[null,null]]]],"^M","^52","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",16,"^AG",["^ ","^<R",false,"^AH",3,"^<U",3,"^;U",[["^;R",["^ ","^=I",["^?Y"],"^1I","^<X"],"^D:"],["^;R",["^ ","^<Y",["^?U"],"^1I","^<X"]]],"^;P",["^1G",[["^;R",["^ ","^=I",["^?Y"],"^1I","^<X"],"^D:"],["^;R",["^ ","^<Y",["^?U"],"^1I","^<X"]]]],"^;W",["^1G",[null,null]]],"^;U",[["^;R",["^ ","^=I",["^?Y"],"^1I","^<X"],"^D:"],["^;R",["^ ","^<Y",["^?U"],"^1I","^<X"]]],"^;V",null,"^AH",3,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^=E",["^1G",[["^;R",["^ ","^=I",["^?Y"],"^1I","^<X"],"^D:"],["^<1","^=2","^>P","^1D","^>P"],["^1G",["^=A",[["^ ","^<Y",["~$ref","~$component"]],"^?Y"],["^1G",["^@J",["^1G",["~$merge","^D:",["^ ","~:state",["^1G",["^>1","^;R","^C:"]],"~:app","^;R"]]],"^?Y",["^1G",["^@?","^?U","^?Y"]],"^D;",["^1G",["^@?","~:ref","^D;"]],"^D<",["^1G",["^@?","~:component","^D<"]]]]]]]],["^1G",[["^;R",["^ ","^<Y",["^?U"],"^1I","^<X"]],["^<1","^=2","^1D","^>P"],["^1G",["^=E","^;R","^<X",["^ "]]]]]]]],"^<R",false,"^AL",[["^ ","^AH",3,"^<R",false,"^>C",["^L",["^>;","^<T","^>>"]]],["^ ","^AH",2,"^<R",false,"^>C",["^L",["^>;","^<T","^>>"]]]],"^8",330,"^:",330,"^<U",3,"^<V",true,"^;P",["^1G",[["^;R",["^ ","^=I",["^?Y"],"^1I","^<X"],"^D:"],["^;R",["^ ","^<Y",["^?U"],"^1I","^<X"]]]]],"^?Z",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",406,"^9",7,"^:",406,"^;",22,"^;P",["^1G",["^;Q",["^1G",[["^;R","^AF"],["^;R"]]]]],"^6","Schedule actual network activity. If `tm` is not supplied (in ms) it defaults to 0ms.","^AG",["^ ","^<R",false,"^AH",2,"^<U",2,"^;U",[["^;R","^AF"],["^;R"]],"^;P",["^1G",[["^;R","^AF"],["^;R"]]],"^;W",["^1G",[null,null]]]],"^M","^3@","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",22,"^AG",["^ ","^<R",false,"^AH",2,"^<U",2,"^;U",[["^;R","^AF"],["^;R"]],"^;P",["^1G",[["^;R","^AF"],["^;R"]]],"^;W",["^1G",[null,null]]],"^;U",[["^;R","^AF"],["^;R"]],"^;V",null,"^AH",2,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^?Z","Schedule actual network activity. If `tm` is not supplied (in ms) it defaults to 0ms.",["^1G",[["^;R","^AF"],["^<1","^AI","^1D","^<4"],["^1G",["^1C","^;R","~:com.fulcrologic.fulcro.algorithms.tx-processing/sends-scheduled?","^CE","^AF"]]]],["^1G",[["^;R"],["^<1","^1D","^<4"],["^1G",["^?Z","^;R",0]]]]]]],"^<R",false,"^AL",[["^ ","^AH",2,"^<R",false,"^>C",["^L",["^AM","^>>"]]],["^ ","^AH",1,"^<R",false,"^>C",["^L",["^AM","^>>"]]]],"^8",406,"^:",406,"^<U",2,"^<V",true,"^;P",["^1G",[["^;R","^AF"],["^;R"]]],"^6","Schedule actual network activity. If `tm` is not supplied (in ms) it defaults to 0ms."],"~$sort-queue-writes-before-reads",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",77,"^9",7,"^:",77,"^;",37,"^;P",["^1G",["^;Q",["^1G",[["^@R"]]]]],"^6","Sort function on a send queue. Leaves any active nodes in front, and sorts the remainder of the queue so that writes\n  appear before reads, without changing the relative order in blocks of reads/writes."],"^M","^3:","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",37,"^;U",["^1G",[["^@R"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^DC","Sort function on a send queue. Leaves any active nodes in front, and sorts the remainder of the queue so that writes\n  appear before reads, without changing the relative order in blocks of reads/writes.",["^@R"],["^CY","^1D","^CY"],["^1G",["^=A",[["^AQ","^@R"],["^1G",["~$split-with","^BE","^@R"]],"~$id-sequence",["^1G",["^@N",["^1G",["^=6",["~$n"],["^1G",["^>1","~$n","^CN","^<G"]]]],["^1G",["~$partition-by","^<G","^@R"]]]],"~$clusters",["^1G",["^D2","^<G",["^1G",["^D3","^@R"]]]],["^ ","^<Y",["~$reads","~$writes"]],["^1G",["^=5",["^1G",["^=6",["^@U","^A4"],["^1G",["^=A",[[["^ ","^<Y",["^<E"],"^1I","~$n"],"~$&","~$_","^1I","~$cluster"],["^1G",["^<7","^DG","^A4"]]],["^1G",["^@V",["^1G",["~$nil?","^>M"]],"^@U",["^1G",["^BL","^>M"]],["^1G",["^?E","^@U","~:reads","^@8","^DJ"]],["^1G",["~$mutation-ast?","^>M"]],["^1G",["^?E","^@U","~:writes","^@8","^DJ"]],"~:else","^@U"]]]]]],["^ ","^DL",[],"^DN",[]],"^DE"]],"^@R",["^1G",["^@8",[],["^1G",["~$concat","^AQ","^DI","^DH"]]]]],"^@R"]]]]],"^<R",false,"^8",77,"^<S",["^L",[null,"^>;","^<T"]],"^:",77,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^@R"]]]]],"^6","Sort function on a send queue. Leaves any active nodes in front, and sorts the remainder of the queue so that writes\n  appear before reads, without changing the relative order in blocks of reads/writes."],"^@Q",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",928,"^9",7,"^:",928,"^;",13,"^;P",["^1G",["^;Q",["^1G",[["^;R","^?1"]]]]],"^6","Implementation of abort when using this tx processing"],"^M","^58","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",13,"^;U",["^1G",[["^;R","^?1"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^@Q","Implementation of abort when using this tx processing",["^;R","^?1"],["^1G",["^=A",[["^ ","^?9",["^?;"]],["^1G",["^?8","^;R"]],"~$runtime-state",["^1G",["^??","^?;"]],["^ ","^?9",["^=Y"],"^=I",["^A1"]],"^DQ","^CG",["^1G",["^=;","^A1"]],"^CJ",["^1G",["^=5",["^1G",["^=6",["^@U","^;T"],["^1G",["^@?","^@U","^;T",["^1G",["^@O",["^1G",["^<7","^=Y","^;T"]],["^1G",["^<7","^A1","^;T"]],"^?1"]]]]]],["^ "],"^CG"]]],["^1G",["^?C","^?;","^@?","^?B","^CJ"]]]]]]],"^<R",false,"^8",928,"^<S",["^L",[null,"^<T"]],"^:",928,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R","^?1"]]]]],"^6","Implementation of abort when using this tx processing"],"~$with-batched-reads",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",973,"^9",7,"^:",973,"^;",25,"^;P",["^1G",["^;Q",["^1G",[["^;R"],["^;R","^=Y"]]]]],"^6","Modify the given fulcro app so that it does reads in batches when possible. Requires server support (which is\n  provided by Fulcro's handle-api-request), and a remote that can handle raw requests (see the latest http-remote).\n\n  Defaults to enabling batching on all remotes, but if any of your client-side remote code or servers do not support\n  batching, pass the `remotes` option, which is a set of keywords that names the remotes on which batching should\n  be enabled.","^AG",["^ ","^<R",false,"^AH",2,"^<U",2,"^;U",[["^;R"],["^;R","^=Y"]],"^;P",["^1G",[["^;R"],["^;R","^=Y"]]],"^;W",["^1G",[null,null]]]],"^M","^3D","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",25,"^AG",["^ ","^<R",false,"^AH",2,"^<U",2,"^;U",[["^;R"],["^;R","^=Y"]],"^;P",["^1G",[["^;R"],["^;R","^=Y"]]],"^;W",["^1G",[null,null]]],"^;U",[["^;R"],["^;R","^=Y"]],"^;V",null,"^AH",2,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^DR","Modify the given fulcro app so that it does reads in batches when possible. Requires server support (which is\n  provided by Fulcro's handle-api-request), and a remote that can handle raw requests (see the latest http-remote).\n\n  Defaults to enabling batching on all remotes, but if any of your client-side remote code or servers do not support\n  batching, pass the `remotes` option, which is a set of keywords that names the remotes on which batching should\n  be enabled.",["^1G",[["^;R"],["^1G",["^DR","^;R",null]]]],["^1G",[["^;R","^=Y"],["^1G",["^=A",["^=Y",["^1G",["^>Q","^=Y",["^1G",["^@E","^;R","^>8","^>9","^>:","^=;"]]]],"~$batching-enabled",["^1G",["^=8",["^1G",["^?3","^=Y"]],["^1G",["~$zipmap","^=Y",["^1G",["~$repeat",true]]]],["^ "]]]],["^1G",["^>1","^;R",["^1G",["^?D",["~:com.fulcrologic.fulcro.application/algorithms","~:com.fulcrologic.fulcro.algorithm/tx!"],"~$default-tx!"]],["^1G",["^?D",["^DV","~:com.fulcrologic.fulcro.algorithm/abort!"],"^@Q"]],["^1G",["^?D",["~:com.fulcrologic.fulcro.application/config","~:batching-enabled"],"^DS"]]]]]]]]]]],"^<R",false,"^AL",[["^ ","^AH",1,"^<R",false,"^>C","^<T"],["^ ","^AH",2,"^<R",false,"^>C",["^L",["^>;","^<T"]]]],"^8",973,"^:",973,"^<U",2,"^<V",true,"^;P",["^1G",[["^;R"],["^;R","^=Y"]]],"^6","Modify the given fulcro app so that it does reads in batches when possible. Requires server support (which is\n  provided by Fulcro's handle-api-request), and a remote that can handle raw requests (see the latest http-remote).\n\n  Defaults to enabling batching on all remotes, but if any of your client-side remote code or servers do not support\n  batching, pass the `remotes` option, which is a set of keywords that names the remotes on which batching should\n  be enabled."],"^A;",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",522,"^9",7,"^:",522,"^;",31,"^;P",["^1G",["^;Q",["^1G",[["^;R","^<6","^<X","^=0"]]]]],"^6","Add the ::txn/desired-ast-nodes and ::txn/transmitted-ast-nodes for `remote` to the tx-element based on the dispatch for the `remote` of the original mutation."],"^M","^3L","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",31,"^;U",["^1G",[["^;R","^<6","^<X","^=0"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^A;","Add the ::txn/desired-ast-nodes and ::txn/transmitted-ast-nodes for `remote` to the tx-element based on the dispatch for the `remote` of the original mutation.",["^;R","^<6","^<X","^=0"],["^<1","^<3","^=2","^=3","^1D","^=4"],["^1G",["^=A",[["^ ","^=I",["^=K","^=L","~$state-before-action"]],"^=0","^=O",["^1G",["^=E","^;R","^<X",["^ ","^@F","^=L","~:state-before-action","^E0"]]],"~$remote-fn",["^1G",["^<7","^=K","^<6"]],"~$remote-desire",["^1G",["^=R","^E2",["^1G",["^E2","^=O"]]]],"~$desired-ast",["^1G",["^@V",["^1G",["^>Q",["^1G",["~$false?","^E3"]],["^1G",["^DK","^E3"]]]],null,["^1G",["~$true?","^E3"]],"^=L",["^1G",["^>O",["^1G",["^>P","^E3"]],["^1G",["^A9","^E3","^@F"]]]],["^1G",["^@F","^E3"]],["^1G",["^>O",["^1G",["^>P","^E3"]],["^1G",["^A9","^E3","^>S"]]]],"^E3","^DO",["^1G",["^<P",["^1G",["^<J","Remote dispatch for","^<6","returned an invalid value.","^E3","See https://book.fulcrologic.com/#err-txp-remote-dispatch-invalid-res"]],"^E3"]]]],"~$query-transform",["^1G",["^@:","^;R","~:global-eql-transform"]],"^>M",["^1G",["^=8",["^1G",["^>O","^E4","^E7"]],["^1G",["^E7","^E4"]],"^E4"]]],["^1G",["^@J","^=0","^E4",["^1G",["^?D",["~:com.fulcrologic.fulcro.algorithms.tx-processing/desired-ast-nodes","^<6"],"^E4"]],"^>M",["^1G",["^?D",["^B<","^<6"],"^>M"]]]]]]]]],"^<R",false,"^8",522,"^<S",["^L",[null,"^>;","^<T"]],"^:",522,"^<U",4,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R","^<6","^<X","^=0"]]]]],"^6","Add the ::txn/desired-ast-nodes and ::txn/transmitted-ast-nodes for `remote` to the tx-element based on the dispatch for the `remote` of the original mutation."],"^B1",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",415,"^9",7,"^:",415,"^;",23,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^=I",["^A4","^=W"],"^1I","^=H"]]]]]],"^6","Runs any incomplete and non-blocked optimistic operations on a node."],"^M","^3Q","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",23,"^;U",["^1G",[["^;R","~$p__49499"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^B1","Runs any incomplete and non-blocked optimistic operations on a node.",["^;R",["^ ","^=I",["^A4","^=W"],"^1I","^=H"]],["^<1","^=2","^1D","^=@"],["^1G",["^=A",["^=Y",["^1G",["^>7","^;R"]],"~$reduction",["^1G",["^=5",["^1G",["^=6",[["^ ","^<Y",["~$done?","^C5"],"^1I","^>4"],"^=M"],["^1G",["^=8","^E<",["^1G",["^?E","^>4","~:new-elements","^@5","^=M"]],["^1G",["^=A",[["^ ","^=I",["^=9","^=K","^=L","^=J"]],"^=M",["^ ","^<Y",["^=P"]],"^=K","~$remote-set",["^1G",["^>2","^=Y",["^1G",["^V",["^1G",["^=;","^=K"]]]]]],"^C6",["^1G",["^>O","^=P",["^1G",["^?5",["^1G",["^>Q","^E<",["^1G",["^=9","^C0"]]]]]]]],"^AZ",["^1G",["^>O",["^1G",["^>Q","^C6",["^1G",["^=9","^C0"]]]],["^1G",["^C2",["^1G",["^>3","^E>","^=9"]]]]]],"^C7",["^1G",["^C8","^;R"]],"^C9",["^1G",["^C:","^;R"]],"^C;",["^1G",["^??","^C9"]],"~$updated-element",["^1G",["^=8","^C6",["^1G",["^>1","^=M",["^1G",["^@?","^C<","^C;"]],["^1G",["^?E","^<[","^@5","^C0"]]]],"^=M"]],"^E<",["^1G",["^?5","^AZ"]],"^C=",["^ ","~:done?","^E<","^E=",["^1G",["^@5","^C5","^E?"]]],"^=O",["^1G",["^=E","^;R","^=H",["^ ","^@F","^=L"]]]],["^1G",["^=R","^C6",["^1G",["^<;",["^1G",["^=R","^=P",["^1G",["^=P","^=O"]]]],["^1G",["^<H","^<I","~$e",["^1G",["^=A",["~$mutation-symbol",["^1G",["^=S","^=L"]]],["^1G",["^<J","~$e","The `action` section of mutation","^EA","threw an exception. See https://book.fulcrologic.com/#err-txp-mut-action-exc"]]]]]]]],["^1G",["^H",["^<C",["^1G",["^C>","^=L",true]]],["^1G",["^C?","^;R","^=O",["^ ","^C@",["^1G",["^BD","^A4","-","^=J"]],"^CA","^C7","^CB","^C;","^CC",["^1G",["^??","^C9"]],"^CD","^<C"]]]]]]],"^C="]]]]]],["^ ","^E@",false,"^E=",[]],"^=W"]],"^C5",["^1G",["^E=","^E;"]]],["^1G",["^@?","^=H","^=>","^C5"]]]]]]],"^<R",false,"^8",415,"^<S",["^L",["^>;","^<T"]],"^:",415,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R",["^ ","^=I",["^A4","^=W"],"^1I","^=H"]]]]]],"^6","Runs any incomplete and non-blocked optimistic operations on a node."],"^DM",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",65,"^9",7,"^:",65,"^;",20,"^;P",["^1G",["^;Q",["^1G",[["^BI"]]]]],"^6","Returns true if the given AST node or tree represents a mutation or sequence of mutations."],"^M","^24","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",20,"^;U",["^1G",[["^BI"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^DM","Returns true if the given AST node or tree represents a mutation or sequence of mutations.",["^BI"],["^<E","^1D","^?0"],["^1G",["^BH","^BI",["^1G",["^>U",["~$p1__49109#"],["^1G",["~$=","^>R",["^1G",["^>S","^EB"]]]]]]]]]]],"^<R",false,"^8",65,"^<S",["^L",["^>T","^<T"]],"^:",65,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^BI"]]]]],"^6","Returns true if the given AST node or tree represents a mutation or sequence of mutations."],"^AK",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",371,"^9",7,"^:",371,"^;",28,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^<Y",["^>8"],"^1I","^;R"]]]]]],"^6","Activate all of the transactions that have been submitted since the last activation. After the items are activated\n  a single processing step will run for the active queue.\n\n  Activation can be blocked by the tx-node options for things like waiting for the next render frame."],"^M","^3V","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",28,"^;U",["^1G",[["~$p__49483"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^AK","Activate all of the transactions that have been submitted since the last activation. After the items are activated\n  a single processing step will run for the active queue.\n\n  Activation can be blocked by the tx-node options for things like waiting for the next render frame.",[["^ ","^<Y",["^>8"],"^1I","^;R"]],["^<1","^1D","^<4"],["^1G",["^=A",[["^ ","~$blocked",true,"~$ready",false],["^1G",["^D2",["^1G",["~$comp","^>T","^D8","^?U"]],["^1G",["^D9",["^1G",["^??","^?;"]]]]]],"~$dispatched-nodes",["^1G",["^@N",["^1G",["^>U",["~$p1__49481#"],["^1G",["^@A","^EH",["^1G",["^=E","^;R","^EH"]],"~$m/mutate"]]]],"^EE"]]],["^1G",["^?C","^?;",["^1G",["^=6",["~$a"],["^1G",["^>1","~$a",["^1G",["^?E","^?R",["^1G",["^>U",["~$p1__49482#"],["^1G",["^=5","^@5","^EJ","^EG"]]]]]],["^1G",["^@?","^D9",["^1G",["^D3","^ED"]]]]]]]]]],["^1G",["^?[","^;R"]]]]]]],"^<R",false,"^8",371,"^<S","^<T","^:",371,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^<Y",["^>8"],"^1I","^;R"]]]]]],"^6","Activate all of the transactions that have been submitted since the last activation. After the items are activated\n  a single processing step will run for the active queue.\n\n  Activation can be blocked by the tx-node options for things like waiting for the next render frame."],"^CP",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",216,"^9",7,"^:",216,"^;",20,"^;P",["^1G",["^;Q",["^1G",[["^;R","^;T","^@R"]]]]],"^6","Takes a send queue and returns a map containing a new combined send node that can act as a single network request,\n  along with the updated send queue."],"^M","^28","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",20,"^;U",["^1G",[["^;R","^;T","^@R"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^CP","Takes a send queue and returns a map containing a new combined send node that can act as a single network request,\n  along with the updated send queue.",["^;R","^;T","^@R"],["^<1","^<3","^CY","^1D",["^1G",["~$s/keys","~:opt",["^<2"],"~:req",["^CY"]]]],["^1G",["^=8",["^1G",["^?3","^@R"]],["^1G",["^=A",[["^ ","^<Y",["~$supports-raw-body?"]],["^1G",["^<7",["^1G",["^<8","^;R"]],"^;T"]],["~$_active-nodes","^@R"],["^1G",["^DD","^BE","^@R"]],"^@R",["^1G",["^DC",["^1G",["^D3","^@R"]]]],"~$id-to-send",["^1G",["^>1","^@R","^CN","^<G"]],["^>Y","~$to-defer"],["^1G",["^DD",["^1G",["^>U",["~$p1__49324#"],["^1G",["~$=","^EP",["^1G",["^<G","^ER"]]]]]],"^@R"]],"~$leading-mutation?",["^1G",["^>L",["^1G",["^CN","^>Y"]]]],"~$batched-reads?",["^1G",["^?A","^;R",["^DZ","^D[","^;T"],false]],"~$batch?",["^1G",["^>O","^ET","^EN"]]],["^1G",["^=8",["^1G",["^>Q","^ES",["^1G",["^?5","^EU"]]]],["^1G",["^=8",["^1G",["^?3","^>Y"]],["^1G",["^=A",["^BT",["^1G",["^BN","^;R","^;T","^>Y"]]],["^ ","^<2","^BT","^CY",["^1G",["^@8",["^BT"],"^EQ"]]]]],["^ ","^CY","^@R"]]],["^1G",["~$batch-sends","^;R","^;T","^@R"]]]]]],["^ ","^CY",[]]]]]]],"^<R",false,"^8",216,"^<S","^BG","^:",216,"^<U",3,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R","^;T","^@R"]]]]],"^6","Takes a send queue and returns a map containing a new combined send node that can act as a single network request,\n  along with the updated send queue."],"^DX",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",850,"^9",7,"^:",850,"^;",18,"^;P",["^1G",["^;Q",["^1G",[["^;R","^<C"],[["^ ","^?9",["^?;"],"^1I","^;R"],"^<C",["^ ","^<Y",["~$synchronous?"],"^1I","^?Y"]]]]]],"^6","Default (Fulcro-2 compatible) transaction submission. The options map can contain any additional options\n  that might be used by the transaction processing (or UI refresh).\n\n  Some that may be supported (depending on application settings):\n\n  - `:optimistic?` - boolean. Should the transaction be processed optimistically?\n  - `:ref` - ident. The component ident to include in the transaction env.\n  - `:component` - React element. The instance of the component that should appear in the transaction env.\n  - `:refresh` - Vector containing idents (of components) and keywords (of props). Things that have changed and should be re-rendered\n    on screen. Only necessary when the underlying rendering algorithm won't auto-detect, such as when UI is derived from the\n    state of other components or outside of the directly queried props. Interpretation depends on the renderer selected:\n    The ident-optimized render treats these as \"extras\".\n  - `:only-refresh` - Vector of idents/keywords.  If the underlying rendering configured algorithm supports it: The\n    components using these are the *only* things that will be refreshed in the UI.\n    This can be used to avoid the overhead of looking for stale data when you know exactly what\n    you want to refresh on screen as an extra optimization. Idents are *not* checked against queries.\n\n  WARNING: `:only-refresh` can cause missed refreshes because rendering is debounced. If you are using this for\n           rapid-fire updates like drag-and-drop it is recommended that on the trailing edge (e.g. drop) of your sequence you\n           force a normal refresh via `app/render!`.\n\n  If the `options` include `:ref` (which comp/transact! sets), then it will be auto-included on the `:refresh` list.\n\n  NOTE: Fulcro 2 'follow-on reads' are supported and are added to the `:refresh` entries. Your choice of rendering\n  algorithm will influence their necessity.\n\n  Returns the transaction ID of the submitted transaction.\n  ","^AG",["^ ","^<R",false,"^AH",3,"^<U",3,"^;U",[["^;R","^<C"],[["^ ","^?9",["^?;"],"^1I","^;R"],"^<C",["^ ","^<Y",["^EW"],"^1I","^?Y"]]],"^;P",["^1G",[["^;R","^<C"],[["^ ","^?9",["^?;"],"^1I","^;R"],"^<C",["^ ","^<Y",["^EW"],"^1I","^?Y"]]]],"^;W",["^1G",[null,null]]]],"^M","^3Z","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",18,"^AG",["^ ","^<R",false,"^AH",3,"^<U",3,"^;U",[["^;R","^<C"],[["^ ","^?9",["^?;"],"^1I","^;R"],"^<C",["^ ","^<Y",["^EW"],"^1I","^?Y"]]],"^;P",["^1G",[["^;R","^<C"],[["^ ","^?9",["^?;"],"^1I","^;R"],"^<C",["^ ","^<Y",["^EW"],"^1I","^?Y"]]]],"^;W",["^1G",[null,null]]],"^;U",[["^;R","^<C"],[["^ ","^?9",["^?;"],"^1I","^;R"],"^<C",["^ ","^<Y",["^EW"],"^1I","^?Y"]]],"^;V",null,"^AH",3,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^DX","Default (Fulcro-2 compatible) transaction submission. The options map can contain any additional options\n  that might be used by the transaction processing (or UI refresh).\n\n  Some that may be supported (depending on application settings):\n\n  - `:optimistic?` - boolean. Should the transaction be processed optimistically?\n  - `:ref` - ident. The component ident to include in the transaction env.\n  - `:component` - React element. The instance of the component that should appear in the transaction env.\n  - `:refresh` - Vector containing idents (of components) and keywords (of props). Things that have changed and should be re-rendered\n    on screen. Only necessary when the underlying rendering algorithm won't auto-detect, such as when UI is derived from the\n    state of other components or outside of the directly queried props. Interpretation depends on the renderer selected:\n    The ident-optimized render treats these as \"extras\".\n  - `:only-refresh` - Vector of idents/keywords.  If the underlying rendering configured algorithm supports it: The\n    components using these are the *only* things that will be refreshed in the UI.\n    This can be used to avoid the overhead of looking for stale data when you know exactly what\n    you want to refresh on screen as an extra optimization. Idents are *not* checked against queries.\n\n  WARNING: `:only-refresh` can cause missed refreshes because rendering is debounced. If you are using this for\n           rapid-fire updates like drag-and-drop it is recommended that on the trailing edge (e.g. drop) of your sequence you\n           force a normal refresh via `app/render!`.\n\n  If the `options` include `:ref` (which comp/transact! sets), then it will be auto-included on the `:refresh` list.\n\n  NOTE: Fulcro 2 'follow-on reads' are supported and are added to the `:refresh` entries. Your choice of rendering\n  algorithm will influence their necessity.\n\n  Returns the transaction ID of the submitted transaction.\n  ",["^1G",[["^;R","^<C"],["^<1","~:com.fulcrologic.fulcro.algorithms.tx-processing/tx","^1D","^<G"],["^1G",["^DX","^;R","^<C",["^ "]]]]],["^1G",[[["^ ","^?9",["^?;"],"^1I","^;R"],"^<C",["^ ","^<Y",["^EW"],"^1I","^?Y"]],["^<1","^EX","^?U","^1D","^<G"],["^1G",["^=8","^EW",["^1G",["~$transact-sync!","^;R","^<C","^?Y"]],["^1G",["^<P",["^1G",["^AE","^;R"]],["^1G",["^=A",[["^ ","^<Y",["~$refresh","~$only-refresh","^D;"],"^1I","^?Y"],["^1G",["^D=",["^ ","^?X",true],"^?Y"]],"~$follow-on-reads",["^1G",["^@8",["^L",[]],["^1G",["~$filter",["^1G",["^>U",["~$p1__49634#"],["^1G",["^>Q",["^1G",["^AP","^F2"]],["^1G",["~$eql/ident?","^F2"]]]]]],"^<C"]]]],"^=H",["^1G",["^<X","^<C","^?Y"]],"^@6",["^1G",["^=6",["~$r","^@7"],["^1G",["^@8",["^1G",["^V","~$r"]],"^@7"]]]],"^EZ",["^1G",["^@J",["^1G",["^V","^EZ"]],["^1G",["^?3","^F0"]],["^1G",["^@8","^F0"]],"^D;",["^1G",["^@5","^D;"]]]]],["^1G",["^?C","^?;",["^1G",["^=6",["~$s"],["^1G",["^@J",["^1G",["^?E","~$s","^D9",["^1G",["^=6",["~$v","~$n"],["^1G",["^@5",["^1G",["^D3","~$v"]],"~$n"]]]],"^=H"]],["^1G",["^?3","^EZ"]],["^1G",["^?E","^@@","^@6","^EZ"]],["^1G",["^?3","^E["]],["^1G",["^?E","~:com.fulcrologic.fulcro.application/only-refresh","^@6","^E["]]]]]]]],["^1G",["^<G","^=H"]]]]]]]]]]]]],"^<R",false,"^AL",[["^ ","^AH",2,"^<R",false,"^>C","^<T"],["^ ","^AH",3,"^<R",false,"^>C","^<T"]],"^8",850,"^:",850,"^<U",3,"^<V",true,"^;P",["^1G",[["^;R","^<C"],[["^ ","^?9",["^?;"],"^1I","^;R"],"^<C",["^ ","^<Y",["^EW"],"^1I","^?Y"]]]],"^6","Default (Fulcro-2 compatible) transaction submission. The options map can contain any additional options\n  that might be used by the transaction processing (or UI refresh).\n\n  Some that may be supported (depending on application settings):\n\n  - `:optimistic?` - boolean. Should the transaction be processed optimistically?\n  - `:ref` - ident. The component ident to include in the transaction env.\n  - `:component` - React element. The instance of the component that should appear in the transaction env.\n  - `:refresh` - Vector containing idents (of components) and keywords (of props). Things that have changed and should be re-rendered\n    on screen. Only necessary when the underlying rendering algorithm won't auto-detect, such as when UI is derived from the\n    state of other components or outside of the directly queried props. Interpretation depends on the renderer selected:\n    The ident-optimized render treats these as \"extras\".\n  - `:only-refresh` - Vector of idents/keywords.  If the underlying rendering configured algorithm supports it: The\n    components using these are the *only* things that will be refreshed in the UI.\n    This can be used to avoid the overhead of looking for stale data when you know exactly what\n    you want to refresh on screen as an extra optimization. Idents are *not* checked against queries.\n\n  WARNING: `:only-refresh` can cause missed refreshes because rendering is debounced. If you are using this for\n           rapid-fire updates like drag-and-drop it is recommended that on the trailing edge (e.g. drop) of your sequence you\n           force a normal refresh via `app/render!`.\n\n  If the `options` include `:ref` (which comp/transact! sets), then it will be auto-included on the `:refresh` list.\n\n  NOTE: Fulcro 2 'follow-on reads' are supported and are added to the `:refresh` entries. Your choice of rendering\n  algorithm will influence their necessity.\n\n  Returns the transaction ID of the submitted transaction.\n  "],"^EY",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",803,"^9",7,"^:",803,"^;",21,"^;P",["^1G",["^;Q",["^1G",[["^;R","^<C",["^ ","^<Y",["^D<","^D;"],"^1I","^?Y"]]]]]],"^6","Run the optimistic action(s) of a transaction synchronously. It is primarily used to deal with controlled inputs, since they\n   have issues working asynchronously, so ideally the mutation in question will *not* have remote action (though they\n   are allowed to).\n\n   NOTE: any *remote* behaviors of `tx` will *still be async*.\n\n   This function:\n\n   * Runs the optimistic side of the mutation(s)\n   * IF (and only if) one or more of the mutations has more sections than just an `action` then it submits the mutation to the normal transaction queue,\n     but with the optimistic part already done.\n   * This functions *does not* queue a render refresh (though if the normal transaction queue is updated, it will queue tx remote processing, which will trigger a UI refresh).\n\n   If you pass it an on-screen instance that has a query and ident, then this function tunnel updated UI props synchronously to that\n   component so it can refresh immediately and avoid DOM input issues.\n\n   Returns the new component props or the final state map if no component was used in the transaction.\n   "],"^M","^44","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",21,"^;U",["^1G",[["^;R","^<C","~$p__49627"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^EY","Run the optimistic action(s) of a transaction synchronously. It is primarily used to deal with controlled inputs, since they\n   have issues working asynchronously, so ideally the mutation in question will *not* have remote action (though they\n   are allowed to).\n\n   NOTE: any *remote* behaviors of `tx` will *still be async*.\n\n   This function:\n\n   * Runs the optimistic side of the mutation(s)\n   * IF (and only if) one or more of the mutations has more sections than just an `action` then it submits the mutation to the normal transaction queue,\n     but with the optimistic part already done.\n   * This functions *does not* queue a render refresh (though if the normal transaction queue is updated, it will queue tx remote processing, which will trigger a UI refresh).\n\n   If you pass it an on-screen instance that has a query and ident, then this function tunnel updated UI props synchronously to that\n   component so it can refresh immediately and avoid DOM input issues.\n\n   Returns the new component props or the final state map if no component was used in the transaction.\n   ",["^;R","^<C",["^ ","^<Y",["^D<","^D;"],"^1I","^?Y"]],["^1G",["^=A",["~$mutation-nodes",["^1G",["^>W",["^1G",["^BP","^<C"]]]],"~$ast-node->operation",["^1G",["^DT","^F6",["^1G",["^AC",["^1G",["^=6",["~$ast-node"],["^1G",["^EI",["^ ","^@F","^F8"]]]]],"^F6"]]]],["^ ","~$optimistic",true,"~$mixed",false],["^1G",["^D2",["^1G",["^>U",["~$p1__49626#"],["^1G",["~$=",["^L",["^C0","~:result-action"]],["^1G",["^>1",["^1G",["^F7","^F;"]],"^=;","^V"]]]]]],"^F6"]],"~$optimistic-tx-node",["^1G",["^=R",["^1G",["^?3","^F9"]],["^1G",["^=A",["^=H",["^1G",["^<X",["^1G",["~$eql/ast->query",["^ ","^>S","^AB","^>W","^F9"]]],"^?Y"]]],["^1G",["^@A","^=H",["^1G",["^=E","^;R","^=H"]],"^EI"]]]]]],"~$mixed-tx-node",["^1G",["^=R",["^1G",["^?3","^F:"]],["^1G",["^=A",["^=H",["^1G",["^<X",["^1G",["^F>",["^ ","^>S","^AB","^>W","^F:"]]],"^?Y"]]],["^1G",["^@A","^=H",["^1G",["^=E","^;R","^=H"]],"^EI"]]]]]],"~$resulting-node-id",["^1G",["^CI",null]]],["^1G",["^=R","^F=",["^1G",["^B0","^;R","^F="]]]],["^1G",["^=R","^F?",["^1G",["^=A",["^=H",["^1G",["^B0","^;R","^F?"]],"^?;",["^1G",["^>8","^;R"]]],["^1G",["~$reset!","^F@",["^1G",["^<G","^=H"]]]],["^1G",["^?C","^?;","^?E","^?R","^@5","^=H"]],["^1G",["^B;","^;R",20]]]]]],["^1G",["^@V",["^1G",["^>O","^D<",["^1G",["~$rc/component?","^D<"]],["^1G",["~$rc/has-ident?","^D<"]]]],["^1G",["~$when-let",["~$refresh-component!",["^1G",["^@:","^;R","~:refresh-component!"]]],["^1G",["^FE","^D<"]]]],"^D;",["^1G",["^=A",["~$r!",["^1G",["^@:","^;R","~:render!"]]],["^1G",["^=R","^FG",["^1G",["^FG","^;R"]]]]]],"^DO",["^1G",["^=R","^4?",["^1G",["^?L","Synchronous transaction was submitted on the app or a component without an ident. No UI refresh will happen. See https://book.fulcrologic.com/#warn-tx-missing-ident"]]]]]],["^1G",["^??","^F@"]]]]]]],"^<R",false,"^8",803,"^<S","^<T","^:",803,"^<U",3,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R","^<C",["^ ","^<Y",["^D<","^D;"],"^1I","^?Y"]]]]]],"^6","Run the optimistic action(s) of a transaction synchronously. It is primarily used to deal with controlled inputs, since they\n   have issues working asynchronously, so ideally the mutation in question will *not* have remote action (though they\n   are allowed to).\n\n   NOTE: any *remote* behaviors of `tx` will *still be async*.\n\n   This function:\n\n   * Runs the optimistic side of the mutation(s)\n   * IF (and only if) one or more of the mutations has more sections than just an `action` then it submits the mutation to the normal transaction queue,\n     but with the optimistic part already done.\n   * This functions *does not* queue a render refresh (though if the normal transaction queue is updated, it will queue tx remote processing, which will trigger a UI refresh).\n\n   If you pass it an on-screen instance that has a query and ident, then this function tunnel updated UI props synchronously to that\n   component so it can refresh immediately and avoid DOM input issues.\n\n   Returns the new component props or the final state map if no component was used in the transaction.\n   "],"^>F",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",604,"^9",7,"^:",604,"^;",17,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^<Y",["^=>"],"^1I","^<X"]]]]]],"^6","Returns true if the given node has no active network operations."],"^M","^41","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",17,"^;U",["^1G",[["~$p__49555"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^>F","Returns true if the given node has no active network operations.",[["^ ","^<Y",["^=>"],"^1I","^<X"]],["^=2","^1D","^?0"],["^1G",["^?4",["^1G",["^=6","~$idle?*",[["^ ","^<Y",["^A5","^<["]]],["^1G",["^=A",["~$in-progress",["^1G",["^>3","^A8","^=9"]]],["^1G",["^C2","^FK"]]]]]],"^=W"]]]]],"^<R",false,"^8",604,"^<S","^>T","^:",604,"^<U",1,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[[["^ ","^<Y",["^=>"],"^1I","^<X"]]]]]],"^6","Returns true if the given node has no active network operations."],"^@=",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",735,"^9",7,"^:",735,"^;",26,"^;P",["^1G",["^;Q",["^1G",[["^;R","^?Q"]]]]]],"^M","^2A","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",26,"^;U",["^1G",[["^;R","^?Q"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^@=",["^;R","^?Q"],["^<1",["^1G",["^>[","^=2"]],"^1D","~$set?"],"Returns a set of refreshes that have been requested by active mutations in the queue",["^1G",["^=5",["^1G",["^=6",["~$outer-acc","^<X"],["^1G",["^=A",["^=O",["^1G",["^=E","^;R","^<X"]]],["^1G",["^=5",["^1G",["^=6",["^>4","^=M"],["^1G",["^=A",[["^ ","^=I",["^=K"]],"^=M","^EZ",["^1G",["~:refresh","^=K"]]],["^1G",["^=8","^EZ",["^1G",["^@8","^>4",["^1G",["^V",["^1G",["^EZ","^=O"]]]]]],"^>4"]]]]]],"^FM",["^1G",["^=>","^<X"]]]]]]]],["^L",[]],"^?Q"]]]]],"^<R",false,"^8",735,"^<S",["^L",[null,"^<T"]],"^:",735,"^<U",2,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R","^?Q"]]]]]],"^=:",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",656,"^9",7,"^:",656,"^;",23,"^;P",["^1G",["^;Q",["^1G",[["^;R","^<X",["^ ","^=I",["^=<","^=K","~$desired-ast-nodes","~$transmitted-ast-nodes","^=L"],"^1I","^=0"],"^<6"]]]]],"^6","Figure out the dispatch routine to trigger for the given network result.  If it exists, send the result\n  to it.\n\n  Returns the tx-element with the remote marked complete."],"^M","^4>","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",23,"^;U",["^1G",[["^;R","^<X","~$p__49569","^<6"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^=:","Figure out the dispatch routine to trigger for the given network result.  If it exists, send the result\n  to it.\n\n  Returns the tx-element with the remote marked complete.",["^;R","^<X",["^ ","^=I",["^=<","^=K","^FO","^FP","^=L"],"^1I","^=0"],"^<6"],["^<1","^=2","^=3","^AP","^1D","^=4"],["^1G",["^B;","^;R",0]],["^1G",["^=A",["^@U",["^1G",["^<7","^=<","^<6"]],"^B>",["^1G",["^<7","^=K","^F<"]]],["^1G",["^=R","^B>",["^1G",["^=A",["^=O",["^1G",["^=E","^;R","^<X",["^ ","~:dispatch","^=K","~:transacted-ast","^=L","~:mutation-ast",["^1G",["^<7","^FO","^<6"]],"~:transmitted-ast",["^1G",["^<7","^FP","^<6"]],"~:result","^@U"]]]],["^1G",["^<;",["^1G",["^B>","^=O"]],["^1G",["^<H","^<I","~$e",["^1G",["^<J","~$e","The result-action mutation handler for mutation",["^1G",["^=S","^=L"]],"threw an exception. See https://book.fulcrologic.com/#err-txp-mut-res-action-exc"]]]]]]]]]]]],["^1G",["^?E","^=0","^<[","^@5","^<6"]]]]],"^<R",false,"^8",656,"^<S",["^L",["^>;","^<T"]],"^:",656,"^<U",4,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R","^<X",["^ ","^=I",["^=<","^=K","^FO","^FP","^=L"],"^1I","^=0"],"^<6"]]]]],"^6","Figure out the dispatch routine to trigger for the given network result.  If it exists, send the result\n  to it.\n\n  Returns the tx-element with the remote marked complete."],"^EV",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",165,"^9",7,"^:",165,"^;",18,"^;P",["^1G",["^;Q",["^1G",[["^;R","^;T","^@R"]]]]]],"^M","^2D","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",18,"^;U",["^1G",[["^;R","^;T","^@R"]]],"^;V",null,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^EV",["^;R","^;T","^@R"],["^<1","^<3","^CY","^1D",["^1G",["^EK","^EL",["^<2"],"^EM",["^CY"]]]],["^1G",["^=A",["~$prime-leader",["^1G",["^CN","^@R"]],["^ ","~$prime-candidates",true,"^EQ",false],["^1G",["^D2",["^1G",["^=6",["~$n"],["^1G",["^>X",["^FW"],"~$n"]]]],"^@R"]],["^ ","^<Y",["^<>","~$remainder"]],["^1G",["~$loop",["^@U",["^ ","~:batch",[],"~:remainder","^EQ"],"^?Q","^FX"],["^1G",["^=A",["^>Z",["^1G",["^CN","^?Q"]],["^>Y","^FY"],["^1G",["^DD",["^1G",["^>U",["~$p1__49266#"],["^1G",["~$=",["^1G",["^<G","^>Z"]],["^1G",["^<G","^G1"]]]]]],"^?Q"]]],["^1G",["^=A",["^BT",["^1G",["^BN","^;R","^;T","^>Y"]],"~$new-result",["^1G",["^?E","^@U","^F[","^@5","^BT"]]],["^1G",["^=8",["^1G",["^?3","^FY"]],["^1G",["~$recur","^G2","^FY"]],"^G2"]]]]]]]],"~$batch-node-id",["^1G",["^BR"]],"~$batch-node-idx",0,"^B=","^>?","~$batch-node",["^ ","^<G","^G4","^A3","^G5","~:com.fulcrologic.fulcro.algorithms.tx-processing/raw-body",["^ ","~:queries",["^1G",["^@N",["^1G",["^=6",[["^ ","^=I",["^>M"]]],["^1G",["^<D","^>M"]]]],"^<>"]]],"^?U",["^1G",["^>Q",["^1G",["^?U","^FW"]],["^ "]]],"^<?","^<>","^BF",["^1G",["^=6",["^BU"],["^1G",["^FZ",[["^ ","^=I",["^B9"]],["^1G",["^CN","^<>"]],"~$more-batch",["^1G",["~$next","^<>"]],"^@U",["^1G",["^CN","^BU"]],"~$more-result",["^1G",["^G:","^BU"]]],["^1G",["^=R","^B9",["^1G",["^B9","^@U"]]]],["^1G",["^=R",["^1G",["^>O",["^1G",["^?3","^G9"]],["^1G",["^?3","^G;"]]]],["^1G",["^G3",["^1G",["^CN","^G9"]],["^1G",["^G:","^G9"]],["^1G",["^CN","^G;"]],["^1G",["^G:","^G;"]]]]]]]]]],"^<L",["^1G",["^=6",[["^ ","^<Y",["^BB"],"^1I","~$batch-result"]],["^1G",["^B=","^;R","^;T","^G4","^G5"]],["^1G",["^FZ",[["^ ","^=I",["^?J"]],["^1G",["^CN","^<>"]],"^G9",["^1G",["^G:","^<>"]],"^@U",["^1G",["^CN","^BB"]],"^G;",["^1G",["^G:","^BB"]]],["^1G",["^?J",["^1G",["^@?","^G<","^?M","^@U"]]]],["^1G",["^=R",["^1G",["^>O",["^1G",["^?3","^G9"]],["^1G",["^?3","^G;"]]]],["^1G",["^G3",["^1G",["^CN","^G9"]],["^1G",["^G:","^G9"]],["^1G",["^CN","^G;"]],["^1G",["^G:","^G;"]]]]]]]]]],"^BE",true]],["^1G",["^=R",["^1G",["~$>",["^1G",["^AW","^<>"]],1]],["^1G",["~$log/debug","Batched:",["^1G",["^AW","^<>"]]]]]],["^ ","^<2","^G6","^CY",["^1G",["^@8",["^G6"],"^FY"]]]]]]]],"^<R",false,"^8",165,"^<S","^BG","^:",165,"^<U",3,"^<V",true,"^;P",["^1G",["^;Q",["^1G",[["^;R","^;T","^@R"]]]]]],"^<X",["^ ","^;O",null,"^5",["^ ","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^8",304,"^9",7,"^:",304,"^;",14,"^;P",["^1G",["^;Q",["^1G",[["^<C"],["^<C","^?Y"]]]]],"^AG",["^ ","^<R",false,"^AH",2,"^<U",2,"^;U",[["^<C"],["^<C","^?Y"]],"^;P",["^1G",[["^<C"],["^<C","^?Y"]]],"^;W",["^1G",[null,null]]]],"^M","^4=","^7","com/fulcrologic/fulcro/algorithms/tx_processing/batched_processing.cljc","^;",14,"^AG",["^ ","^<R",false,"^AH",2,"^<U",2,"^;U",[["^<C"],["^<C","^?Y"]],"^;P",["^1G",[["^<C"],["^<C","^?Y"]]],"^;W",["^1G",[null,null]]],"^;U",[["^<C"],["^<C","^?Y"]],"^;V",null,"^AH",2,"^;W",["^1G",[null,null]],"^9",1,"^;X",["^ ","^;Y","^;Z","^;[",["^1G",["^<0","^<X",["^1G",[["^<C"],["^EX","^1D","^=@"],["^1G",["^<X","^<C",["^ "]]]]],["^1G",[["^<C","^?Y"],["^EX","^?U","^1D","^=@"],["^1G",["^=A",["^>M",["^1G",["^BP","^<C"]],"~$ast-nodes",["^1G",["^>W","^>M"]],"^=W",["^1G",["^@8",[],["^1G",["^EF",["^1G",["^F1",["^1G",["^=6","~$txfilt*",["~$n"],["^1G",["~$=","^>R",["^1G",["^>S","~$n"]]]]]]]],["^1G",["~$map-indexed",["^1G",["^=6","~$->txnode*",["^=J","^F8"],["^ ","^A3","^=J","^@H","^F8","^A5",["^L",[]],"^<[",["^L",[]],"^<Z",["^ "],"^@K",["^ "]]]]]]]],"^G>"]]],["^ ","^<G",["^1G",["^BR"]],"~:com.fulcrologic.fulcro.algorithms.tx-processing/created",["^1G",["~$futil/now"]],"^?U","^?Y","^EX","^<C","^=>","^=W"]]]]]]]],"^<R",false,"^AL",[["^ ","^AH",1,"^<R",false,"^>C","^<T"],["^ ","^AH",2,"^<R",false,"^>C","^BG"]],"^8",304,"^:",304,"^<U",2,"^<V",true,"^;P",["^1G",[["^<C"],["^<C","^?Y"]]]]],"^1E",["^ ","^A","^B","^J","^J","^Y","^Z","^10","^10","^11","^12","^G","^G","^15","^G","~$m","^17","^1;","^1<","^17","^17","~$s","^B","^Z","^Z","^12","^12","^1<","^1<","^B","^B"],"~:cljs.analyzer/constants",["^ ","^1@",["^L",["^B5","~:req-un","~:opt-un","^=F","^CA","~:only-refresh","~:gfn","^>W","~:pred-exprs","~:keys-pred","^CY","^DN","^2=","^<Z","^DZ","^FS","~:opt-keys","^GB","^<E","~:supports-raw-body?","^BF","^AD","^FN","^DO","^C3","^>R","^?O","^CC","^D@","~$cljs.spec.alpha/coll-of","~:synchronous?","~:cljs.spec.alpha/kind-form","^FH","~:warn","~:req-specs","^FU","^E@","^?N","^DY","^DB","^@F","^>S","^D[","^E8","~:debug","^=3","^D>","^39","^DW","^3<","~:cljs.spec.alpha/cpred","^<M","^D8","^DA","^@;","^C<","^=>","^C:","^F4","~$%","^?=","^@X","^=@","^E1","^F[","~:fatal","^CB","^<1","^FR","^FF","^<:","^EM","^=4","^=2","^CD","^@@","^FT","^<?","^AB","^FV","^>8","^@K","^CV","^?X","^EX","^=Q","^D?","~:req-keys","^A5","~$cljs.core/fn","^=S","^D9","~:opt-specs","^?R","^DV","^<G","~:pred-forms","^<N","^C0","~:error","^C@","^<3","^G0","^?B","^F<","^=V","^=G","^G8","^?M","^B4","^AJ","^?U","^B@","~:auto","^AA","~:p","^E=","^@H","^>:","^<2","~:cljs.spec.alpha/conform-all","^CZ","^?F","^BE","^<[","^A3","^<Q","^=[","^E9","^G7","~:cljs.spec.alpha/describe","^EL","^C[","^DL","^<L","^B<"]],"~:order",["^>8","^?B","^<G","^A3","^<1","^>:","^=[","^<2","^G[","^CV","^GO","^H0","^GS","^2=","^GM","~:p","^CZ","^CY","^?U","^B@","^C[","^<E","^AB","^>S","^>W","^>R","^BE","^DL","^DN","^DO","^AD","^AA","^BF","^<L","^?M","^<M","^B4","^B5","^<3","^GE","^GF","^GH","^GI","^GJ","^GK","^GQ","^EM","^GU","^GW","^GX","^EL","^GV","~$%","^3<","^39","^F[","^G0","^G7","^<?","^G8","^GR","^GZ","^GL","^DZ","^D[","^<:","^GY","^GT","^<N","^<Q","^EX","^=@","^@H","^A5","^<[","^<Z","^@K","^GB","^=>","^=2","^D@","^DA","^D>","^D?","^C:","^@F","^D8","^D9","^?R","^AJ","^C3","^DB","^E@","^E=","^C0","^C<","^=S","^C@","^CA","^CB","^CC","^CD","^=3","^=4","^E1","^E8","^E9","^B<","^=V","^?X","^F<","^FR","^FS","^FT","^FU","^FV","^=F","^=G","^=Q","^FN","^?F","^@;","^@@","^FF","^FH","^GP","^GN","^GG","^F4","^?=","^@X","^?N","^?O","^DV","^DW","^DY"]],"^1K",["^ ","^1A",["^L",[]]],"^1L",["^ "],"^1M",["^13","^10","^W","^B","^U","^16","^1>","^18","^1:","^17","^12","^14","^G","^J","^X","^1<","^Z"]],"^Q","^N","~:ns-specs",["^ "],"~:ns-spec-vars",["^L",[]],"~:compiler-options",["^5?",[["^H4","~:static-fns"],true,["~:js-options","~:use-babel"],null,["^H4","~:shadow-tweaks"],null,["^H4","~:source-map-inline"],null,["^H4","~:elide-asserts"],false,["^H4","~:optimize-constants"],null,["^H4","^1R"],null,["^H4","~:external-config"],null,["^H4","~:tooling-config"],null,["^H4","~:emit-constants"],null,["^H4","~:load-tests"],null,["^H4","~:form-size-threshold"],null,["^H4","~:global-goog-object&array"],null,["^H4","~:data-readers"],null,["^H4","~:infer-externs"],"^GZ",["^H4","^1T"],null,["^H6","~:js-provider"],"~:shadow",["~:mode"],"~:dev",["^H4","~:fn-invoke-direct"],null,["^H4","~:source-map"],"/dev/null"]]]